2025-12-25 22:58:49,487 - app - INFO - Root endpoint accessed
2025-12-25 22:58:49,492 - app - INFO - Request: GET / - Status: 200 - Duration: 7.49ms
2025-12-25 22:58:49,492 - uvicorn.access - INFO - 127.0.0.1:41638 - "GET / HTTP/1.1" 200
2025-12-25 22:58:49,500 - app - INFO - Request: GET /test-error - Status: 404 - Duration: 0.82ms
2025-12-25 22:58:49,500 - uvicorn.access - INFO - 127.0.0.1:41638 - "GET /test-error HTTP/1.1" 404
2025-12-25 22:58:56,909 - uvicorn.error - INFO - Shutting down
2025-12-25 22:58:57,013 - uvicorn.error - INFO - Waiting for application shutdown.
2025-12-25 22:58:57,013 - app - INFO - Shutting down application...
2025-12-25 22:58:57,013 - uvicorn.error - INFO - Application shutdown complete.
2025-12-25 22:58:57,013 - uvicorn.error - INFO - Finished server process [140001]
2025-12-25 22:59:36,193 - app - CRITICAL - Failed to start application: Simulated startup failure!
2025-12-25 22:59:36,194 - app - CRITICAL - Traceback (most recent call last):
  File "/home/rehack/PycharmProjects/solpro_backend/app/main.py", line 17, in <module>
    import app.broken_module # This will crash
    ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rehack/PycharmProjects/solpro_backend/app/broken_module.py", line 1, in <module>
    raise RuntimeError("Simulated startup failure!")
RuntimeError: Simulated startup failure!

2025-12-30 20:14:14,899 - uvicorn.error - INFO - Started server process [58342]
2025-12-30 20:14:14,899 - uvicorn.error - INFO - Waiting for application startup.
2025-12-30 20:14:14,900 - app - INFO - Starting up application...
2025-12-30 20:14:14,914 - uvicorn.error - INFO - Application startup complete.
2025-12-30 20:15:43,182 - app - INFO - Request: POST /api/v1/auth/login/access-token - Status: 200 - Duration: 379.68ms
2025-12-30 20:15:43,182 - uvicorn.access - INFO - 127.0.0.1:42206 - "POST /api/v1/auth/login/access-token HTTP/1.1" 200
2025-12-30 20:15:44,502 - app - ERROR - Request failed: GET /api/v1/users/me - Duration: 131.92ms - Error: (sqlite3.OperationalError) no such column: prop_firm_registration.service_scope
[SQL: SELECT prop_firm_registration.user_id AS prop_firm_registration_user_id, prop_firm_registration.id AS prop_firm_registration_id, prop_firm_registration.login_id AS prop_firm_registration_login_id, prop_firm_registration.password AS prop_firm_registration_password, prop_firm_registration.propfirm_name AS prop_firm_registration_propfirm_name, prop_firm_registration.propfirm_website_link AS prop_firm_registration_propfirm_website_link, prop_firm_registration.server_name AS prop_firm_registration_server_name, prop_firm_registration.server_type AS prop_firm_registration_server_type, prop_firm_registration.challenges_step AS prop_firm_registration_challenges_step, prop_firm_registration.service_scope AS prop_firm_registration_service_scope, prop_firm_registration.order_id AS prop_firm_registration_order_id, prop_firm_registration.propfirm_account_cost AS prop_firm_registration_propfirm_account_cost, prop_firm_registration.account_size AS prop_firm_registration_account_size, prop_firm_registration.account_phases AS prop_firm_registration_account_phases, prop_firm_registration.trading_platform AS prop_firm_registration_trading_platform, prop_firm_registration.propfirm_rules AS prop_firm_registration_propfirm_rules, prop_firm_registration.whatsapp_no AS prop_firm_registration_whatsapp_no, prop_firm_registration.telegram_username AS prop_firm_registration_telegram_username, prop_firm_registration.account_status AS prop_firm_registration_account_status, prop_firm_registration.created_at AS prop_firm_registration_created_at, prop_firm_registration.updated_at AS prop_firm_registration_updated_at 
FROM prop_firm_registration 
WHERE prop_firm_registration.user_id IN (?)]
[parameters: ('6affb04777824af5acc7646740ae90f3',)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-12-30 20:15:44,544 - app - ERROR - Traceback (most recent call last):
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/engine/default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 180, in execute
    self._adapt_connection._handle_exception(error)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 340, in _handle_exception
    raise error
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 162, in execute
    self.await_(_cursor.execute(operation, parameters))
    ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 132, in await_only
    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501
           ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 196, in greenlet_spawn
    value = await result
            ^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/aiosqlite/cursor.py", line 40, in execute
    await self._execute(self._cursor.execute, sql, parameters)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/aiosqlite/cursor.py", line 32, in _execute
    return await self._conn._execute(fn, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
sqlite3.OperationalError: no such column: prop_firm_registration.service_scope

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/home/rehack/PycharmProjects/solpro_backend/app/main.py", line 65, in log_requests
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/base.py", line 168, in call_next
    raise app_exc from app_exc.__cause__ or app_exc.__context__
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/base.py", line 144, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/base.py", line 191, in __call__
    with recv_stream, send_stream, collapse_excgroups():
                                   ~~~~~~~~~~~~~~~~~~^^
  File "/home/rehack/anaconda3/lib/python3.13/contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    ~~~~~~~~~~~~~~^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/_utils.py", line 85, in collapse_excgroups
    raise exc
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/base.py", line 193, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/slowapi/middleware.py", line 136, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/base.py", line 168, in call_next
    raise app_exc from app_exc.__cause__ or app_exc.__context__
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/base.py", line 144, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/gzip.py", line 29, in __call__
    await responder(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/gzip.py", line 130, in __call__
    await super().__call__(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/gzip.py", line 46, in __call__
    await self.app(scope, receive, self.send_with_compression)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/trustedhost.py", line 36, in __call__
    await self.app(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/fastapi/routing.py", line 125, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/fastapi/routing.py", line 111, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/fastapi/routing.py", line 381, in app
    solved_result = await solve_dependencies(
                    ^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<6 lines>...
    )
    ^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/fastapi/dependencies/utils.py", line 641, in solve_dependencies
    solved = await call(**solved_result.values)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rehack/PycharmProjects/solpro_backend/app/dependencies/auth.py", line 44, in get_current_user
    result = await session.exec(query)
             ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlmodel/ext/asyncio/session.py", line 98, in exec
    result = await greenlet_spawn(
             ^^^^^^^^^^^^^^^^^^^^^
    ...<7 lines>...
    )
    ^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 201, in greenlet_spawn
    result = context.throw(*sys.exc_info())
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlmodel/orm/session.py", line 83, in exec
    results = super().execute(
        statement,
    ...<4 lines>...
        _add_event=_add_event,
    )
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/orm/session.py", line 2351, in execute
    return self._execute_internal(
           ~~~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
    ...<4 lines>...
        _add_event=_add_event,
        ^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/orm/session.py", line 2249, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self,
        ^^^^^
    ...<4 lines>...
        conn,
        ^^^^^
    )
    ^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/orm/context.py", line 309, in orm_execute_statement
    return cls.orm_setup_cursor_result(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        session,
        ^^^^^^^^
    ...<4 lines>...
        result,
        ^^^^^^^
    )
    ^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/orm/context.py", line 616, in orm_setup_cursor_result
    return loading.instances(result, querycontext)
           ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/orm/loading.py", line 262, in instances
    _prebuffered = list(chunks(None))
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/orm/loading.py", line 247, in chunks
    post_load.invoke(context, path)
    ~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/orm/loading.py", line 1564, in invoke
    loader(
    ~~~~~~^
        effective_context, path, states, self.load_keys, *arg, **kw
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/orm/strategies.py", line 3338, in _load_for_path
    self._load_via_parent(
    ~~~~~~~~~~~~~~~~~~~~~^
        our_states, query_info, q, context, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/orm/strategies.py", line 3414, in _load_via_parent
    context.session.execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        q,
        ^^
        params={"primary_keys": primary_keys},
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        execution_options=execution_options,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ).unique(),
    ^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlmodel/orm/session.py", line 144, in execute
    return super().execute(
           ~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
    ...<4 lines>...
        _add_event=_add_event,
        ^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/orm/session.py", line 2351, in execute
    return self._execute_internal(
           ~~~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
    ...<4 lines>...
        _add_event=_add_event,
        ^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/orm/session.py", line 2249, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self,
        ^^^^^
    ...<4 lines>...
        conn,
        ^^^^^
    )
    ^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/orm/context.py", line 306, in orm_execute_statement
    result = conn.execute(
        statement, params or {}, execution_options=execution_options
    )
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/engine/base.py", line 1419, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/sql/elements.py", line 526, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/engine/base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
        dialect,
    ...<8 lines>...
        cache_hit=cache_hit,
    )
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/engine/base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ~~~~~~~~~~~~~~~~~~~~~~~~~^
        dialect, context, statement, parameters
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/engine/base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        e, str_statement, effective_parameters, cursor, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/engine/base.py", line 2355, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/engine/default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 180, in execute
    self._adapt_connection._handle_exception(error)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 340, in _handle_exception
    raise error
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 162, in execute
    self.await_(_cursor.execute(operation, parameters))
    ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 132, in await_only
    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501
           ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 196, in greenlet_spawn
    value = await result
            ^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/aiosqlite/cursor.py", line 40, in execute
    await self._execute(self._cursor.execute, sql, parameters)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/aiosqlite/cursor.py", line 32, in _execute
    return await self._conn._execute(fn, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such column: prop_firm_registration.service_scope
[SQL: SELECT prop_firm_registration.user_id AS prop_firm_registration_user_id, prop_firm_registration.id AS prop_firm_registration_id, prop_firm_registration.login_id AS prop_firm_registration_login_id, prop_firm_registration.password AS prop_firm_registration_password, prop_firm_registration.propfirm_name AS prop_firm_registration_propfirm_name, prop_firm_registration.propfirm_website_link AS prop_firm_registration_propfirm_website_link, prop_firm_registration.server_name AS prop_firm_registration_server_name, prop_firm_registration.server_type AS prop_firm_registration_server_type, prop_firm_registration.challenges_step AS prop_firm_registration_challenges_step, prop_firm_registration.service_scope AS prop_firm_registration_service_scope, prop_firm_registration.order_id AS prop_firm_registration_order_id, prop_firm_registration.propfirm_account_cost AS prop_firm_registration_propfirm_account_cost, prop_firm_registration.account_size AS prop_firm_registration_account_size, prop_firm_registration.account_phases AS prop_firm_registration_account_phases, prop_firm_registration.trading_platform AS prop_firm_registration_trading_platform, prop_firm_registration.propfirm_rules AS prop_firm_registration_propfirm_rules, prop_firm_registration.whatsapp_no AS prop_firm_registration_whatsapp_no, prop_firm_registration.telegram_username AS prop_firm_registration_telegram_username, prop_firm_registration.account_status AS prop_firm_registration_account_status, prop_firm_registration.created_at AS prop_firm_registration_created_at, prop_firm_registration.updated_at AS prop_firm_registration_updated_at 
FROM prop_firm_registration 
WHERE prop_firm_registration.user_id IN (?)]
[parameters: ('6affb04777824af5acc7646740ae90f3',)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)

2025-12-30 20:15:44,544 - uvicorn.access - INFO - 127.0.0.1:42222 - "GET /api/v1/users/me HTTP/1.1" 500
2025-12-30 20:15:44,573 - app - ERROR - Request failed: GET /api/v1/users/me - Duration: 16.64ms - Error: (sqlite3.OperationalError) no such column: prop_firm_registration.service_scope
[SQL: SELECT prop_firm_registration.user_id AS prop_firm_registration_user_id, prop_firm_registration.id AS prop_firm_registration_id, prop_firm_registration.login_id AS prop_firm_registration_login_id, prop_firm_registration.password AS prop_firm_registration_password, prop_firm_registration.propfirm_name AS prop_firm_registration_propfirm_name, prop_firm_registration.propfirm_website_link AS prop_firm_registration_propfirm_website_link, prop_firm_registration.server_name AS prop_firm_registration_server_name, prop_firm_registration.server_type AS prop_firm_registration_server_type, prop_firm_registration.challenges_step AS prop_firm_registration_challenges_step, prop_firm_registration.service_scope AS prop_firm_registration_service_scope, prop_firm_registration.order_id AS prop_firm_registration_order_id, prop_firm_registration.propfirm_account_cost AS prop_firm_registration_propfirm_account_cost, prop_firm_registration.account_size AS prop_firm_registration_account_size, prop_firm_registration.account_phases AS prop_firm_registration_account_phases, prop_firm_registration.trading_platform AS prop_firm_registration_trading_platform, prop_firm_registration.propfirm_rules AS prop_firm_registration_propfirm_rules, prop_firm_registration.whatsapp_no AS prop_firm_registration_whatsapp_no, prop_firm_registration.telegram_username AS prop_firm_registration_telegram_username, prop_firm_registration.account_status AS prop_firm_registration_account_status, prop_firm_registration.created_at AS prop_firm_registration_created_at, prop_firm_registration.updated_at AS prop_firm_registration_updated_at 
FROM prop_firm_registration 
WHERE prop_firm_registration.user_id IN (?)]
[parameters: ('6affb04777824af5acc7646740ae90f3',)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-12-30 20:15:44,607 - app - ERROR - Traceback (most recent call last):
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/engine/default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 180, in execute
    self._adapt_connection._handle_exception(error)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 340, in _handle_exception
    raise error
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 162, in execute
    self.await_(_cursor.execute(operation, parameters))
    ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 132, in await_only
    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501
           ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 196, in greenlet_spawn
    value = await result
            ^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/aiosqlite/cursor.py", line 40, in execute
    await self._execute(self._cursor.execute, sql, parameters)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/aiosqlite/cursor.py", line 32, in _execute
    return await self._conn._execute(fn, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
sqlite3.OperationalError: no such column: prop_firm_registration.service_scope

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/home/rehack/PycharmProjects/solpro_backend/app/main.py", line 65, in log_requests
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/base.py", line 168, in call_next
    raise app_exc from app_exc.__cause__ or app_exc.__context__
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/base.py", line 144, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/base.py", line 191, in __call__
    with recv_stream, send_stream, collapse_excgroups():
                                   ~~~~~~~~~~~~~~~~~~^^
  File "/home/rehack/anaconda3/lib/python3.13/contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    ~~~~~~~~~~~~~~^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/_utils.py", line 85, in collapse_excgroups
    raise exc
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/base.py", line 193, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/slowapi/middleware.py", line 136, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/base.py", line 168, in call_next
    raise app_exc from app_exc.__cause__ or app_exc.__context__
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/base.py", line 144, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/gzip.py", line 29, in __call__
    await responder(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/gzip.py", line 130, in __call__
    await super().__call__(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/gzip.py", line 46, in __call__
    await self.app(scope, receive, self.send_with_compression)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/trustedhost.py", line 36, in __call__
    await self.app(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/fastapi/routing.py", line 125, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/fastapi/routing.py", line 111, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/fastapi/routing.py", line 381, in app
    solved_result = await solve_dependencies(
                    ^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<6 lines>...
    )
    ^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/fastapi/dependencies/utils.py", line 641, in solve_dependencies
    solved = await call(**solved_result.values)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rehack/PycharmProjects/solpro_backend/app/dependencies/auth.py", line 44, in get_current_user
    result = await session.exec(query)
             ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlmodel/ext/asyncio/session.py", line 98, in exec
    result = await greenlet_spawn(
             ^^^^^^^^^^^^^^^^^^^^^
    ...<7 lines>...
    )
    ^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 201, in greenlet_spawn
    result = context.throw(*sys.exc_info())
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlmodel/orm/session.py", line 83, in exec
    results = super().execute(
        statement,
    ...<4 lines>...
        _add_event=_add_event,
    )
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/orm/session.py", line 2351, in execute
    return self._execute_internal(
           ~~~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
    ...<4 lines>...
        _add_event=_add_event,
        ^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/orm/session.py", line 2249, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self,
        ^^^^^
    ...<4 lines>...
        conn,
        ^^^^^
    )
    ^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/orm/context.py", line 309, in orm_execute_statement
    return cls.orm_setup_cursor_result(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        session,
        ^^^^^^^^
    ...<4 lines>...
        result,
        ^^^^^^^
    )
    ^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/orm/context.py", line 616, in orm_setup_cursor_result
    return loading.instances(result, querycontext)
           ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/orm/loading.py", line 262, in instances
    _prebuffered = list(chunks(None))
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/orm/loading.py", line 247, in chunks
    post_load.invoke(context, path)
    ~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/orm/loading.py", line 1564, in invoke
    loader(
    ~~~~~~^
        effective_context, path, states, self.load_keys, *arg, **kw
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/orm/strategies.py", line 3338, in _load_for_path
    self._load_via_parent(
    ~~~~~~~~~~~~~~~~~~~~~^
        our_states, query_info, q, context, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/orm/strategies.py", line 3414, in _load_via_parent
    context.session.execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        q,
        ^^
        params={"primary_keys": primary_keys},
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        execution_options=execution_options,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ).unique(),
    ^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlmodel/orm/session.py", line 144, in execute
    return super().execute(
           ~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
    ...<4 lines>...
        _add_event=_add_event,
        ^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/orm/session.py", line 2351, in execute
    return self._execute_internal(
           ~~~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
    ...<4 lines>...
        _add_event=_add_event,
        ^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/orm/session.py", line 2249, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self,
        ^^^^^
    ...<4 lines>...
        conn,
        ^^^^^
    )
    ^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/orm/context.py", line 306, in orm_execute_statement
    result = conn.execute(
        statement, params or {}, execution_options=execution_options
    )
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/engine/base.py", line 1419, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/sql/elements.py", line 526, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/engine/base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
        dialect,
    ...<8 lines>...
        cache_hit=cache_hit,
    )
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/engine/base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ~~~~~~~~~~~~~~~~~~~~~~~~~^
        dialect, context, statement, parameters
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/engine/base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        e, str_statement, effective_parameters, cursor, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/engine/base.py", line 2355, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/engine/default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 180, in execute
    self._adapt_connection._handle_exception(error)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 340, in _handle_exception
    raise error
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 162, in execute
    self.await_(_cursor.execute(operation, parameters))
    ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 132, in await_only
    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501
           ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 196, in greenlet_spawn
    value = await result
            ^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/aiosqlite/cursor.py", line 40, in execute
    await self._execute(self._cursor.execute, sql, parameters)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/aiosqlite/cursor.py", line 32, in _execute
    return await self._conn._execute(fn, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such column: prop_firm_registration.service_scope
[SQL: SELECT prop_firm_registration.user_id AS prop_firm_registration_user_id, prop_firm_registration.id AS prop_firm_registration_id, prop_firm_registration.login_id AS prop_firm_registration_login_id, prop_firm_registration.password AS prop_firm_registration_password, prop_firm_registration.propfirm_name AS prop_firm_registration_propfirm_name, prop_firm_registration.propfirm_website_link AS prop_firm_registration_propfirm_website_link, prop_firm_registration.server_name AS prop_firm_registration_server_name, prop_firm_registration.server_type AS prop_firm_registration_server_type, prop_firm_registration.challenges_step AS prop_firm_registration_challenges_step, prop_firm_registration.service_scope AS prop_firm_registration_service_scope, prop_firm_registration.order_id AS prop_firm_registration_order_id, prop_firm_registration.propfirm_account_cost AS prop_firm_registration_propfirm_account_cost, prop_firm_registration.account_size AS prop_firm_registration_account_size, prop_firm_registration.account_phases AS prop_firm_registration_account_phases, prop_firm_registration.trading_platform AS prop_firm_registration_trading_platform, prop_firm_registration.propfirm_rules AS prop_firm_registration_propfirm_rules, prop_firm_registration.whatsapp_no AS prop_firm_registration_whatsapp_no, prop_firm_registration.telegram_username AS prop_firm_registration_telegram_username, prop_firm_registration.account_status AS prop_firm_registration_account_status, prop_firm_registration.created_at AS prop_firm_registration_created_at, prop_firm_registration.updated_at AS prop_firm_registration_updated_at 
FROM prop_firm_registration 
WHERE prop_firm_registration.user_id IN (?)]
[parameters: ('6affb04777824af5acc7646740ae90f3',)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)

2025-12-30 20:15:44,611 - uvicorn.access - INFO - 127.0.0.1:42236 - "GET /api/v1/users/me HTTP/1.1" 500
2025-12-30 20:15:44,657 - app - ERROR - Request failed: GET /api/v1/prop-firm - Duration: 29.65ms - Error: (sqlite3.OperationalError) no such column: prop_firm_registration.service_scope
[SQL: SELECT prop_firm_registration.user_id AS prop_firm_registration_user_id, prop_firm_registration.id AS prop_firm_registration_id, prop_firm_registration.login_id AS prop_firm_registration_login_id, prop_firm_registration.password AS prop_firm_registration_password, prop_firm_registration.propfirm_name AS prop_firm_registration_propfirm_name, prop_firm_registration.propfirm_website_link AS prop_firm_registration_propfirm_website_link, prop_firm_registration.server_name AS prop_firm_registration_server_name, prop_firm_registration.server_type AS prop_firm_registration_server_type, prop_firm_registration.challenges_step AS prop_firm_registration_challenges_step, prop_firm_registration.service_scope AS prop_firm_registration_service_scope, prop_firm_registration.order_id AS prop_firm_registration_order_id, prop_firm_registration.propfirm_account_cost AS prop_firm_registration_propfirm_account_cost, prop_firm_registration.account_size AS prop_firm_registration_account_size, prop_firm_registration.account_phases AS prop_firm_registration_account_phases, prop_firm_registration.trading_platform AS prop_firm_registration_trading_platform, prop_firm_registration.propfirm_rules AS prop_firm_registration_propfirm_rules, prop_firm_registration.whatsapp_no AS prop_firm_registration_whatsapp_no, prop_firm_registration.telegram_username AS prop_firm_registration_telegram_username, prop_firm_registration.account_status AS prop_firm_registration_account_status, prop_firm_registration.created_at AS prop_firm_registration_created_at, prop_firm_registration.updated_at AS prop_firm_registration_updated_at 
FROM prop_firm_registration 
WHERE prop_firm_registration.user_id IN (?)]
[parameters: ('6affb04777824af5acc7646740ae90f3',)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-12-30 20:15:44,677 - app - ERROR - Traceback (most recent call last):
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/engine/default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 180, in execute
    self._adapt_connection._handle_exception(error)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 340, in _handle_exception
    raise error
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 162, in execute
    self.await_(_cursor.execute(operation, parameters))
    ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 132, in await_only
    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501
           ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 196, in greenlet_spawn
    value = await result
            ^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/aiosqlite/cursor.py", line 40, in execute
    await self._execute(self._cursor.execute, sql, parameters)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/aiosqlite/cursor.py", line 32, in _execute
    return await self._conn._execute(fn, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
sqlite3.OperationalError: no such column: prop_firm_registration.service_scope

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/home/rehack/PycharmProjects/solpro_backend/app/main.py", line 65, in log_requests
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/base.py", line 168, in call_next
    raise app_exc from app_exc.__cause__ or app_exc.__context__
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/base.py", line 144, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/base.py", line 191, in __call__
    with recv_stream, send_stream, collapse_excgroups():
                                   ~~~~~~~~~~~~~~~~~~^^
  File "/home/rehack/anaconda3/lib/python3.13/contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    ~~~~~~~~~~~~~~^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/_utils.py", line 85, in collapse_excgroups
    raise exc
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/base.py", line 193, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/slowapi/middleware.py", line 136, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/base.py", line 168, in call_next
    raise app_exc from app_exc.__cause__ or app_exc.__context__
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/base.py", line 144, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/gzip.py", line 29, in __call__
    await responder(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/gzip.py", line 130, in __call__
    await super().__call__(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/gzip.py", line 46, in __call__
    await self.app(scope, receive, self.send_with_compression)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/trustedhost.py", line 36, in __call__
    await self.app(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/fastapi/routing.py", line 125, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/fastapi/routing.py", line 111, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/fastapi/routing.py", line 381, in app
    solved_result = await solve_dependencies(
                    ^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<6 lines>...
    )
    ^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/fastapi/dependencies/utils.py", line 641, in solve_dependencies
    solved = await call(**solved_result.values)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rehack/PycharmProjects/solpro_backend/app/dependencies/auth.py", line 44, in get_current_user
    result = await session.exec(query)
             ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlmodel/ext/asyncio/session.py", line 98, in exec
    result = await greenlet_spawn(
             ^^^^^^^^^^^^^^^^^^^^^
    ...<7 lines>...
    )
    ^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 201, in greenlet_spawn
    result = context.throw(*sys.exc_info())
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlmodel/orm/session.py", line 83, in exec
    results = super().execute(
        statement,
    ...<4 lines>...
        _add_event=_add_event,
    )
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/orm/session.py", line 2351, in execute
    return self._execute_internal(
           ~~~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
    ...<4 lines>...
        _add_event=_add_event,
        ^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/orm/session.py", line 2249, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self,
        ^^^^^
    ...<4 lines>...
        conn,
        ^^^^^
    )
    ^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/orm/context.py", line 309, in orm_execute_statement
    return cls.orm_setup_cursor_result(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        session,
        ^^^^^^^^
    ...<4 lines>...
        result,
        ^^^^^^^
    )
    ^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/orm/context.py", line 616, in orm_setup_cursor_result
    return loading.instances(result, querycontext)
           ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/orm/loading.py", line 262, in instances
    _prebuffered = list(chunks(None))
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/orm/loading.py", line 247, in chunks
    post_load.invoke(context, path)
    ~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/orm/loading.py", line 1564, in invoke
    loader(
    ~~~~~~^
        effective_context, path, states, self.load_keys, *arg, **kw
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/orm/strategies.py", line 3338, in _load_for_path
    self._load_via_parent(
    ~~~~~~~~~~~~~~~~~~~~~^
        our_states, query_info, q, context, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/orm/strategies.py", line 3414, in _load_via_parent
    context.session.execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        q,
        ^^
        params={"primary_keys": primary_keys},
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        execution_options=execution_options,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ).unique(),
    ^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlmodel/orm/session.py", line 144, in execute
    return super().execute(
           ~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
    ...<4 lines>...
        _add_event=_add_event,
        ^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/orm/session.py", line 2351, in execute
    return self._execute_internal(
           ~~~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
    ...<4 lines>...
        _add_event=_add_event,
        ^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/orm/session.py", line 2249, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self,
        ^^^^^
    ...<4 lines>...
        conn,
        ^^^^^
    )
    ^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/orm/context.py", line 306, in orm_execute_statement
    result = conn.execute(
        statement, params or {}, execution_options=execution_options
    )
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/engine/base.py", line 1419, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/sql/elements.py", line 526, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/engine/base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
        dialect,
    ...<8 lines>...
        cache_hit=cache_hit,
    )
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/engine/base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ~~~~~~~~~~~~~~~~~~~~~~~~~^
        dialect, context, statement, parameters
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/engine/base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        e, str_statement, effective_parameters, cursor, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/engine/base.py", line 2355, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/engine/default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 180, in execute
    self._adapt_connection._handle_exception(error)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 340, in _handle_exception
    raise error
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 162, in execute
    self.await_(_cursor.execute(operation, parameters))
    ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 132, in await_only
    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501
           ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 196, in greenlet_spawn
    value = await result
            ^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/aiosqlite/cursor.py", line 40, in execute
    await self._execute(self._cursor.execute, sql, parameters)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/aiosqlite/cursor.py", line 32, in _execute
    return await self._conn._execute(fn, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such column: prop_firm_registration.service_scope
[SQL: SELECT prop_firm_registration.user_id AS prop_firm_registration_user_id, prop_firm_registration.id AS prop_firm_registration_id, prop_firm_registration.login_id AS prop_firm_registration_login_id, prop_firm_registration.password AS prop_firm_registration_password, prop_firm_registration.propfirm_name AS prop_firm_registration_propfirm_name, prop_firm_registration.propfirm_website_link AS prop_firm_registration_propfirm_website_link, prop_firm_registration.server_name AS prop_firm_registration_server_name, prop_firm_registration.server_type AS prop_firm_registration_server_type, prop_firm_registration.challenges_step AS prop_firm_registration_challenges_step, prop_firm_registration.service_scope AS prop_firm_registration_service_scope, prop_firm_registration.order_id AS prop_firm_registration_order_id, prop_firm_registration.propfirm_account_cost AS prop_firm_registration_propfirm_account_cost, prop_firm_registration.account_size AS prop_firm_registration_account_size, prop_firm_registration.account_phases AS prop_firm_registration_account_phases, prop_firm_registration.trading_platform AS prop_firm_registration_trading_platform, prop_firm_registration.propfirm_rules AS prop_firm_registration_propfirm_rules, prop_firm_registration.whatsapp_no AS prop_firm_registration_whatsapp_no, prop_firm_registration.telegram_username AS prop_firm_registration_telegram_username, prop_firm_registration.account_status AS prop_firm_registration_account_status, prop_firm_registration.created_at AS prop_firm_registration_created_at, prop_firm_registration.updated_at AS prop_firm_registration_updated_at 
FROM prop_firm_registration 
WHERE prop_firm_registration.user_id IN (?)]
[parameters: ('6affb04777824af5acc7646740ae90f3',)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)

2025-12-30 20:15:44,678 - uvicorn.access - INFO - 127.0.0.1:42238 - "GET /api/v1/prop-firm HTTP/1.1" 500
2025-12-30 20:15:44,704 - app - ERROR - Request failed: GET /api/v1/prop-firm - Duration: 13.80ms - Error: (sqlite3.OperationalError) no such column: prop_firm_registration.service_scope
[SQL: SELECT prop_firm_registration.user_id AS prop_firm_registration_user_id, prop_firm_registration.id AS prop_firm_registration_id, prop_firm_registration.login_id AS prop_firm_registration_login_id, prop_firm_registration.password AS prop_firm_registration_password, prop_firm_registration.propfirm_name AS prop_firm_registration_propfirm_name, prop_firm_registration.propfirm_website_link AS prop_firm_registration_propfirm_website_link, prop_firm_registration.server_name AS prop_firm_registration_server_name, prop_firm_registration.server_type AS prop_firm_registration_server_type, prop_firm_registration.challenges_step AS prop_firm_registration_challenges_step, prop_firm_registration.service_scope AS prop_firm_registration_service_scope, prop_firm_registration.order_id AS prop_firm_registration_order_id, prop_firm_registration.propfirm_account_cost AS prop_firm_registration_propfirm_account_cost, prop_firm_registration.account_size AS prop_firm_registration_account_size, prop_firm_registration.account_phases AS prop_firm_registration_account_phases, prop_firm_registration.trading_platform AS prop_firm_registration_trading_platform, prop_firm_registration.propfirm_rules AS prop_firm_registration_propfirm_rules, prop_firm_registration.whatsapp_no AS prop_firm_registration_whatsapp_no, prop_firm_registration.telegram_username AS prop_firm_registration_telegram_username, prop_firm_registration.account_status AS prop_firm_registration_account_status, prop_firm_registration.created_at AS prop_firm_registration_created_at, prop_firm_registration.updated_at AS prop_firm_registration_updated_at 
FROM prop_firm_registration 
WHERE prop_firm_registration.user_id IN (?)]
[parameters: ('6affb04777824af5acc7646740ae90f3',)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-12-30 20:15:44,714 - app - ERROR - Traceback (most recent call last):
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/engine/default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 180, in execute
    self._adapt_connection._handle_exception(error)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 340, in _handle_exception
    raise error
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 162, in execute
    self.await_(_cursor.execute(operation, parameters))
    ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 132, in await_only
    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501
           ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 196, in greenlet_spawn
    value = await result
            ^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/aiosqlite/cursor.py", line 40, in execute
    await self._execute(self._cursor.execute, sql, parameters)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/aiosqlite/cursor.py", line 32, in _execute
    return await self._conn._execute(fn, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
sqlite3.OperationalError: no such column: prop_firm_registration.service_scope

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/home/rehack/PycharmProjects/solpro_backend/app/main.py", line 65, in log_requests
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/base.py", line 168, in call_next
    raise app_exc from app_exc.__cause__ or app_exc.__context__
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/base.py", line 144, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/base.py", line 191, in __call__
    with recv_stream, send_stream, collapse_excgroups():
                                   ~~~~~~~~~~~~~~~~~~^^
  File "/home/rehack/anaconda3/lib/python3.13/contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    ~~~~~~~~~~~~~~^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/_utils.py", line 85, in collapse_excgroups
    raise exc
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/base.py", line 193, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/slowapi/middleware.py", line 136, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/base.py", line 168, in call_next
    raise app_exc from app_exc.__cause__ or app_exc.__context__
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/base.py", line 144, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/gzip.py", line 29, in __call__
    await responder(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/gzip.py", line 130, in __call__
    await super().__call__(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/gzip.py", line 46, in __call__
    await self.app(scope, receive, self.send_with_compression)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/trustedhost.py", line 36, in __call__
    await self.app(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/fastapi/routing.py", line 125, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/fastapi/routing.py", line 111, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/fastapi/routing.py", line 381, in app
    solved_result = await solve_dependencies(
                    ^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<6 lines>...
    )
    ^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/fastapi/dependencies/utils.py", line 641, in solve_dependencies
    solved = await call(**solved_result.values)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rehack/PycharmProjects/solpro_backend/app/dependencies/auth.py", line 44, in get_current_user
    result = await session.exec(query)
             ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlmodel/ext/asyncio/session.py", line 98, in exec
    result = await greenlet_spawn(
             ^^^^^^^^^^^^^^^^^^^^^
    ...<7 lines>...
    )
    ^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 201, in greenlet_spawn
    result = context.throw(*sys.exc_info())
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlmodel/orm/session.py", line 83, in exec
    results = super().execute(
        statement,
    ...<4 lines>...
        _add_event=_add_event,
    )
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/orm/session.py", line 2351, in execute
    return self._execute_internal(
           ~~~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
    ...<4 lines>...
        _add_event=_add_event,
        ^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/orm/session.py", line 2249, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self,
        ^^^^^
    ...<4 lines>...
        conn,
        ^^^^^
    )
    ^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/orm/context.py", line 309, in orm_execute_statement
    return cls.orm_setup_cursor_result(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        session,
        ^^^^^^^^
    ...<4 lines>...
        result,
        ^^^^^^^
    )
    ^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/orm/context.py", line 616, in orm_setup_cursor_result
    return loading.instances(result, querycontext)
           ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/orm/loading.py", line 262, in instances
    _prebuffered = list(chunks(None))
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/orm/loading.py", line 247, in chunks
    post_load.invoke(context, path)
    ~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/orm/loading.py", line 1564, in invoke
    loader(
    ~~~~~~^
        effective_context, path, states, self.load_keys, *arg, **kw
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/orm/strategies.py", line 3338, in _load_for_path
    self._load_via_parent(
    ~~~~~~~~~~~~~~~~~~~~~^
        our_states, query_info, q, context, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/orm/strategies.py", line 3414, in _load_via_parent
    context.session.execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        q,
        ^^
        params={"primary_keys": primary_keys},
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        execution_options=execution_options,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ).unique(),
    ^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlmodel/orm/session.py", line 144, in execute
    return super().execute(
           ~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
    ...<4 lines>...
        _add_event=_add_event,
        ^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/orm/session.py", line 2351, in execute
    return self._execute_internal(
           ~~~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
    ...<4 lines>...
        _add_event=_add_event,
        ^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/orm/session.py", line 2249, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self,
        ^^^^^
    ...<4 lines>...
        conn,
        ^^^^^
    )
    ^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/orm/context.py", line 306, in orm_execute_statement
    result = conn.execute(
        statement, params or {}, execution_options=execution_options
    )
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/engine/base.py", line 1419, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/sql/elements.py", line 526, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/engine/base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
        dialect,
    ...<8 lines>...
        cache_hit=cache_hit,
    )
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/engine/base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ~~~~~~~~~~~~~~~~~~~~~~~~~^
        dialect, context, statement, parameters
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/engine/base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        e, str_statement, effective_parameters, cursor, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/engine/base.py", line 2355, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/engine/default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 180, in execute
    self._adapt_connection._handle_exception(error)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 340, in _handle_exception
    raise error
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 162, in execute
    self.await_(_cursor.execute(operation, parameters))
    ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 132, in await_only
    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501
           ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 196, in greenlet_spawn
    value = await result
            ^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/aiosqlite/cursor.py", line 40, in execute
    await self._execute(self._cursor.execute, sql, parameters)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/aiosqlite/cursor.py", line 32, in _execute
    return await self._conn._execute(fn, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such column: prop_firm_registration.service_scope
[SQL: SELECT prop_firm_registration.user_id AS prop_firm_registration_user_id, prop_firm_registration.id AS prop_firm_registration_id, prop_firm_registration.login_id AS prop_firm_registration_login_id, prop_firm_registration.password AS prop_firm_registration_password, prop_firm_registration.propfirm_name AS prop_firm_registration_propfirm_name, prop_firm_registration.propfirm_website_link AS prop_firm_registration_propfirm_website_link, prop_firm_registration.server_name AS prop_firm_registration_server_name, prop_firm_registration.server_type AS prop_firm_registration_server_type, prop_firm_registration.challenges_step AS prop_firm_registration_challenges_step, prop_firm_registration.service_scope AS prop_firm_registration_service_scope, prop_firm_registration.order_id AS prop_firm_registration_order_id, prop_firm_registration.propfirm_account_cost AS prop_firm_registration_propfirm_account_cost, prop_firm_registration.account_size AS prop_firm_registration_account_size, prop_firm_registration.account_phases AS prop_firm_registration_account_phases, prop_firm_registration.trading_platform AS prop_firm_registration_trading_platform, prop_firm_registration.propfirm_rules AS prop_firm_registration_propfirm_rules, prop_firm_registration.whatsapp_no AS prop_firm_registration_whatsapp_no, prop_firm_registration.telegram_username AS prop_firm_registration_telegram_username, prop_firm_registration.account_status AS prop_firm_registration_account_status, prop_firm_registration.created_at AS prop_firm_registration_created_at, prop_firm_registration.updated_at AS prop_firm_registration_updated_at 
FROM prop_firm_registration 
WHERE prop_firm_registration.user_id IN (?)]
[parameters: ('6affb04777824af5acc7646740ae90f3',)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)

2025-12-30 20:15:44,715 - uvicorn.access - INFO - 127.0.0.1:42248 - "GET /api/v1/prop-firm HTTP/1.1" 500
2025-12-31 14:08:01,287 - uvicorn.error - INFO - Shutting down
2025-12-31 14:08:01,390 - uvicorn.error - INFO - Waiting for application shutdown.
2025-12-31 14:08:01,391 - app - INFO - Shutting down application...
2025-12-31 14:08:01,392 - uvicorn.error - INFO - Application shutdown complete.
2025-12-31 14:08:01,392 - uvicorn.error - INFO - Finished server process [58342]
2025-12-31 14:08:03,883 - uvicorn.error - INFO - Started server process [252589]
2025-12-31 14:08:03,883 - uvicorn.error - INFO - Waiting for application startup.
2025-12-31 14:08:03,883 - app - INFO - Starting up application...
2025-12-31 14:08:03,892 - uvicorn.error - INFO - Application startup complete.
2025-12-31 14:08:25,496 - uvicorn.error - INFO - Shutting down
2025-12-31 14:08:25,597 - uvicorn.error - INFO - Waiting for application shutdown.
2025-12-31 14:08:25,597 - app - INFO - Shutting down application...
2025-12-31 14:08:25,597 - uvicorn.error - INFO - Application shutdown complete.
2025-12-31 14:08:25,597 - uvicorn.error - INFO - Finished server process [252589]
2025-12-31 14:08:27,012 - uvicorn.error - INFO - Started server process [252934]
2025-12-31 14:08:27,012 - uvicorn.error - INFO - Waiting for application startup.
2025-12-31 14:08:27,013 - app - INFO - Starting up application...
2025-12-31 14:08:27,019 - uvicorn.error - INFO - Application startup complete.
2025-12-31 14:09:15,681 - uvicorn.error - INFO - Shutting down
2025-12-31 14:09:15,782 - uvicorn.error - INFO - Waiting for application shutdown.
2025-12-31 14:09:15,782 - app - INFO - Shutting down application...
2025-12-31 14:09:15,782 - uvicorn.error - INFO - Application shutdown complete.
2025-12-31 14:09:15,783 - uvicorn.error - INFO - Finished server process [252934]
2025-12-31 14:09:17,639 - uvicorn.error - INFO - Started server process [253812]
2025-12-31 14:09:17,639 - uvicorn.error - INFO - Waiting for application startup.
2025-12-31 14:09:17,639 - app - INFO - Starting up application...
2025-12-31 14:09:17,678 - uvicorn.error - INFO - Application startup complete.
2025-12-31 14:10:43,661 - app - INFO - Request: POST /api/v1/auth/login/access-token - Status: 200 - Duration: 600.71ms
2025-12-31 14:10:43,661 - uvicorn.access - INFO - 127.0.0.1:44886 - "POST /api/v1/auth/login/access-token HTTP/1.1" 200
2025-12-31 14:10:45,265 - app - INFO - Request: GET /api/v1/users/me - Status: 200 - Duration: 202.04ms
2025-12-31 14:10:45,266 - uvicorn.access - INFO - 127.0.0.1:44898 - "GET /api/v1/users/me HTTP/1.1" 200
2025-12-31 14:10:45,430 - app - INFO - Request: GET /api/v1/users/me - Status: 200 - Duration: 118.58ms
2025-12-31 14:10:45,432 - uvicorn.access - INFO - 127.0.0.1:44908 - "GET /api/v1/users/me HTTP/1.1" 200
2025-12-31 14:10:45,455 - app - INFO - Request: GET /api/v1/prop-firm - Status: 200 - Duration: 126.23ms
2025-12-31 14:10:45,456 - uvicorn.access - INFO - 127.0.0.1:44916 - "GET /api/v1/prop-firm HTTP/1.1" 200
2025-12-31 14:10:45,709 - app - INFO - Request: GET /api/v1/prop-firm - Status: 200 - Duration: 108.03ms
2025-12-31 14:10:45,709 - uvicorn.access - INFO - 127.0.0.1:44918 - "GET /api/v1/prop-firm HTTP/1.1" 200
2025-12-31 14:13:23,595 - app - INFO - Request: POST /api/v1/prop-firm - Status: 200 - Duration: 22.35ms
2025-12-31 14:13:23,595 - uvicorn.access - INFO - 127.0.0.1:44738 - "POST /api/v1/prop-firm HTTP/1.1" 200
2025-12-31 14:13:23,616 - app - INFO - Request: POST /api/v1/payments - Status: 307 - Duration: 0.60ms
2025-12-31 14:13:23,616 - uvicorn.access - INFO - 127.0.0.1:44742 - "POST /api/v1/payments HTTP/1.1" 307
2025-12-31 14:13:23,623 - app - INFO - Request: OPTIONS /api/v1/payments/ - Status: 200 - Duration: 0.50ms
2025-12-31 14:13:23,623 - uvicorn.access - INFO - 127.0.0.1:44746 - "OPTIONS /api/v1/payments/ HTTP/1.1" 200
2025-12-31 14:13:23,631 - app - INFO - Request: POST /api/v1/payments/ - Status: 401 - Duration: 2.67ms
2025-12-31 14:13:23,631 - uvicorn.access - INFO - 127.0.0.1:44748 - "POST /api/v1/payments/ HTTP/1.1" 401
2025-12-31 14:13:33,557 - app - INFO - Request: POST /api/v1/auth/login/access-token - Status: 200 - Duration: 508.68ms
2025-12-31 14:13:33,557 - uvicorn.access - INFO - 127.0.0.1:50276 - "POST /api/v1/auth/login/access-token HTTP/1.1" 200
2025-12-31 14:13:34,949 - app - INFO - Request: GET /api/v1/users/me - Status: 200 - Duration: 88.61ms
2025-12-31 14:13:34,951 - uvicorn.access - INFO - 127.0.0.1:50284 - "GET /api/v1/users/me HTTP/1.1" 200
2025-12-31 14:13:35,056 - app - INFO - Request: GET /api/v1/users/me - Status: 200 - Duration: 74.57ms
2025-12-31 14:13:35,060 - uvicorn.access - INFO - 127.0.0.1:50294 - "GET /api/v1/users/me HTTP/1.1" 200
2025-12-31 14:13:35,102 - app - INFO - Request: GET /api/v1/prop-firm - Status: 200 - Duration: 32.03ms
2025-12-31 14:13:35,102 - uvicorn.access - INFO - 127.0.0.1:50302 - "GET /api/v1/prop-firm HTTP/1.1" 200
2025-12-31 14:13:35,251 - app - INFO - Request: GET /api/v1/prop-firm - Status: 200 - Duration: 22.22ms
2025-12-31 14:13:35,252 - uvicorn.access - INFO - 127.0.0.1:50312 - "GET /api/v1/prop-firm HTTP/1.1" 200
2025-12-31 14:14:30,499 - app - INFO - Request: GET /api/v1/prop-firm - Status: 200 - Duration: 19.04ms
2025-12-31 14:14:30,499 - uvicorn.access - INFO - 127.0.0.1:52898 - "GET /api/v1/prop-firm?status=passed HTTP/1.1" 200
2025-12-31 14:14:30,559 - app - INFO - Request: GET /api/v1/prop-firm - Status: 200 - Duration: 38.33ms
2025-12-31 14:14:30,560 - uvicorn.access - INFO - 127.0.0.1:52902 - "GET /api/v1/prop-firm?status=passed HTTP/1.1" 200
2025-12-31 14:19:51,241 - app - INFO - Request: POST /api/v1/auth/login/admin/access-token - Status: 200 - Duration: 676.97ms
2025-12-31 14:19:51,241 - uvicorn.access - INFO - 127.0.0.1:37954 - "POST /api/v1/auth/login/admin/access-token HTTP/1.1" 200
2025-12-31 14:19:53,066 - app - INFO - Request: GET /api/v1/admin/me - Status: 200 - Duration: 13.88ms
2025-12-31 14:19:53,066 - uvicorn.access - INFO - 127.0.0.1:37958 - "GET /api/v1/admin/me HTTP/1.1" 200
2025-12-31 14:19:53,099 - app - INFO - Request: GET /api/v1/admin/me - Status: 200 - Duration: 6.11ms
2025-12-31 14:19:53,100 - uvicorn.access - INFO - 127.0.0.1:37974 - "GET /api/v1/admin/me HTTP/1.1" 200
2025-12-31 14:19:53,114 - app - INFO - Request: GET /api/v1/admin/stats - Status: 200 - Duration: 62.02ms
2025-12-31 14:19:53,115 - uvicorn.access - INFO - 127.0.0.1:37968 - "GET /api/v1/admin/stats HTTP/1.1" 200
2025-12-31 14:19:53,146 - app - INFO - Request: GET /api/v1/admin/stats - Status: 200 - Duration: 15.83ms
2025-12-31 14:19:53,147 - uvicorn.access - INFO - 127.0.0.1:37986 - "GET /api/v1/admin/stats HTTP/1.1" 200
2025-12-31 14:19:58,320 - app - INFO - Request: GET /api/v1/admin/prop-firms - Status: 200 - Duration: 18.53ms
2025-12-31 14:19:58,320 - uvicorn.access - INFO - 127.0.0.1:56282 - "GET /api/v1/admin/prop-firms HTTP/1.1" 200
2025-12-31 14:19:58,357 - app - INFO - Request: GET /api/v1/admin/prop-firms - Status: 200 - Duration: 16.18ms
2025-12-31 14:19:58,358 - uvicorn.access - INFO - 127.0.0.1:56298 - "GET /api/v1/admin/prop-firms HTTP/1.1" 200
2025-12-31 14:20:13,937 - app - ERROR - Request failed: PUT /api/v1/admin/prop-firm/7a66c611-3afe-4161-a219-8e62f21c1f60 - Duration: 25.46ms - Error: cannot access local variable 'user' where it is not associated with a value
2025-12-31 14:20:13,948 - app - ERROR -   + Exception Group Traceback (most recent call last):
  |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/_utils.py", line 79, in collapse_excgroups
  |     yield
  |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/base.py", line 192, in __call__
  |     async with anyio.create_task_group() as task_group:
  |                ~~~~~~~~~~~~~~~~~~~~~~~^^
  |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/anyio/_backends/_asyncio.py", line 815, in __aexit__
  |     raise BaseExceptionGroup(
  |         "unhandled errors in a TaskGroup", self._exceptions
  |     )
  | ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)
  +-+---------------- 1 ----------------
    | Traceback (most recent call last):
    |   File "/home/rehack/PycharmProjects/solpro_backend/app/main.py", line 65, in log_requests
    |     response = await call_next(request)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/base.py", line 168, in call_next
    |     raise app_exc from app_exc.__cause__ or app_exc.__context__
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/base.py", line 144, in coro
    |     await self.app(scope, receive_or_disconnect, send_no_error)
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/base.py", line 191, in __call__
    |     with recv_stream, send_stream, collapse_excgroups():
    |                                    ~~~~~~~~~~~~~~~~~~^^
    |   File "/home/rehack/anaconda3/lib/python3.13/contextlib.py", line 162, in __exit__
    |     self.gen.throw(value)
    |     ~~~~~~~~~~~~~~^^^^^^^
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/_utils.py", line 85, in collapse_excgroups
    |     raise exc
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/base.py", line 193, in __call__
    |     response = await self.dispatch_func(request, call_next)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/slowapi/middleware.py", line 136, in dispatch
    |     response = await call_next(request)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/base.py", line 168, in call_next
    |     raise app_exc from app_exc.__cause__ or app_exc.__context__
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/base.py", line 144, in coro
    |     await self.app(scope, receive_or_disconnect, send_no_error)
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/gzip.py", line 29, in __call__
    |     await responder(scope, receive, send)
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/gzip.py", line 130, in __call__
    |     await super().__call__(scope, receive, send)
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/gzip.py", line 46, in __call__
    |     await self.app(scope, receive, self.send_with_compression)
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/trustedhost.py", line 36, in __call__
    |     await self.app(scope, receive, send)
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/cors.py", line 93, in __call__
    |     await self.simple_response(scope, receive, send, request_headers=headers)
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    |     await self.app(scope, receive, send)
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    |     await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    |     raise exc
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    |     await app(scope, receive, sender)
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    |     await self.app(scope, receive, send)
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/routing.py", line 716, in __call__
    |     await self.middleware_stack(scope, receive, send)
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/routing.py", line 736, in app
    |     await route.handle(scope, receive, send)
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/routing.py", line 290, in handle
    |     await self.app(scope, receive, send)
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/fastapi/routing.py", line 125, in app
    |     await wrap_app_handling_exceptions(app, request)(scope, receive, send)
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    |     raise exc
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    |     await app(scope, receive, sender)
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/fastapi/routing.py", line 111, in app
    |     response = await f(request)
    |                ^^^^^^^^^^^^^^^^
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/fastapi/routing.py", line 391, in app
    |     raw_response = await run_endpoint_function(
    |                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |     ...<3 lines>...
    |     )
    |     ^
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/fastapi/routing.py", line 290, in run_endpoint_function
    |     return await dependant.call(**values)
    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/home/rehack/PycharmProjects/solpro_backend/app/api/v1/endpoints/admin.py", line 113, in update_propfirm_registration
    |     registration = await service.update_registration(registration_id, registration_in, background_tasks)
    |                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/home/rehack/PycharmProjects/solpro_backend/app/service/propfirm_registration_service.py", line 79, in update_registration
    |     if user:
    |        ^^^^
    | UnboundLocalError: cannot access local variable 'user' where it is not associated with a value
    +------------------------------------

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/home/rehack/PycharmProjects/solpro_backend/app/main.py", line 65, in log_requests
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/base.py", line 168, in call_next
    raise app_exc from app_exc.__cause__ or app_exc.__context__
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/base.py", line 144, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/base.py", line 191, in __call__
    with recv_stream, send_stream, collapse_excgroups():
                                   ~~~~~~~~~~~~~~~~~~^^
  File "/home/rehack/anaconda3/lib/python3.13/contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    ~~~~~~~~~~~~~~^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/_utils.py", line 85, in collapse_excgroups
    raise exc
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/base.py", line 193, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/slowapi/middleware.py", line 136, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/base.py", line 168, in call_next
    raise app_exc from app_exc.__cause__ or app_exc.__context__
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/base.py", line 144, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/gzip.py", line 29, in __call__
    await responder(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/gzip.py", line 130, in __call__
    await super().__call__(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/gzip.py", line 46, in __call__
    await self.app(scope, receive, self.send_with_compression)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/trustedhost.py", line 36, in __call__
    await self.app(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/fastapi/routing.py", line 125, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/fastapi/routing.py", line 111, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/fastapi/routing.py", line 391, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/fastapi/routing.py", line 290, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rehack/PycharmProjects/solpro_backend/app/api/v1/endpoints/admin.py", line 113, in update_propfirm_registration
    registration = await service.update_registration(registration_id, registration_in, background_tasks)
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rehack/PycharmProjects/solpro_backend/app/service/propfirm_registration_service.py", line 79, in update_registration
    if user:
       ^^^^
UnboundLocalError: cannot access local variable 'user' where it is not associated with a value

2025-12-31 14:20:13,949 - uvicorn.access - INFO - 127.0.0.1:50854 - "PUT /api/v1/admin/prop-firm/7a66c611-3afe-4161-a219-8e62f21c1f60 HTTP/1.1" 500
2025-12-31 14:20:13,966 - app - INFO - Request: GET /api/v1/admin/prop-firms - Status: 200 - Duration: 4.81ms
2025-12-31 14:20:13,966 - uvicorn.access - INFO - 127.0.0.1:50868 - "GET /api/v1/admin/prop-firms HTTP/1.1" 200
2025-12-31 14:20:33,401 - app - INFO - Request: GET /api/v1/users/me - Status: 404 - Duration: 34.97ms
2025-12-31 14:20:33,404 - uvicorn.access - INFO - 127.0.0.1:51784 - "GET /api/v1/users/me HTTP/1.1" 404
2025-12-31 14:20:33,554 - app - INFO - Request: GET /api/v1/prop-firm - Status: 404 - Duration: 9.70ms
2025-12-31 14:20:33,554 - uvicorn.access - INFO - 127.0.0.1:51794 - "GET /api/v1/prop-firm HTTP/1.1" 404
2025-12-31 14:20:42,257 - uvicorn.error - INFO - Shutting down
2025-12-31 14:20:42,358 - uvicorn.error - INFO - Waiting for application shutdown.
2025-12-31 14:20:42,358 - app - INFO - Shutting down application...
2025-12-31 14:20:42,358 - uvicorn.error - INFO - Application shutdown complete.
2025-12-31 14:20:42,359 - uvicorn.error - INFO - Finished server process [253812]
2025-12-31 14:20:43,780 - uvicorn.error - INFO - Started server process [263868]
2025-12-31 14:20:43,781 - uvicorn.error - INFO - Waiting for application startup.
2025-12-31 14:20:43,781 - app - INFO - Starting up application...
2025-12-31 14:20:43,790 - uvicorn.error - INFO - Application startup complete.
2025-12-31 14:20:48,476 - app - INFO - Request: GET /api/v1/users/me - Status: 404 - Duration: 79.70ms
2025-12-31 14:20:48,477 - uvicorn.access - INFO - 127.0.0.1:35816 - "GET /api/v1/users/me HTTP/1.1" 404
2025-12-31 14:20:48,887 - app - INFO - Request: GET /api/v1/prop-firm - Status: 404 - Duration: 21.67ms
2025-12-31 14:20:48,887 - uvicorn.access - INFO - 127.0.0.1:35826 - "GET /api/v1/prop-firm HTTP/1.1" 404
2025-12-31 14:21:17,265 - app - INFO - Request: POST /api/v1/auth/login/access-token - Status: 200 - Duration: 332.13ms
2025-12-31 14:21:17,265 - uvicorn.access - INFO - 127.0.0.1:36734 - "POST /api/v1/auth/login/access-token HTTP/1.1" 200
2025-12-31 14:21:18,537 - app - INFO - Request: GET /api/v1/users/me - Status: 200 - Duration: 38.94ms
2025-12-31 14:21:18,537 - uvicorn.access - INFO - 127.0.0.1:58882 - "GET /api/v1/users/me HTTP/1.1" 200
2025-12-31 14:21:18,626 - app - INFO - Request: GET /api/v1/users/me - Status: 200 - Duration: 38.12ms
2025-12-31 14:21:18,627 - uvicorn.access - INFO - 127.0.0.1:58896 - "GET /api/v1/users/me HTTP/1.1" 200
2025-12-31 14:21:18,637 - app - INFO - Request: GET /api/v1/prop-firm - Status: 200 - Duration: 39.43ms
2025-12-31 14:21:18,638 - uvicorn.access - INFO - 127.0.0.1:58900 - "GET /api/v1/prop-firm HTTP/1.1" 200
2025-12-31 14:21:18,842 - app - INFO - Request: GET /api/v1/prop-firm - Status: 200 - Duration: 45.89ms
2025-12-31 14:21:18,844 - uvicorn.access - INFO - 127.0.0.1:58902 - "GET /api/v1/prop-firm HTTP/1.1" 200
2025-12-31 14:22:03,712 - uvicorn.error - INFO - Shutting down
2025-12-31 14:22:03,813 - uvicorn.error - INFO - Waiting for application shutdown.
2025-12-31 14:22:03,814 - app - INFO - Shutting down application...
2025-12-31 14:22:03,814 - uvicorn.error - INFO - Application shutdown complete.
2025-12-31 14:22:03,814 - uvicorn.error - INFO - Finished server process [263868]
2025-12-31 14:22:05,370 - uvicorn.error - INFO - Started server process [265189]
2025-12-31 14:22:05,371 - uvicorn.error - INFO - Waiting for application startup.
2025-12-31 14:22:05,371 - app - INFO - Starting up application...
2025-12-31 14:22:05,377 - uvicorn.error - INFO - Application startup complete.
2025-12-31 14:22:36,330 - uvicorn.error - INFO - Shutting down
2025-12-31 14:22:36,432 - uvicorn.error - INFO - Waiting for application shutdown.
2025-12-31 14:22:36,432 - app - INFO - Shutting down application...
2025-12-31 14:22:36,433 - uvicorn.error - INFO - Application shutdown complete.
2025-12-31 14:22:36,435 - uvicorn.error - INFO - Finished server process [265189]
2025-12-31 14:22:37,930 - uvicorn.error - INFO - Started server process [265760]
2025-12-31 14:22:37,931 - uvicorn.error - INFO - Waiting for application startup.
2025-12-31 14:22:37,932 - app - INFO - Starting up application...
2025-12-31 14:22:37,940 - uvicorn.error - INFO - Application startup complete.
2025-12-31 14:24:31,119 - uvicorn.error - INFO - Shutting down
2025-12-31 14:24:31,220 - uvicorn.error - INFO - Waiting for application shutdown.
2025-12-31 14:24:31,220 - app - INFO - Shutting down application...
2025-12-31 14:24:31,221 - uvicorn.error - INFO - Application shutdown complete.
2025-12-31 14:24:31,221 - uvicorn.error - INFO - Finished server process [265760]
2025-12-31 14:24:33,059 - uvicorn.error - INFO - Started server process [267421]
2025-12-31 14:24:33,062 - uvicorn.error - INFO - Waiting for application startup.
2025-12-31 14:24:33,064 - app - INFO - Starting up application...
2025-12-31 14:24:33,110 - uvicorn.error - INFO - Application startup complete.
2025-12-31 14:28:27,136 - uvicorn.error - INFO - Shutting down
2025-12-31 14:28:27,237 - uvicorn.error - INFO - Waiting for application shutdown.
2025-12-31 14:28:27,240 - app - INFO - Shutting down application...
2025-12-31 14:28:27,241 - uvicorn.error - INFO - Application shutdown complete.
2025-12-31 14:28:27,244 - uvicorn.error - INFO - Finished server process [267421]
2025-12-31 14:28:29,203 - uvicorn.error - INFO - Started server process [270856]
2025-12-31 14:28:29,203 - uvicorn.error - INFO - Waiting for application startup.
2025-12-31 14:28:29,203 - app - INFO - Starting up application...
2025-12-31 14:28:29,233 - uvicorn.error - INFO - Application startup complete.
2025-12-31 14:28:58,711 - uvicorn.error - INFO - Shutting down
2025-12-31 14:28:58,811 - uvicorn.error - INFO - Waiting for application shutdown.
2025-12-31 14:28:58,811 - app - INFO - Shutting down application...
2025-12-31 14:28:58,811 - uvicorn.error - INFO - Application shutdown complete.
2025-12-31 14:28:58,811 - uvicorn.error - INFO - Finished server process [270856]
2025-12-31 14:29:02,085 - uvicorn.error - INFO - Started server process [271420]
2025-12-31 14:29:02,086 - uvicorn.error - INFO - Waiting for application startup.
2025-12-31 14:29:02,086 - app - INFO - Starting up application...
2025-12-31 14:29:02,093 - uvicorn.error - INFO - Application startup complete.
2025-12-31 14:32:23,115 - app - INFO - Request: POST /api/v1/prop-firm - Status: 200 - Duration: 73.46ms
2025-12-31 14:32:23,115 - uvicorn.access - INFO - 127.0.0.1:56624 - "POST /api/v1/prop-firm HTTP/1.1" 200
2025-12-31 14:32:23,145 - app - INFO - Request: POST /api/v1/payments - Status: 307 - Duration: 0.70ms
2025-12-31 14:32:23,145 - uvicorn.access - INFO - 127.0.0.1:56638 - "POST /api/v1/payments HTTP/1.1" 307
2025-12-31 14:32:23,149 - app - INFO - Request: OPTIONS /api/v1/payments/ - Status: 200 - Duration: 0.55ms
2025-12-31 14:32:23,150 - uvicorn.access - INFO - 127.0.0.1:56654 - "OPTIONS /api/v1/payments/ HTTP/1.1" 200
2025-12-31 14:32:23,168 - app - INFO - Request: POST /api/v1/payments/ - Status: 401 - Duration: 9.19ms
2025-12-31 14:32:23,168 - uvicorn.access - INFO - 127.0.0.1:56656 - "POST /api/v1/payments/ HTTP/1.1" 401
2025-12-31 14:32:31,983 - app - INFO - Request: POST /api/v1/auth/login/access-token - Status: 200 - Duration: 337.40ms
2025-12-31 14:32:31,983 - uvicorn.access - INFO - 127.0.0.1:49652 - "POST /api/v1/auth/login/access-token HTTP/1.1" 200
2025-12-31 14:32:33,273 - app - INFO - Request: GET /api/v1/users/me - Status: 200 - Duration: 33.79ms
2025-12-31 14:32:33,273 - uvicorn.access - INFO - 127.0.0.1:49662 - "GET /api/v1/users/me HTTP/1.1" 200
2025-12-31 14:32:33,314 - app - INFO - Request: GET /api/v1/users/me - Status: 200 - Duration: 13.75ms
2025-12-31 14:32:33,315 - uvicorn.access - INFO - 127.0.0.1:49670 - "GET /api/v1/users/me HTTP/1.1" 200
2025-12-31 14:32:33,367 - app - INFO - Request: GET /api/v1/prop-firm - Status: 200 - Duration: 16.99ms
2025-12-31 14:32:33,367 - uvicorn.access - INFO - 127.0.0.1:49674 - "GET /api/v1/prop-firm HTTP/1.1" 200
2025-12-31 14:32:33,401 - app - INFO - Request: GET /api/v1/prop-firm - Status: 200 - Duration: 21.91ms
2025-12-31 14:32:33,404 - uvicorn.access - INFO - 127.0.0.1:49686 - "GET /api/v1/prop-firm HTTP/1.1" 200
2025-12-31 15:13:18,689 - uvicorn.error - INFO - Shutting down
2025-12-31 15:13:18,796 - uvicorn.error - INFO - Waiting for application shutdown.
2025-12-31 15:13:18,797 - app - INFO - Shutting down application...
2025-12-31 15:13:18,797 - uvicorn.error - INFO - Application shutdown complete.
2025-12-31 15:13:18,797 - uvicorn.error - INFO - Finished server process [271420]
2026-01-02 09:31:53,832 - uvicorn.error - INFO - Started server process [216483]
2026-01-02 09:31:53,833 - uvicorn.error - INFO - Waiting for application startup.
2026-01-02 09:31:53,833 - app - INFO - Starting up application...
2026-01-02 09:31:53,899 - uvicorn.error - INFO - Application startup complete.
2026-01-02 09:32:09,838 - app - INFO - Request: POST /api/v1/auth/login/access-token - Status: 200 - Duration: 753.17ms
2026-01-02 09:32:09,839 - uvicorn.access - INFO - 127.0.0.1:50188 - "POST /api/v1/auth/login/access-token HTTP/1.1" 200
2026-01-02 09:32:11,156 - app - INFO - Request: GET /api/v1/users/me - Status: 200 - Duration: 71.41ms
2026-01-02 09:32:11,156 - uvicorn.access - INFO - 127.0.0.1:36606 - "GET /api/v1/users/me HTTP/1.1" 200
2026-01-02 09:32:11,246 - app - INFO - Request: GET /api/v1/users/me - Status: 200 - Duration: 60.12ms
2026-01-02 09:32:11,246 - uvicorn.access - INFO - 127.0.0.1:36622 - "GET /api/v1/users/me HTTP/1.1" 200
2026-01-02 09:32:11,309 - app - INFO - Request: GET /api/v1/prop-firm - Status: 200 - Duration: 88.73ms
2026-01-02 09:32:11,310 - uvicorn.access - INFO - 127.0.0.1:36626 - "GET /api/v1/prop-firm HTTP/1.1" 200
2026-01-02 09:32:11,394 - app - INFO - Request: GET /api/v1/prop-firm - Status: 200 - Duration: 29.74ms
2026-01-02 09:32:11,394 - uvicorn.access - INFO - 127.0.0.1:36636 - "GET /api/v1/prop-firm HTTP/1.1" 200
2026-01-02 09:34:53,365 - app - INFO - Request: POST /api/v1/prop-firm - Status: 200 - Duration: 24.91ms
2026-01-02 09:34:53,365 - uvicorn.access - INFO - 127.0.0.1:38538 - "POST /api/v1/prop-firm HTTP/1.1" 200
2026-01-02 09:35:44,081 - app - INFO - Request: POST /api/v1/prop-firm - Status: 200 - Duration: 22.97ms
2026-01-02 09:35:44,082 - uvicorn.access - INFO - 127.0.0.1:43132 - "POST /api/v1/prop-firm HTTP/1.1" 200
2026-01-02 09:36:48,688 - app - INFO - Request: POST /api/v1/prop-firm - Status: 200 - Duration: 30.25ms
2026-01-02 09:36:48,690 - uvicorn.access - INFO - 127.0.0.1:41142 - "POST /api/v1/prop-firm HTTP/1.1" 200
2026-01-02 09:43:29,459 - app - INFO - Request: POST /api/v1/prop-firm - Status: 200 - Duration: 43.37ms
2026-01-02 09:43:29,460 - uvicorn.access - INFO - 127.0.0.1:51876 - "POST /api/v1/prop-firm HTTP/1.1" 200
2026-01-02 09:43:29,501 - app - INFO - Request: POST /api/v1/payments - Status: 307 - Duration: 0.83ms
2026-01-02 09:43:29,501 - uvicorn.access - INFO - 127.0.0.1:51878 - "POST /api/v1/payments HTTP/1.1" 307
2026-01-02 09:43:29,517 - app - INFO - Request: OPTIONS /api/v1/payments/ - Status: 200 - Duration: 0.68ms
2026-01-02 09:43:29,517 - uvicorn.access - INFO - 127.0.0.1:51884 - "OPTIONS /api/v1/payments/ HTTP/1.1" 200
2026-01-02 09:43:29,529 - app - INFO - Request: POST /api/v1/payments/ - Status: 401 - Duration: 5.39ms
2026-01-02 09:43:29,531 - uvicorn.access - INFO - 127.0.0.1:51890 - "POST /api/v1/payments/ HTTP/1.1" 401
2026-01-02 09:47:21,902 - app - INFO - Request: POST /api/v1/auth/login/access-token - Status: 200 - Duration: 346.94ms
2026-01-02 09:47:21,903 - uvicorn.access - INFO - 127.0.0.1:56566 - "POST /api/v1/auth/login/access-token HTTP/1.1" 200
2026-01-02 09:47:23,183 - app - INFO - Request: GET /api/v1/users/me - Status: 200 - Duration: 23.68ms
2026-01-02 09:47:23,185 - uvicorn.access - INFO - 127.0.0.1:56570 - "GET /api/v1/users/me HTTP/1.1" 200
2026-01-02 09:47:23,341 - app - INFO - Request: GET /api/v1/users/me - Status: 200 - Duration: 112.57ms
2026-01-02 09:47:23,341 - uvicorn.access - INFO - 127.0.0.1:56586 - "GET /api/v1/users/me HTTP/1.1" 200
2026-01-02 09:47:23,370 - app - INFO - Request: GET /api/v1/prop-firm - Status: 200 - Duration: 109.63ms
2026-01-02 09:47:23,370 - uvicorn.access - INFO - 127.0.0.1:56602 - "GET /api/v1/prop-firm HTTP/1.1" 200
2026-01-02 09:47:23,711 - app - INFO - Request: GET /api/v1/prop-firm - Status: 200 - Duration: 48.65ms
2026-01-02 09:47:23,712 - uvicorn.access - INFO - 127.0.0.1:56612 - "GET /api/v1/prop-firm HTTP/1.1" 200
2026-01-02 09:49:37,379 - app - INFO - Request: GET /api/v1/users/me - Status: 200 - Duration: 8.03ms
2026-01-02 09:49:37,380 - uvicorn.access - INFO - 127.0.0.1:48234 - "GET /api/v1/users/me HTTP/1.1" 200
2026-01-02 09:49:37,486 - app - INFO - Request: POST /api/v1/prop-firm - Status: 200 - Duration: 54.81ms
2026-01-02 09:49:37,487 - uvicorn.access - INFO - 127.0.0.1:48242 - "POST /api/v1/prop-firm HTTP/1.1" 200
2026-01-02 09:49:37,514 - app - INFO - Request: POST /api/v1/payments - Status: 307 - Duration: 0.43ms
2026-01-02 09:49:37,515 - uvicorn.access - INFO - 127.0.0.1:48258 - "POST /api/v1/payments HTTP/1.1" 307
2026-01-02 09:49:37,544 - app - INFO - Request: POST /api/v1/payments/ - Status: 401 - Duration: 3.25ms
2026-01-02 09:49:37,545 - uvicorn.access - INFO - 127.0.0.1:48262 - "POST /api/v1/payments/ HTTP/1.1" 401
2026-01-02 09:52:35,851 - uvicorn.error - INFO - Shutting down
2026-01-02 09:52:35,961 - uvicorn.error - INFO - Waiting for application shutdown.
2026-01-02 09:52:35,962 - app - INFO - Shutting down application...
2026-01-02 09:52:35,963 - uvicorn.error - INFO - Application shutdown complete.
2026-01-02 09:52:35,963 - uvicorn.error - INFO - Finished server process [216483]
2026-01-02 09:52:41,041 - uvicorn.error - INFO - Started server process [234477]
2026-01-02 09:52:41,047 - uvicorn.error - INFO - Waiting for application startup.
2026-01-02 09:52:41,048 - app - INFO - Starting up application...
2026-01-02 09:52:41,077 - uvicorn.error - INFO - Application startup complete.
2026-01-02 09:52:43,144 - uvicorn.error - INFO - Started server process [234568]
2026-01-02 09:52:43,144 - uvicorn.error - INFO - Waiting for application startup.
2026-01-02 09:52:43,145 - app - INFO - Starting up application...
2026-01-02 09:52:43,155 - uvicorn.error - INFO - Application startup complete.
2026-01-02 09:53:53,426 - app - INFO - Request: POST /api/v1/auth/login/access-token - Status: 200 - Duration: 365.90ms
2026-01-02 09:53:53,427 - uvicorn.access - INFO - 127.0.0.1:35028 - "POST /api/v1/auth/login/access-token HTTP/1.1" 200
2026-01-02 09:53:54,896 - app - INFO - Request: GET /api/v1/users/me - Status: 200 - Duration: 79.26ms
2026-01-02 09:53:54,896 - uvicorn.access - INFO - 127.0.0.1:35036 - "GET /api/v1/users/me HTTP/1.1" 200
2026-01-02 09:53:54,988 - app - INFO - Request: GET /api/v1/users/me - Status: 200 - Duration: 58.00ms
2026-01-02 09:53:54,988 - uvicorn.access - INFO - 127.0.0.1:35050 - "GET /api/v1/users/me HTTP/1.1" 200
2026-01-02 09:53:55,039 - app - INFO - Request: GET /api/v1/prop-firm - Status: 200 - Duration: 38.35ms
2026-01-02 09:53:55,039 - uvicorn.access - INFO - 127.0.0.1:35058 - "GET /api/v1/prop-firm HTTP/1.1" 200
2026-01-02 09:53:55,148 - app - INFO - Request: GET /api/v1/prop-firm - Status: 200 - Duration: 75.49ms
2026-01-02 09:53:55,149 - uvicorn.access - INFO - 127.0.0.1:35070 - "GET /api/v1/prop-firm HTTP/1.1" 200
2026-01-02 09:56:11,886 - app - INFO - Request: GET /api/v1/users/me - Status: 200 - Duration: 16.43ms
2026-01-02 09:56:11,886 - uvicorn.access - INFO - 127.0.0.1:40956 - "GET /api/v1/users/me HTTP/1.1" 200
2026-01-02 09:56:11,984 - app - INFO - Request: POST /api/v1/prop-firm - Status: 200 - Duration: 54.03ms
2026-01-02 09:56:11,984 - uvicorn.access - INFO - 127.0.0.1:40962 - "POST /api/v1/prop-firm HTTP/1.1" 200
2026-01-02 09:56:12,140 - app - INFO - Request: POST /api/v1/payments - Status: 200 - Duration: 95.57ms
2026-01-02 09:56:12,141 - uvicorn.access - INFO - 127.0.0.1:40968 - "POST /api/v1/payments HTTP/1.1" 200
2026-01-02 09:56:20,186 - app - INFO - Request: GET /api/v1/users/me - Status: 200 - Duration: 39.43ms
2026-01-02 09:56:20,186 - uvicorn.access - INFO - 127.0.0.1:40984 - "GET /api/v1/users/me HTTP/1.1" 200
2026-01-02 09:56:20,239 - app - INFO - Request: GET /api/v1/users/me - Status: 200 - Duration: 24.04ms
2026-01-02 09:56:20,241 - uvicorn.access - INFO - 127.0.0.1:40988 - "GET /api/v1/users/me HTTP/1.1" 200
2026-01-02 09:56:20,305 - app - INFO - Request: GET /api/v1/prop-firm - Status: 200 - Duration: 59.24ms
2026-01-02 09:56:20,306 - uvicorn.access - INFO - 127.0.0.1:41002 - "GET /api/v1/prop-firm HTTP/1.1" 200
2026-01-02 09:56:20,409 - app - INFO - Request: GET /api/v1/prop-firm - Status: 200 - Duration: 79.05ms
2026-01-02 09:56:20,410 - uvicorn.access - INFO - 127.0.0.1:41018 - "GET /api/v1/prop-firm HTTP/1.1" 200
2026-01-02 10:02:43,195 - app - INFO - Request: POST /api/v1/auth/login/access-token - Status: 400 - Duration: 10.32ms
2026-01-02 10:02:43,196 - uvicorn.access - INFO - 127.0.0.1:49214 - "POST /api/v1/auth/login/access-token HTTP/1.1" 400
2026-01-02 10:16:41,292 - app - INFO - Request: POST /api/v1/users/ - Status: 307 - Duration: 0.65ms
2026-01-02 10:16:41,293 - uvicorn.access - INFO - 127.0.0.1:57358 - "POST /api/v1/users/ HTTP/1.1" 307
2026-01-02 10:17:31,185 - uvicorn.error - INFO - Shutting down
2026-01-02 10:17:31,286 - uvicorn.error - INFO - Waiting for application shutdown.
2026-01-02 10:17:31,287 - app - INFO - Shutting down application...
2026-01-02 10:17:31,288 - uvicorn.error - INFO - Application shutdown complete.
2026-01-02 10:17:31,288 - uvicorn.error - INFO - Finished server process [234568]
2026-01-02 10:17:33,908 - uvicorn.error - INFO - Started server process [257051]
2026-01-02 10:17:33,908 - uvicorn.error - INFO - Waiting for application startup.
2026-01-02 10:17:33,909 - app - INFO - Starting up application...
2026-01-02 10:17:33,944 - uvicorn.error - INFO - Application startup complete.
2026-01-02 10:17:35,057 - uvicorn.error - INFO - Shutting down
2026-01-02 10:17:35,157 - uvicorn.error - INFO - Waiting for application shutdown.
2026-01-02 10:17:35,158 - app - INFO - Shutting down application...
2026-01-02 10:17:35,158 - uvicorn.error - INFO - Application shutdown complete.
2026-01-02 10:17:35,158 - uvicorn.error - INFO - Finished server process [257051]
2026-01-02 10:17:37,580 - uvicorn.error - INFO - Started server process [257126]
2026-01-02 10:17:37,580 - uvicorn.error - INFO - Waiting for application startup.
2026-01-02 10:17:37,580 - app - INFO - Starting up application...
2026-01-02 10:17:37,590 - uvicorn.error - INFO - Application startup complete.
2026-01-02 10:17:39,438 - uvicorn.error - INFO - Started server process [257158]
2026-01-02 10:17:39,439 - uvicorn.error - INFO - Waiting for application startup.
2026-01-02 10:17:39,440 - app - INFO - Starting up application...
2026-01-02 10:17:39,448 - uvicorn.error - INFO - Application startup complete.
2026-01-02 10:17:43,066 - uvicorn.error - INFO - Shutting down
2026-01-02 10:17:43,166 - uvicorn.error - INFO - Waiting for application shutdown.
2026-01-02 10:17:43,167 - app - INFO - Shutting down application...
2026-01-02 10:17:43,167 - uvicorn.error - INFO - Application shutdown complete.
2026-01-02 10:17:43,167 - uvicorn.error - INFO - Finished server process [257158]
2026-01-02 10:17:46,098 - uvicorn.error - INFO - Started server process [257276]
2026-01-02 10:17:46,098 - uvicorn.error - INFO - Waiting for application startup.
2026-01-02 10:17:46,099 - app - INFO - Starting up application...
2026-01-02 10:17:46,107 - uvicorn.error - INFO - Application startup complete.
2026-01-02 10:17:47,596 - uvicorn.error - INFO - Started server process [257309]
2026-01-02 10:17:47,596 - uvicorn.error - INFO - Waiting for application startup.
2026-01-02 10:17:47,596 - app - INFO - Starting up application...
2026-01-02 10:17:47,637 - uvicorn.error - INFO - Application startup complete.
2026-01-02 10:17:48,042 - uvicorn.error - INFO - Shutting down
2026-01-02 10:17:48,144 - uvicorn.error - INFO - Waiting for application shutdown.
2026-01-02 10:17:48,161 - app - INFO - Shutting down application...
2026-01-02 10:17:48,162 - uvicorn.error - INFO - Application shutdown complete.
2026-01-02 10:17:48,162 - uvicorn.error - INFO - Finished server process [257309]
2026-01-02 10:17:49,631 - uvicorn.error - INFO - Started server process [257368]
2026-01-02 10:17:49,631 - uvicorn.error - INFO - Waiting for application startup.
2026-01-02 10:17:49,632 - app - INFO - Starting up application...
2026-01-02 10:17:49,639 - uvicorn.error - INFO - Application startup complete.
2026-01-02 10:17:51,552 - uvicorn.error - INFO - Shutting down
2026-01-02 10:17:51,655 - uvicorn.error - INFO - Waiting for application shutdown.
2026-01-02 10:17:51,655 - app - INFO - Shutting down application...
2026-01-02 10:17:51,655 - uvicorn.error - INFO - Application shutdown complete.
2026-01-02 10:17:51,656 - uvicorn.error - INFO - Finished server process [257368]
2026-01-02 10:17:53,289 - uvicorn.error - INFO - Started server process [257446]
2026-01-02 10:17:53,289 - uvicorn.error - INFO - Waiting for application startup.
2026-01-02 10:17:53,289 - app - INFO - Starting up application...
2026-01-02 10:17:53,298 - uvicorn.error - INFO - Application startup complete.
2026-01-02 10:17:54,553 - uvicorn.error - INFO - Started server process [257484]
2026-01-02 10:17:54,554 - uvicorn.error - INFO - Waiting for application startup.
2026-01-02 10:17:54,554 - app - INFO - Starting up application...
2026-01-02 10:17:54,562 - uvicorn.error - INFO - Application startup complete.
2026-01-02 10:17:55,970 - uvicorn.error - INFO - Shutting down
2026-01-02 10:17:56,071 - uvicorn.error - INFO - Waiting for application shutdown.
2026-01-02 10:17:56,071 - app - INFO - Shutting down application...
2026-01-02 10:17:56,071 - uvicorn.error - INFO - Application shutdown complete.
2026-01-02 10:17:56,071 - uvicorn.error - INFO - Finished server process [257484]
2026-01-02 10:17:57,580 - uvicorn.error - INFO - Started server process [257560]
2026-01-02 10:17:57,581 - uvicorn.error - INFO - Waiting for application startup.
2026-01-02 10:17:57,581 - app - INFO - Starting up application...
2026-01-02 10:17:57,591 - uvicorn.error - INFO - Application startup complete.
2026-01-02 10:17:58,798 - uvicorn.error - INFO - Started server process [257591]
2026-01-02 10:17:58,799 - uvicorn.error - INFO - Waiting for application startup.
2026-01-02 10:17:58,799 - app - INFO - Starting up application...
2026-01-02 10:17:58,805 - uvicorn.error - INFO - Application startup complete.
2026-01-02 10:47:26,513 - app - INFO - Request: POST /api/v1/users - Status: 200 - Duration: 837.37ms
2026-01-02 10:47:26,514 - uvicorn.access - INFO - 127.0.0.1:35080 - "POST /api/v1/users HTTP/1.1" 200
2026-01-02 10:47:27,301 - app - INFO - Request: POST /api/v1/auth/login/access-token - Status: 200 - Duration: 777.90ms
2026-01-02 10:47:27,303 - uvicorn.access - INFO - 127.0.0.1:35080 - "POST /api/v1/auth/login/access-token HTTP/1.1" 200
2026-01-02 10:47:27,379 - app - INFO - Request: GET /api/v1/users/me - Status: 200 - Duration: 68.56ms
2026-01-02 10:47:27,380 - uvicorn.access - INFO - 127.0.0.1:35080 - "GET /api/v1/users/me HTTP/1.1" 200
2026-01-02 10:47:27,472 - app - INFO - Request: PUT /api/v1/users/me - Status: 200 - Duration: 79.62ms
2026-01-02 10:47:27,473 - uvicorn.access - INFO - 127.0.0.1:35080 - "PUT /api/v1/users/me HTTP/1.1" 200
2026-01-02 10:48:27,907 - app - INFO - Request: POST /api/v1/auth/login/access-token - Status: 200 - Duration: 316.23ms
2026-01-02 10:48:27,907 - uvicorn.access - INFO - 127.0.0.1:51194 - "POST /api/v1/auth/login/access-token HTTP/1.1" 200
2026-01-02 10:48:27,931 - app - INFO - Request: POST /api/v1/payments - Status: 200 - Duration: 20.66ms
2026-01-02 10:48:27,931 - uvicorn.access - INFO - 127.0.0.1:51194 - "POST /api/v1/payments HTTP/1.1" 200
2026-01-02 10:48:27,954 - app - INFO - Request: POST /api/v1/transactions - Status: 200 - Duration: 20.17ms
2026-01-02 10:48:27,954 - uvicorn.access - INFO - 127.0.0.1:51194 - "POST /api/v1/transactions HTTP/1.1" 200
2026-01-02 10:48:27,979 - app - INFO - Request: POST /api/v1/prop-firm - Status: 200 - Duration: 20.43ms
2026-01-02 10:48:27,979 - uvicorn.access - INFO - 127.0.0.1:51194 - "POST /api/v1/prop-firm HTTP/1.1" 200
2026-01-02 10:48:28,332 - app - INFO - Request: POST /api/v1/auth/login/admin/access-token - Status: 200 - Duration: 350.21ms
2026-01-02 10:48:28,332 - uvicorn.access - INFO - 127.0.0.1:51194 - "POST /api/v1/auth/login/admin/access-token HTTP/1.1" 200
2026-01-02 10:48:28,391 - app - INFO - Request: POST /api/v1/discounts/discounts - Status: 200 - Duration: 55.73ms
2026-01-02 10:48:28,391 - uvicorn.access - INFO - 127.0.0.1:51194 - "POST /api/v1/discounts/discounts HTTP/1.1" 200
2026-01-02 10:48:28,455 - app - INFO - Request: POST /api/v1/discounts/apply-discount - Status: 200 - Duration: 59.51ms
2026-01-02 10:48:28,455 - uvicorn.access - INFO - 127.0.0.1:51194 - "POST /api/v1/discounts/apply-discount HTTP/1.1" 200
2026-01-02 10:48:28,472 - app - INFO - Request: GET /api/v1/prop-firm - Status: 200 - Duration: 13.23ms
2026-01-02 10:48:28,473 - uvicorn.access - INFO - 127.0.0.1:51194 - "GET /api/v1/prop-firm?status=pending HTTP/1.1" 200
2026-01-02 10:48:28,513 - app - INFO - Request: GET /api/v1/admin/stats - Status: 200 - Duration: 37.19ms
2026-01-02 10:48:28,515 - uvicorn.access - INFO - 127.0.0.1:51194 - "GET /api/v1/admin/stats HTTP/1.1" 200
2026-01-02 10:48:28,563 - app - INFO - Request: GET /api/v1/prop-firm - Status: 200 - Duration: 39.12ms
2026-01-02 10:48:28,564 - uvicorn.access - INFO - 127.0.0.1:51194 - "GET /api/v1/prop-firm HTTP/1.1" 200
2026-01-02 10:48:28,667 - app - ERROR - Request failed: PUT /api/v1/admin/prop-firm/1b1d75e9-084c-4d81-b66e-962ee7d63810 - Duration: 93.26ms - Error: cannot access local variable 'user' where it is not associated with a value
2026-01-02 10:48:28,701 - app - ERROR -   + Exception Group Traceback (most recent call last):
  |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/_utils.py", line 79, in collapse_excgroups
  |     yield
  |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/base.py", line 192, in __call__
  |     async with anyio.create_task_group() as task_group:
  |                ~~~~~~~~~~~~~~~~~~~~~~~^^
  |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/anyio/_backends/_asyncio.py", line 815, in __aexit__
  |     raise BaseExceptionGroup(
  |         "unhandled errors in a TaskGroup", self._exceptions
  |     )
  | ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)
  +-+---------------- 1 ----------------
    | Traceback (most recent call last):
    |   File "/home/rehack/PycharmProjects/solpro_backend/app/main.py", line 65, in log_requests
    |     response = await call_next(request)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/base.py", line 168, in call_next
    |     raise app_exc from app_exc.__cause__ or app_exc.__context__
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/base.py", line 144, in coro
    |     await self.app(scope, receive_or_disconnect, send_no_error)
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/base.py", line 191, in __call__
    |     with recv_stream, send_stream, collapse_excgroups():
    |                                    ~~~~~~~~~~~~~~~~~~^^
    |   File "/home/rehack/anaconda3/lib/python3.13/contextlib.py", line 162, in __exit__
    |     self.gen.throw(value)
    |     ~~~~~~~~~~~~~~^^^^^^^
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/_utils.py", line 85, in collapse_excgroups
    |     raise exc
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/base.py", line 193, in __call__
    |     response = await self.dispatch_func(request, call_next)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/slowapi/middleware.py", line 136, in dispatch
    |     response = await call_next(request)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/base.py", line 168, in call_next
    |     raise app_exc from app_exc.__cause__ or app_exc.__context__
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/base.py", line 144, in coro
    |     await self.app(scope, receive_or_disconnect, send_no_error)
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/gzip.py", line 29, in __call__
    |     await responder(scope, receive, send)
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/gzip.py", line 130, in __call__
    |     await super().__call__(scope, receive, send)
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/gzip.py", line 46, in __call__
    |     await self.app(scope, receive, self.send_with_compression)
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/trustedhost.py", line 36, in __call__
    |     await self.app(scope, receive, send)
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/cors.py", line 85, in __call__
    |     await self.app(scope, receive, send)
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    |     await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    |     raise exc
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    |     await app(scope, receive, sender)
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    |     await self.app(scope, receive, send)
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/routing.py", line 716, in __call__
    |     await self.middleware_stack(scope, receive, send)
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/routing.py", line 736, in app
    |     await route.handle(scope, receive, send)
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/routing.py", line 290, in handle
    |     await self.app(scope, receive, send)
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/fastapi/routing.py", line 125, in app
    |     await wrap_app_handling_exceptions(app, request)(scope, receive, send)
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    |     raise exc
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    |     await app(scope, receive, sender)
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/fastapi/routing.py", line 111, in app
    |     response = await f(request)
    |                ^^^^^^^^^^^^^^^^
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/fastapi/routing.py", line 391, in app
    |     raw_response = await run_endpoint_function(
    |                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |     ...<3 lines>...
    |     )
    |     ^
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/fastapi/routing.py", line 290, in run_endpoint_function
    |     return await dependant.call(**values)
    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/home/rehack/PycharmProjects/solpro_backend/app/api/v1/endpoints/admin.py", line 113, in update_propfirm_registration
    |     registration = await service.update_registration(registration_id, registration_in, background_tasks)
    |                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/home/rehack/PycharmProjects/solpro_backend/app/service/propfirm_registration_service.py", line 79, in update_registration
    |     if user:
    |        ^^^^
    | UnboundLocalError: cannot access local variable 'user' where it is not associated with a value
    +------------------------------------

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/home/rehack/PycharmProjects/solpro_backend/app/main.py", line 65, in log_requests
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/base.py", line 168, in call_next
    raise app_exc from app_exc.__cause__ or app_exc.__context__
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/base.py", line 144, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/base.py", line 191, in __call__
    with recv_stream, send_stream, collapse_excgroups():
                                   ~~~~~~~~~~~~~~~~~~^^
  File "/home/rehack/anaconda3/lib/python3.13/contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    ~~~~~~~~~~~~~~^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/_utils.py", line 85, in collapse_excgroups
    raise exc
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/base.py", line 193, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/slowapi/middleware.py", line 136, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/base.py", line 168, in call_next
    raise app_exc from app_exc.__cause__ or app_exc.__context__
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/base.py", line 144, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/gzip.py", line 29, in __call__
    await responder(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/gzip.py", line 130, in __call__
    await super().__call__(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/gzip.py", line 46, in __call__
    await self.app(scope, receive, self.send_with_compression)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/trustedhost.py", line 36, in __call__
    await self.app(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/fastapi/routing.py", line 125, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/fastapi/routing.py", line 111, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/fastapi/routing.py", line 391, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/fastapi/routing.py", line 290, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rehack/PycharmProjects/solpro_backend/app/api/v1/endpoints/admin.py", line 113, in update_propfirm_registration
    registration = await service.update_registration(registration_id, registration_in, background_tasks)
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rehack/PycharmProjects/solpro_backend/app/service/propfirm_registration_service.py", line 79, in update_registration
    if user:
       ^^^^
UnboundLocalError: cannot access local variable 'user' where it is not associated with a value

2026-01-02 10:48:28,707 - uvicorn.access - INFO - 127.0.0.1:51194 - "PUT /api/v1/admin/prop-firm/1b1d75e9-084c-4d81-b66e-962ee7d63810 HTTP/1.1" 500
2026-01-02 10:49:10,081 - uvicorn.error - INFO - Shutting down
2026-01-02 10:49:10,185 - uvicorn.error - INFO - Waiting for application shutdown.
2026-01-02 10:49:10,186 - app - INFO - Shutting down application...
2026-01-02 10:49:10,192 - uvicorn.error - INFO - Application shutdown complete.
2026-01-02 10:49:10,200 - uvicorn.error - INFO - Finished server process [257591]
2026-01-02 10:49:12,606 - uvicorn.error - INFO - Started server process [286658]
2026-01-02 10:49:12,606 - uvicorn.error - INFO - Waiting for application startup.
2026-01-02 10:49:12,607 - app - INFO - Starting up application...
2026-01-02 10:49:12,654 - uvicorn.error - INFO - Application startup complete.
2026-01-02 10:49:42,579 - uvicorn.error - INFO - Shutting down
2026-01-02 10:49:42,680 - uvicorn.error - INFO - Waiting for application shutdown.
2026-01-02 10:49:42,681 - app - INFO - Shutting down application...
2026-01-02 10:49:42,684 - uvicorn.error - INFO - Application shutdown complete.
2026-01-02 10:49:42,685 - uvicorn.error - INFO - Finished server process [286658]
2026-01-02 10:49:46,363 - uvicorn.error - INFO - Started server process [287169]
2026-01-02 10:49:46,364 - uvicorn.error - INFO - Waiting for application startup.
2026-01-02 10:49:46,364 - app - INFO - Starting up application...
2026-01-02 10:49:46,386 - uvicorn.error - INFO - Application startup complete.
2026-01-02 10:50:05,477 - app - INFO - Request: POST /api/v1/auth/login/access-token - Status: 200 - Duration: 579.60ms
2026-01-02 10:50:05,479 - uvicorn.access - INFO - 127.0.0.1:47530 - "POST /api/v1/auth/login/access-token HTTP/1.1" 200
2026-01-02 10:50:05,541 - app - INFO - Request: POST /api/v1/payments - Status: 200 - Duration: 54.14ms
2026-01-02 10:50:05,542 - uvicorn.access - INFO - 127.0.0.1:47530 - "POST /api/v1/payments HTTP/1.1" 200
2026-01-02 10:50:05,582 - app - INFO - Request: POST /api/v1/transactions - Status: 200 - Duration: 33.78ms
2026-01-02 10:50:05,583 - uvicorn.access - INFO - 127.0.0.1:47530 - "POST /api/v1/transactions HTTP/1.1" 200
2026-01-02 10:50:05,615 - app - INFO - Request: POST /api/v1/prop-firm - Status: 200 - Duration: 28.36ms
2026-01-02 10:50:05,615 - uvicorn.access - INFO - 127.0.0.1:47530 - "POST /api/v1/prop-firm HTTP/1.1" 200
2026-01-02 10:50:06,044 - app - INFO - Request: POST /api/v1/auth/login/admin/access-token - Status: 200 - Duration: 424.27ms
2026-01-02 10:50:06,045 - uvicorn.access - INFO - 127.0.0.1:47530 - "POST /api/v1/auth/login/admin/access-token HTTP/1.1" 200
2026-01-02 10:50:06,064 - app - INFO - Request: POST /api/v1/discounts/discounts - Status: 400 - Duration: 15.65ms
2026-01-02 10:50:06,065 - uvicorn.access - INFO - 127.0.0.1:47530 - "POST /api/v1/discounts/discounts HTTP/1.1" 400
2026-01-02 10:50:06,112 - app - INFO - Request: POST /api/v1/discounts/apply-discount - Status: 400 - Duration: 42.64ms
2026-01-02 10:50:06,113 - uvicorn.access - INFO - 127.0.0.1:47530 - "POST /api/v1/discounts/apply-discount HTTP/1.1" 400
2026-01-02 10:50:06,151 - app - INFO - Request: GET /api/v1/prop-firm - Status: 200 - Duration: 31.70ms
2026-01-02 10:50:06,152 - uvicorn.access - INFO - 127.0.0.1:47530 - "GET /api/v1/prop-firm?status=pending HTTP/1.1" 200
2026-01-02 10:50:06,221 - app - INFO - Request: GET /api/v1/admin/stats - Status: 200 - Duration: 59.32ms
2026-01-02 10:50:06,221 - uvicorn.access - INFO - 127.0.0.1:47530 - "GET /api/v1/admin/stats HTTP/1.1" 200
2026-01-02 10:50:06,251 - app - INFO - Request: GET /api/v1/prop-firm - Status: 200 - Duration: 23.75ms
2026-01-02 10:50:06,252 - uvicorn.access - INFO - 127.0.0.1:47530 - "GET /api/v1/prop-firm HTTP/1.1" 200
2026-01-02 10:50:06,299 - app - INFO - Request: PUT /api/v1/admin/prop-firm/1b1d75e9-084c-4d81-b66e-962ee7d63810 - Status: 200 - Duration: 38.13ms
2026-01-02 10:50:06,300 - uvicorn.access - INFO - 127.0.0.1:47530 - "PUT /api/v1/admin/prop-firm/1b1d75e9-084c-4d81-b66e-962ee7d63810 HTTP/1.1" 200
2026-01-02 10:50:06,376 - app - INFO - Request: GET /api/v1/notifications/my-notifications - Status: 200 - Duration: 68.30ms
2026-01-02 10:50:06,380 - uvicorn.access - INFO - 127.0.0.1:47530 - "GET /api/v1/notifications/my-notifications HTTP/1.1" 200
2026-01-02 11:19:04,248 - app - INFO - Request: GET /api/v1/users/me - Status: 403 - Duration: 38.47ms
2026-01-02 11:19:04,250 - uvicorn.access - INFO - 127.0.0.1:53486 - "GET /api/v1/users/me HTTP/1.1" 403
2026-01-02 11:19:04,635 - app - INFO - Request: GET /api/v1/prop-firm - Status: 403 - Duration: 16.52ms
2026-01-02 11:19:04,635 - uvicorn.access - INFO - 127.0.0.1:53496 - "GET /api/v1/prop-firm HTTP/1.1" 403
2026-01-02 11:19:43,724 - app - INFO - Request: POST /api/v1/auth/login/access-token - Status: 200 - Duration: 642.13ms
2026-01-02 11:19:43,733 - uvicorn.access - INFO - 127.0.0.1:45528 - "POST /api/v1/auth/login/access-token HTTP/1.1" 200
2026-01-02 11:19:45,522 - app - INFO - Request: GET /api/v1/users/me - Status: 200 - Duration: 94.53ms
2026-01-02 11:19:45,524 - uvicorn.access - INFO - 127.0.0.1:45536 - "GET /api/v1/users/me HTTP/1.1" 200
2026-01-02 11:19:45,571 - app - INFO - Request: GET /api/v1/users/me - Status: 200 - Duration: 17.80ms
2026-01-02 11:19:45,571 - uvicorn.access - INFO - 127.0.0.1:45550 - "GET /api/v1/users/me HTTP/1.1" 200
2026-01-02 11:19:45,659 - app - INFO - Request: GET /api/v1/prop-firm - Status: 200 - Duration: 71.14ms
2026-01-02 11:19:45,660 - uvicorn.access - INFO - 127.0.0.1:45564 - "GET /api/v1/prop-firm HTTP/1.1" 200
2026-01-02 11:19:45,754 - app - INFO - Request: GET /api/v1/prop-firm - Status: 200 - Duration: 15.18ms
2026-01-02 11:19:45,754 - uvicorn.access - INFO - 127.0.0.1:45572 - "GET /api/v1/prop-firm HTTP/1.1" 200
2026-01-02 11:23:03,652 - app - INFO - Request: GET /api/v1/users/me - Status: 200 - Duration: 243.46ms
2026-01-02 11:23:03,660 - uvicorn.access - INFO - 127.0.0.1:57914 - "GET /api/v1/users/me HTTP/1.1" 200
2026-01-02 11:23:04,765 - app - INFO - Request: POST /api/v1/prop-firm - Status: 200 - Duration: 228.52ms
2026-01-02 11:23:04,766 - uvicorn.access - INFO - 127.0.0.1:57928 - "POST /api/v1/prop-firm HTTP/1.1" 200
2026-01-02 11:23:05,783 - app - INFO - Request: POST /api/v1/payments - Status: 200 - Duration: 180.52ms
2026-01-02 11:23:05,784 - uvicorn.access - INFO - 127.0.0.1:57942 - "POST /api/v1/payments HTTP/1.1" 200
2026-01-02 11:23:15,078 - app - INFO - Request: GET /api/v1/users/me - Status: 200 - Duration: 255.29ms
2026-01-02 11:23:15,081 - uvicorn.access - INFO - 127.0.0.1:38970 - "GET /api/v1/users/me HTTP/1.1" 200
2026-01-02 11:23:16,315 - app - INFO - Request: GET /api/v1/users/me - Status: 200 - Duration: 430.42ms
2026-01-02 11:23:16,317 - uvicorn.access - INFO - 127.0.0.1:38980 - "GET /api/v1/users/me HTTP/1.1" 200
2026-01-02 11:23:16,538 - app - INFO - Request: GET /api/v1/prop-firm - Status: 200 - Duration: 161.02ms
2026-01-02 11:23:16,538 - uvicorn.access - INFO - 127.0.0.1:38996 - "GET /api/v1/prop-firm HTTP/1.1" 200
2026-01-02 11:23:17,686 - app - INFO - Request: GET /api/v1/prop-firm - Status: 200 - Duration: 150.68ms
2026-01-02 11:23:17,686 - uvicorn.access - INFO - 127.0.0.1:39006 - "GET /api/v1/prop-firm HTTP/1.1" 200
2026-01-02 11:26:23,827 - uvicorn.error - INFO - Shutting down
2026-01-02 11:26:24,097 - uvicorn.error - INFO - Waiting for application shutdown.
2026-01-02 11:26:24,097 - app - INFO - Shutting down application...
2026-01-02 11:26:24,097 - uvicorn.error - INFO - Application shutdown complete.
2026-01-02 11:26:24,097 - uvicorn.error - INFO - Finished server process [287169]
2026-01-02 12:22:01,634 - uvicorn.error - INFO - Started server process [49099]
2026-01-02 12:22:01,638 - uvicorn.error - INFO - Waiting for application startup.
2026-01-02 12:22:01,640 - app - INFO - Starting up application...
2026-01-02 12:22:01,750 - uvicorn.error - INFO - Application startup complete.
2026-01-02 12:22:01,751 - uvicorn.error - INFO - Uvicorn running on http://0.0.0.0:8000 (Press CTRL+C to quit)
2026-01-02 12:22:44,002 - app - INFO - Request: POST /api/v1/users - Status: 400 - Duration: 139.56ms
2026-01-02 12:22:44,003 - uvicorn.access - INFO - 127.0.0.1:36198 - "POST /api/v1/users HTTP/1.1" 400
2026-01-02 12:22:44,599 - app - INFO - Request: POST /api/v1/auth/login/access-token - Status: 200 - Duration: 579.81ms
2026-01-02 12:22:44,600 - uvicorn.access - INFO - 127.0.0.1:36198 - "POST /api/v1/auth/login/access-token HTTP/1.1" 200
2026-01-02 12:22:44,692 - app - INFO - Request: GET /api/v1/users/me - Status: 200 - Duration: 87.38ms
2026-01-02 12:22:44,692 - uvicorn.access - INFO - 127.0.0.1:36198 - "GET /api/v1/users/me HTTP/1.1" 200
2026-01-02 12:22:44,859 - app - INFO - Request: PUT /api/v1/users/me - Status: 200 - Duration: 148.69ms
2026-01-02 12:22:44,868 - uvicorn.access - INFO - 127.0.0.1:36198 - "PUT /api/v1/users/me HTTP/1.1" 200
2026-01-02 12:30:09,736 - uvicorn.error - INFO - Shutting down
2026-01-14 21:34:47,599 - uvicorn.error - INFO - Started server process [58465]
2026-01-14 21:34:47,628 - uvicorn.error - INFO - Waiting for application startup.
2026-01-14 21:34:47,630 - app - INFO - Starting up application...
2026-01-14 21:34:47,776 - uvicorn.error - INFO - Application startup complete.
2026-01-14 21:35:17,521 - app - INFO - Request: GET /docs - Status: 200 - Duration: 2.52ms
2026-01-14 21:35:17,521 - uvicorn.access - INFO - 127.0.0.1:41938 - "GET /docs HTTP/1.1" 200
2026-01-14 21:35:18,252 - app - INFO - Request: GET /openapi.json - Status: 200 - Duration: 289.77ms
2026-01-14 21:35:18,253 - uvicorn.access - INFO - 127.0.0.1:41938 - "GET /openapi.json HTTP/1.1" 200
2026-01-14 21:38:59,138 - app - INFO - Request: GET /api/v1/crypto-payments/status - Status: 200 - Duration: 2045.85ms
2026-01-14 21:38:59,138 - uvicorn.access - INFO - 127.0.0.1:47218 - "GET /api/v1/crypto-payments/status HTTP/1.1" 200
2026-01-14 21:41:23,051 - app - ERROR - Request failed: GET /api/v1/crypto-payments/currencies - Duration: 3086.77ms - Error: Client error '403 Forbidden' for url 'https://api.nowpayments.io/v1/currencies'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/403
2026-01-14 21:41:23,086 - app - ERROR -   + Exception Group Traceback (most recent call last):
  |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/_utils.py", line 79, in collapse_excgroups
  |     yield
  |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/base.py", line 192, in __call__
  |     async with anyio.create_task_group() as task_group:
  |                ~~~~~~~~~~~~~~~~~~~~~~~^^
  |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/anyio/_backends/_asyncio.py", line 815, in __aexit__
  |     raise BaseExceptionGroup(
  |         "unhandled errors in a TaskGroup", self._exceptions
  |     )
  | ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)
  +-+---------------- 1 ----------------
    | Traceback (most recent call last):
    |   File "/home/rehack/PycharmProjects/solpro_backend/app/main.py", line 65, in log_requests
    |     response = await call_next(request)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/base.py", line 168, in call_next
    |     raise app_exc from app_exc.__cause__ or app_exc.__context__
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/base.py", line 144, in coro
    |     await self.app(scope, receive_or_disconnect, send_no_error)
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/base.py", line 191, in __call__
    |     with recv_stream, send_stream, collapse_excgroups():
    |                                    ~~~~~~~~~~~~~~~~~~^^
    |   File "/home/rehack/anaconda3/lib/python3.13/contextlib.py", line 162, in __exit__
    |     self.gen.throw(value)
    |     ~~~~~~~~~~~~~~^^^^^^^
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/_utils.py", line 85, in collapse_excgroups
    |     raise exc
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/base.py", line 193, in __call__
    |     response = await self.dispatch_func(request, call_next)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/slowapi/middleware.py", line 136, in dispatch
    |     response = await call_next(request)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/base.py", line 168, in call_next
    |     raise app_exc from app_exc.__cause__ or app_exc.__context__
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/base.py", line 144, in coro
    |     await self.app(scope, receive_or_disconnect, send_no_error)
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/gzip.py", line 29, in __call__
    |     await responder(scope, receive, send)
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/gzip.py", line 46, in __call__
    |     await self.app(scope, receive, self.send_with_compression)
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/trustedhost.py", line 36, in __call__
    |     await self.app(scope, receive, send)
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/cors.py", line 85, in __call__
    |     await self.app(scope, receive, send)
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    |     await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    |     raise exc
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    |     await app(scope, receive, sender)
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    |     await self.app(scope, receive, send)
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/routing.py", line 716, in __call__
    |     await self.middleware_stack(scope, receive, send)
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/routing.py", line 736, in app
    |     await route.handle(scope, receive, send)
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/routing.py", line 290, in handle
    |     await self.app(scope, receive, send)
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/fastapi/routing.py", line 125, in app
    |     await wrap_app_handling_exceptions(app, request)(scope, receive, send)
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    |     raise exc
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    |     await app(scope, receive, sender)
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/fastapi/routing.py", line 111, in app
    |     response = await f(request)
    |                ^^^^^^^^^^^^^^^^
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/fastapi/routing.py", line 391, in app
    |     raw_response = await run_endpoint_function(
    |                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |     ...<3 lines>...
    |     )
    |     ^
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/fastapi/routing.py", line 290, in run_endpoint_function
    |     return await dependant.call(**values)
    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/home/rehack/PycharmProjects/solpro_backend/app/api/v1/endpoints/crypto_payments.py", line 36, in get_available_currencies
    |     currencies = await service.get_available_currencies()
    |                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/home/rehack/PycharmProjects/solpro_backend/app/service/nowpayments_service.py", line 52, in get_available_currencies
    |     response.raise_for_status()
    |     ~~~~~~~~~~~~~~~~~~~~~~~~~^^
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/httpx/_models.py", line 829, in raise_for_status
    |     raise HTTPStatusError(message, request=request, response=self)
    | httpx.HTTPStatusError: Client error '403 Forbidden' for url 'https://api.nowpayments.io/v1/currencies'
    | For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/403
    +------------------------------------

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/home/rehack/PycharmProjects/solpro_backend/app/main.py", line 65, in log_requests
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/base.py", line 168, in call_next
    raise app_exc from app_exc.__cause__ or app_exc.__context__
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/base.py", line 144, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/base.py", line 191, in __call__
    with recv_stream, send_stream, collapse_excgroups():
                                   ~~~~~~~~~~~~~~~~~~^^
  File "/home/rehack/anaconda3/lib/python3.13/contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    ~~~~~~~~~~~~~~^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/_utils.py", line 85, in collapse_excgroups
    raise exc
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/base.py", line 193, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/slowapi/middleware.py", line 136, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/base.py", line 168, in call_next
    raise app_exc from app_exc.__cause__ or app_exc.__context__
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/base.py", line 144, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/gzip.py", line 29, in __call__
    await responder(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/gzip.py", line 46, in __call__
    await self.app(scope, receive, self.send_with_compression)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/trustedhost.py", line 36, in __call__
    await self.app(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/fastapi/routing.py", line 125, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/fastapi/routing.py", line 111, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/fastapi/routing.py", line 391, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/fastapi/routing.py", line 290, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rehack/PycharmProjects/solpro_backend/app/api/v1/endpoints/crypto_payments.py", line 36, in get_available_currencies
    currencies = await service.get_available_currencies()
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rehack/PycharmProjects/solpro_backend/app/service/nowpayments_service.py", line 52, in get_available_currencies
    response.raise_for_status()
    ~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/httpx/_models.py", line 829, in raise_for_status
    raise HTTPStatusError(message, request=request, response=self)
httpx.HTTPStatusError: Client error '403 Forbidden' for url 'https://api.nowpayments.io/v1/currencies'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/403

2026-01-14 21:41:23,099 - uvicorn.access - INFO - 127.0.0.1:45998 - "GET /api/v1/crypto-payments/currencies HTTP/1.1" 500
2026-01-14 21:41:38,200 - app - ERROR - Request failed: GET /api/v1/crypto-payments/min-amount - Duration: 7455.96ms - Error: 
2026-01-14 21:41:38,213 - app - ERROR - Traceback (most recent call last):
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/httpx/_transports/default.py", line 101, in map_httpcore_exceptions
    yield
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/httpx/_transports/default.py", line 394, in handle_async_request
    resp = await self._pool.handle_async_request(req)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/httpcore/_async/connection_pool.py", line 256, in handle_async_request
    raise exc from None
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/httpcore/_async/connection_pool.py", line 236, in handle_async_request
    response = await connection.handle_async_request(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        pool_request.request
        ^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/httpcore/_async/connection.py", line 101, in handle_async_request
    raise exc
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/httpcore/_async/connection.py", line 78, in handle_async_request
    stream = await self._connect(request)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/httpcore/_async/connection.py", line 156, in _connect
    stream = await stream.start_tls(**kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/httpcore/_backends/anyio.py", line 67, in start_tls
    with map_exceptions(exc_map):
         ~~~~~~~~~~~~~~^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    ~~~~~~~~~~~~~~^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/httpcore/_exceptions.py", line 14, in map_exceptions
    raise to_exc(exc) from exc
httpcore.ConnectTimeout

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/home/rehack/PycharmProjects/solpro_backend/app/main.py", line 65, in log_requests
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/base.py", line 168, in call_next
    raise app_exc from app_exc.__cause__ or app_exc.__context__
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/base.py", line 144, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/base.py", line 191, in __call__
    with recv_stream, send_stream, collapse_excgroups():
                                   ~~~~~~~~~~~~~~~~~~^^
  File "/home/rehack/anaconda3/lib/python3.13/contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    ~~~~~~~~~~~~~~^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/_utils.py", line 85, in collapse_excgroups
    raise exc
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/base.py", line 193, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/slowapi/middleware.py", line 136, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/base.py", line 168, in call_next
    raise app_exc from app_exc.__cause__ or app_exc.__context__
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/base.py", line 144, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/gzip.py", line 29, in __call__
    await responder(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/gzip.py", line 46, in __call__
    await self.app(scope, receive, self.send_with_compression)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/trustedhost.py", line 36, in __call__
    await self.app(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/fastapi/routing.py", line 125, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/fastapi/routing.py", line 111, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/fastapi/routing.py", line 391, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/fastapi/routing.py", line 290, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rehack/PycharmProjects/solpro_backend/app/api/v1/endpoints/crypto_payments.py", line 50, in get_minimum_amount
    return await service.get_minimum_amount(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<4 lines>...
    )
    ^
  File "/home/rehack/PycharmProjects/solpro_backend/app/service/nowpayments_service.py", line 73, in get_minimum_amount
    response = await client.get(
               ^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/httpx/_client.py", line 1768, in get
    return await self.request(
           ^^^^^^^^^^^^^^^^^^^
    ...<9 lines>...
    )
    ^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/httpx/_client.py", line 1540, in request
    return await self.send(request, auth=auth, follow_redirects=follow_redirects)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/httpx/_client.py", line 1629, in send
    response = await self._send_handling_auth(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<4 lines>...
    )
    ^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/httpx/_client.py", line 1657, in _send_handling_auth
    response = await self._send_handling_redirects(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/httpx/_client.py", line 1694, in _send_handling_redirects
    response = await self._send_single_request(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/httpx/_client.py", line 1730, in _send_single_request
    response = await transport.handle_async_request(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/httpx/_transports/default.py", line 393, in handle_async_request
    with map_httpcore_exceptions():
         ~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/home/rehack/anaconda3/lib/python3.13/contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    ~~~~~~~~~~~~~~^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/httpx/_transports/default.py", line 118, in map_httpcore_exceptions
    raise mapped_exc(message) from exc
httpx.ConnectTimeout

2026-01-14 21:41:38,214 - uvicorn.access - INFO - 127.0.0.1:43194 - "GET /api/v1/crypto-payments/min-amount?currency_from=btc&currency_to=usd HTTP/1.1" 500
2026-01-14 22:11:17,921 - app - INFO - Request: GET /docs - Status: 200 - Duration: 1.09ms
2026-01-14 22:11:17,922 - uvicorn.access - INFO - 127.0.0.1:49532 - "GET /docs HTTP/1.1" 200
2026-01-14 22:32:00,792 - uvicorn.error - INFO - Shutting down
2026-01-14 22:32:00,894 - uvicorn.error - INFO - Waiting for application shutdown.
2026-01-14 22:32:00,895 - app - INFO - Shutting down application...
2026-01-14 22:32:00,895 - uvicorn.error - INFO - Application shutdown complete.
2026-01-14 22:32:00,896 - uvicorn.error - INFO - Finished server process [58465]
2026-01-14 22:32:03,177 - app - CRITICAL - Failed to start application: name 'BackgroundTasks' is not defined
2026-01-14 22:32:03,180 - app - CRITICAL - Traceback (most recent call last):
  File "/home/rehack/PycharmProjects/solpro_backend/app/main.py", line 18, in <module>
    from app.api.v1.endpoints import auth, users, admin, payments, transactions, prop_firm, discounts, notification, support, crypto_payments
  File "/home/rehack/PycharmProjects/solpro_backend/app/api/v1/endpoints/crypto_payments.py", line 142, in <module>
    background_tasks: BackgroundTasks,
                      ^^^^^^^^^^^^^^^
NameError: name 'BackgroundTasks' is not defined

2026-01-14 22:32:10,103 - uvicorn.error - INFO - Started server process [99142]
2026-01-14 22:32:10,104 - uvicorn.error - INFO - Waiting for application startup.
2026-01-14 22:32:10,105 - app - INFO - Starting up application...
2026-01-14 22:32:10,116 - uvicorn.error - INFO - Application startup complete.
2026-01-14 22:37:27,919 - uvicorn.error - INFO - Shutting down
2026-01-14 22:37:28,027 - uvicorn.error - INFO - Waiting for application shutdown.
2026-01-14 22:37:28,027 - app - INFO - Shutting down application...
2026-01-14 22:37:28,027 - uvicorn.error - INFO - Application shutdown complete.
2026-01-14 22:37:28,027 - uvicorn.error - INFO - Finished server process [99142]
2026-01-14 22:37:30,417 - uvicorn.error - INFO - Started server process [103221]
2026-01-14 22:37:30,418 - uvicorn.error - INFO - Waiting for application startup.
2026-01-14 22:37:30,418 - app - INFO - Starting up application...
2026-01-14 22:37:30,431 - uvicorn.error - INFO - Application startup complete.
2026-01-14 22:37:35,365 - uvicorn.error - INFO - Shutting down
2026-01-14 22:37:35,466 - uvicorn.error - INFO - Waiting for application shutdown.
2026-01-14 22:37:35,466 - app - INFO - Shutting down application...
2026-01-14 22:37:35,467 - uvicorn.error - INFO - Application shutdown complete.
2026-01-14 22:37:35,467 - uvicorn.error - INFO - Finished server process [103221]
2026-01-14 22:37:37,349 - uvicorn.error - INFO - Started server process [103382]
2026-01-14 22:37:37,350 - uvicorn.error - INFO - Waiting for application startup.
2026-01-14 22:37:37,350 - app - INFO - Starting up application...
2026-01-14 22:37:37,363 - uvicorn.error - INFO - Application startup complete.
2026-01-14 23:04:09,956 - app - INFO - Request: GET /openapi.json - Status: 200 - Duration: 255.56ms
2026-01-14 23:04:09,957 - uvicorn.access - INFO - 127.0.0.1:42024 - "GET /openapi.json HTTP/1.1" 200
2026-01-14 23:04:10,017 - app - INFO - Request: GET /favicon.ico - Status: 404 - Duration: 0.83ms
2026-01-14 23:04:10,018 - uvicorn.access - INFO - 127.0.0.1:42024 - "GET /favicon.ico HTTP/1.1" 404
2026-01-14 23:17:28,229 - app - INFO - Request: POST /api/v1/auth/login/access-token - Status: 200 - Duration: 438.00ms
2026-01-14 23:17:28,229 - uvicorn.access - INFO - 127.0.0.1:49600 - "POST /api/v1/auth/login/access-token HTTP/1.1" 200
2026-01-14 23:17:29,528 - app - INFO - Request: GET /api/v1/users/me - Status: 200 - Duration: 65.66ms
2026-01-14 23:17:29,528 - uvicorn.access - INFO - 127.0.0.1:49610 - "GET /api/v1/users/me HTTP/1.1" 200
2026-01-14 23:17:29,551 - app - INFO - Request: GET /api/v1/users/me - Status: 200 - Duration: 13.52ms
2026-01-14 23:17:29,552 - uvicorn.access - INFO - 127.0.0.1:49626 - "GET /api/v1/users/me HTTP/1.1" 200
2026-01-14 23:17:29,566 - app - INFO - Request: GET /api/v1/prop-firm - Status: 200 - Duration: 22.84ms
2026-01-14 23:17:29,567 - uvicorn.access - INFO - 127.0.0.1:49628 - "GET /api/v1/prop-firm HTTP/1.1" 200
2026-01-14 23:17:29,587 - app - INFO - Request: GET /api/v1/prop-firm - Status: 200 - Duration: 11.26ms
2026-01-14 23:17:29,587 - uvicorn.access - INFO - 127.0.0.1:49636 - "GET /api/v1/prop-firm HTTP/1.1" 200
2026-01-14 23:19:30,441 - app - ERROR - Request failed: GET /api/v1/crypto-payments/currencies - Duration: 5200.93ms - Error: 
2026-01-14 23:19:30,461 - app - ERROR - Traceback (most recent call last):
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/httpx/_transports/default.py", line 101, in map_httpcore_exceptions
    yield
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/httpx/_transports/default.py", line 394, in handle_async_request
    resp = await self._pool.handle_async_request(req)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/httpcore/_async/connection_pool.py", line 256, in handle_async_request
    raise exc from None
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/httpcore/_async/connection_pool.py", line 236, in handle_async_request
    response = await connection.handle_async_request(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        pool_request.request
        ^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/httpcore/_async/connection.py", line 101, in handle_async_request
    raise exc
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/httpcore/_async/connection.py", line 78, in handle_async_request
    stream = await self._connect(request)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/httpcore/_async/connection.py", line 124, in _connect
    stream = await self._network_backend.connect_tcp(**kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/httpcore/_backends/auto.py", line 31, in connect_tcp
    return await self._backend.connect_tcp(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<5 lines>...
    )
    ^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/httpcore/_backends/anyio.py", line 113, in connect_tcp
    with map_exceptions(exc_map):
         ~~~~~~~~~~~~~~^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    ~~~~~~~~~~~~~~^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/httpcore/_exceptions.py", line 14, in map_exceptions
    raise to_exc(exc) from exc
httpcore.ConnectTimeout

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/home/rehack/PycharmProjects/solpro_backend/app/main.py", line 65, in log_requests
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/base.py", line 168, in call_next
    raise app_exc from app_exc.__cause__ or app_exc.__context__
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/base.py", line 144, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/base.py", line 191, in __call__
    with recv_stream, send_stream, collapse_excgroups():
                                   ~~~~~~~~~~~~~~~~~~^^
  File "/home/rehack/anaconda3/lib/python3.13/contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    ~~~~~~~~~~~~~~^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/_utils.py", line 85, in collapse_excgroups
    raise exc
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/base.py", line 193, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/slowapi/middleware.py", line 136, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/base.py", line 168, in call_next
    raise app_exc from app_exc.__cause__ or app_exc.__context__
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/base.py", line 144, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/gzip.py", line 29, in __call__
    await responder(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/gzip.py", line 130, in __call__
    await super().__call__(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/gzip.py", line 46, in __call__
    await self.app(scope, receive, self.send_with_compression)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/trustedhost.py", line 36, in __call__
    await self.app(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/fastapi/routing.py", line 125, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/fastapi/routing.py", line 111, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/fastapi/routing.py", line 391, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/fastapi/routing.py", line 290, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rehack/PycharmProjects/solpro_backend/app/api/v1/endpoints/crypto_payments.py", line 36, in get_available_currencies
    currencies = await service.get_available_currencies()
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rehack/PycharmProjects/solpro_backend/app/service/nowpayments_service.py", line 48, in get_available_currencies
    response = await client.get(
               ^^^^^^^^^^^^^^^^^
    ...<2 lines>...
    )
    ^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/httpx/_client.py", line 1768, in get
    return await self.request(
           ^^^^^^^^^^^^^^^^^^^
    ...<9 lines>...
    )
    ^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/httpx/_client.py", line 1540, in request
    return await self.send(request, auth=auth, follow_redirects=follow_redirects)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/httpx/_client.py", line 1629, in send
    response = await self._send_handling_auth(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<4 lines>...
    )
    ^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/httpx/_client.py", line 1657, in _send_handling_auth
    response = await self._send_handling_redirects(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/httpx/_client.py", line 1694, in _send_handling_redirects
    response = await self._send_single_request(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/httpx/_client.py", line 1730, in _send_single_request
    response = await transport.handle_async_request(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/httpx/_transports/default.py", line 393, in handle_async_request
    with map_httpcore_exceptions():
         ~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/home/rehack/anaconda3/lib/python3.13/contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    ~~~~~~~~~~~~~~^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/httpx/_transports/default.py", line 118, in map_httpcore_exceptions
    raise mapped_exc(message) from exc
httpx.ConnectTimeout

2026-01-14 23:19:30,462 - uvicorn.access - INFO - 127.0.0.1:48986 - "GET /api/v1/crypto-payments/currencies HTTP/1.1" 500
2026-01-14 23:19:30,572 - app - ERROR - Request failed: GET /api/v1/crypto-payments/estimate - Duration: 5130.75ms - Error: 
2026-01-14 23:19:30,582 - app - ERROR - Traceback (most recent call last):
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/httpx/_transports/default.py", line 101, in map_httpcore_exceptions
    yield
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/httpx/_transports/default.py", line 394, in handle_async_request
    resp = await self._pool.handle_async_request(req)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/httpcore/_async/connection_pool.py", line 256, in handle_async_request
    raise exc from None
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/httpcore/_async/connection_pool.py", line 236, in handle_async_request
    response = await connection.handle_async_request(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        pool_request.request
        ^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/httpcore/_async/connection.py", line 101, in handle_async_request
    raise exc
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/httpcore/_async/connection.py", line 78, in handle_async_request
    stream = await self._connect(request)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/httpcore/_async/connection.py", line 124, in _connect
    stream = await self._network_backend.connect_tcp(**kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/httpcore/_backends/auto.py", line 31, in connect_tcp
    return await self._backend.connect_tcp(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<5 lines>...
    )
    ^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/httpcore/_backends/anyio.py", line 113, in connect_tcp
    with map_exceptions(exc_map):
         ~~~~~~~~~~~~~~^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    ~~~~~~~~~~~~~~^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/httpcore/_exceptions.py", line 14, in map_exceptions
    raise to_exc(exc) from exc
httpcore.ConnectTimeout

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/home/rehack/PycharmProjects/solpro_backend/app/main.py", line 65, in log_requests
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/base.py", line 168, in call_next
    raise app_exc from app_exc.__cause__ or app_exc.__context__
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/base.py", line 144, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/base.py", line 191, in __call__
    with recv_stream, send_stream, collapse_excgroups():
                                   ~~~~~~~~~~~~~~~~~~^^
  File "/home/rehack/anaconda3/lib/python3.13/contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    ~~~~~~~~~~~~~~^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/_utils.py", line 85, in collapse_excgroups
    raise exc
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/base.py", line 193, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/slowapi/middleware.py", line 136, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/base.py", line 168, in call_next
    raise app_exc from app_exc.__cause__ or app_exc.__context__
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/base.py", line 144, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/gzip.py", line 29, in __call__
    await responder(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/gzip.py", line 130, in __call__
    await super().__call__(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/gzip.py", line 46, in __call__
    await self.app(scope, receive, self.send_with_compression)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/trustedhost.py", line 36, in __call__
    await self.app(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/fastapi/routing.py", line 125, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/fastapi/routing.py", line 111, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/fastapi/routing.py", line 391, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/fastapi/routing.py", line 290, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rehack/PycharmProjects/solpro_backend/app/api/v1/endpoints/crypto_payments.py", line 67, in get_estimated_price
    return await service.get_estimated_price(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "/home/rehack/PycharmProjects/solpro_backend/app/service/nowpayments_service.py", line 95, in get_estimated_price
    response = await client.get(
               ^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/httpx/_client.py", line 1768, in get
    return await self.request(
           ^^^^^^^^^^^^^^^^^^^
    ...<9 lines>...
    )
    ^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/httpx/_client.py", line 1540, in request
    return await self.send(request, auth=auth, follow_redirects=follow_redirects)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/httpx/_client.py", line 1629, in send
    response = await self._send_handling_auth(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<4 lines>...
    )
    ^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/httpx/_client.py", line 1657, in _send_handling_auth
    response = await self._send_handling_redirects(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/httpx/_client.py", line 1694, in _send_handling_redirects
    response = await self._send_single_request(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/httpx/_client.py", line 1730, in _send_single_request
    response = await transport.handle_async_request(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/httpx/_transports/default.py", line 393, in handle_async_request
    with map_httpcore_exceptions():
         ~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/home/rehack/anaconda3/lib/python3.13/contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    ~~~~~~~~~~~~~~^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/httpx/_transports/default.py", line 118, in map_httpcore_exceptions
    raise mapped_exc(message) from exc
httpx.ConnectTimeout

2026-01-14 23:19:30,583 - uvicorn.access - INFO - 127.0.0.1:49000 - "GET /api/v1/crypto-payments/estimate?amount=990&currency_from=usd&currency_to=btc HTTP/1.1" 500
2026-01-14 23:19:35,572 - app - ERROR - Request failed: GET /api/v1/crypto-payments/currencies - Duration: 5089.83ms - Error: 
2026-01-14 23:19:35,576 - app - ERROR - Traceback (most recent call last):
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/httpx/_transports/default.py", line 101, in map_httpcore_exceptions
    yield
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/httpx/_transports/default.py", line 394, in handle_async_request
    resp = await self._pool.handle_async_request(req)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/httpcore/_async/connection_pool.py", line 256, in handle_async_request
    raise exc from None
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/httpcore/_async/connection_pool.py", line 236, in handle_async_request
    response = await connection.handle_async_request(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        pool_request.request
        ^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/httpcore/_async/connection.py", line 101, in handle_async_request
    raise exc
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/httpcore/_async/connection.py", line 78, in handle_async_request
    stream = await self._connect(request)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/httpcore/_async/connection.py", line 124, in _connect
    stream = await self._network_backend.connect_tcp(**kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/httpcore/_backends/auto.py", line 31, in connect_tcp
    return await self._backend.connect_tcp(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<5 lines>...
    )
    ^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/httpcore/_backends/anyio.py", line 113, in connect_tcp
    with map_exceptions(exc_map):
         ~~~~~~~~~~~~~~^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    ~~~~~~~~~~~~~~^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/httpcore/_exceptions.py", line 14, in map_exceptions
    raise to_exc(exc) from exc
httpcore.ConnectTimeout

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/home/rehack/PycharmProjects/solpro_backend/app/main.py", line 65, in log_requests
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/base.py", line 168, in call_next
    raise app_exc from app_exc.__cause__ or app_exc.__context__
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/base.py", line 144, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/base.py", line 191, in __call__
    with recv_stream, send_stream, collapse_excgroups():
                                   ~~~~~~~~~~~~~~~~~~^^
  File "/home/rehack/anaconda3/lib/python3.13/contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    ~~~~~~~~~~~~~~^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/_utils.py", line 85, in collapse_excgroups
    raise exc
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/base.py", line 193, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/slowapi/middleware.py", line 136, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/base.py", line 168, in call_next
    raise app_exc from app_exc.__cause__ or app_exc.__context__
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/base.py", line 144, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/gzip.py", line 29, in __call__
    await responder(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/gzip.py", line 130, in __call__
    await super().__call__(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/gzip.py", line 46, in __call__
    await self.app(scope, receive, self.send_with_compression)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/trustedhost.py", line 36, in __call__
    await self.app(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/fastapi/routing.py", line 125, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/fastapi/routing.py", line 111, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/fastapi/routing.py", line 391, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/fastapi/routing.py", line 290, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rehack/PycharmProjects/solpro_backend/app/api/v1/endpoints/crypto_payments.py", line 36, in get_available_currencies
    currencies = await service.get_available_currencies()
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rehack/PycharmProjects/solpro_backend/app/service/nowpayments_service.py", line 48, in get_available_currencies
    response = await client.get(
               ^^^^^^^^^^^^^^^^^
    ...<2 lines>...
    )
    ^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/httpx/_client.py", line 1768, in get
    return await self.request(
           ^^^^^^^^^^^^^^^^^^^
    ...<9 lines>...
    )
    ^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/httpx/_client.py", line 1540, in request
    return await self.send(request, auth=auth, follow_redirects=follow_redirects)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/httpx/_client.py", line 1629, in send
    response = await self._send_handling_auth(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<4 lines>...
    )
    ^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/httpx/_client.py", line 1657, in _send_handling_auth
    response = await self._send_handling_redirects(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/httpx/_client.py", line 1694, in _send_handling_redirects
    response = await self._send_single_request(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/httpx/_client.py", line 1730, in _send_single_request
    response = await transport.handle_async_request(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/httpx/_transports/default.py", line 393, in handle_async_request
    with map_httpcore_exceptions():
         ~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/home/rehack/anaconda3/lib/python3.13/contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    ~~~~~~~~~~~~~~^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/httpx/_transports/default.py", line 118, in map_httpcore_exceptions
    raise mapped_exc(message) from exc
httpx.ConnectTimeout

2026-01-14 23:19:35,577 - uvicorn.access - INFO - 127.0.0.1:49014 - "GET /api/v1/crypto-payments/currencies HTTP/1.1" 500
2026-01-14 23:19:35,695 - app - ERROR - Request failed: GET /api/v1/crypto-payments/estimate - Duration: 5070.14ms - Error: 
2026-01-14 23:19:35,704 - app - ERROR - Traceback (most recent call last):
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/httpx/_transports/default.py", line 101, in map_httpcore_exceptions
    yield
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/httpx/_transports/default.py", line 394, in handle_async_request
    resp = await self._pool.handle_async_request(req)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/httpcore/_async/connection_pool.py", line 256, in handle_async_request
    raise exc from None
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/httpcore/_async/connection_pool.py", line 236, in handle_async_request
    response = await connection.handle_async_request(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        pool_request.request
        ^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/httpcore/_async/connection.py", line 101, in handle_async_request
    raise exc
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/httpcore/_async/connection.py", line 78, in handle_async_request
    stream = await self._connect(request)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/httpcore/_async/connection.py", line 124, in _connect
    stream = await self._network_backend.connect_tcp(**kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/httpcore/_backends/auto.py", line 31, in connect_tcp
    return await self._backend.connect_tcp(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<5 lines>...
    )
    ^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/httpcore/_backends/anyio.py", line 113, in connect_tcp
    with map_exceptions(exc_map):
         ~~~~~~~~~~~~~~^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    ~~~~~~~~~~~~~~^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/httpcore/_exceptions.py", line 14, in map_exceptions
    raise to_exc(exc) from exc
httpcore.ConnectTimeout

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/home/rehack/PycharmProjects/solpro_backend/app/main.py", line 65, in log_requests
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/base.py", line 168, in call_next
    raise app_exc from app_exc.__cause__ or app_exc.__context__
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/base.py", line 144, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/base.py", line 191, in __call__
    with recv_stream, send_stream, collapse_excgroups():
                                   ~~~~~~~~~~~~~~~~~~^^
  File "/home/rehack/anaconda3/lib/python3.13/contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    ~~~~~~~~~~~~~~^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/_utils.py", line 85, in collapse_excgroups
    raise exc
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/base.py", line 193, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/slowapi/middleware.py", line 136, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/base.py", line 168, in call_next
    raise app_exc from app_exc.__cause__ or app_exc.__context__
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/base.py", line 144, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/gzip.py", line 29, in __call__
    await responder(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/gzip.py", line 130, in __call__
    await super().__call__(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/gzip.py", line 46, in __call__
    await self.app(scope, receive, self.send_with_compression)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/trustedhost.py", line 36, in __call__
    await self.app(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/fastapi/routing.py", line 125, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/fastapi/routing.py", line 111, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/fastapi/routing.py", line 391, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/fastapi/routing.py", line 290, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rehack/PycharmProjects/solpro_backend/app/api/v1/endpoints/crypto_payments.py", line 67, in get_estimated_price
    return await service.get_estimated_price(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "/home/rehack/PycharmProjects/solpro_backend/app/service/nowpayments_service.py", line 95, in get_estimated_price
    response = await client.get(
               ^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/httpx/_client.py", line 1768, in get
    return await self.request(
           ^^^^^^^^^^^^^^^^^^^
    ...<9 lines>...
    )
    ^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/httpx/_client.py", line 1540, in request
    return await self.send(request, auth=auth, follow_redirects=follow_redirects)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/httpx/_client.py", line 1629, in send
    response = await self._send_handling_auth(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<4 lines>...
    )
    ^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/httpx/_client.py", line 1657, in _send_handling_auth
    response = await self._send_handling_redirects(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/httpx/_client.py", line 1694, in _send_handling_redirects
    response = await self._send_single_request(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/httpx/_client.py", line 1730, in _send_single_request
    response = await transport.handle_async_request(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/httpx/_transports/default.py", line 393, in handle_async_request
    with map_httpcore_exceptions():
         ~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/home/rehack/anaconda3/lib/python3.13/contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    ~~~~~~~~~~~~~~^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/httpx/_transports/default.py", line 118, in map_httpcore_exceptions
    raise mapped_exc(message) from exc
httpx.ConnectTimeout

2026-01-14 23:19:35,705 - uvicorn.access - INFO - 127.0.0.1:49026 - "GET /api/v1/crypto-payments/estimate?amount=990&currency_from=usd&currency_to=btc HTTP/1.1" 500
2026-01-14 23:19:42,771 - app - ERROR - Request failed: GET /api/v1/crypto-payments/estimate - Duration: 2144.35ms - Error: Client error '429 Too Many Requests' for url 'https://api.nowpayments.io/v1/estimate?amount=990.0&currency_from=usd&currency_to=eth'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/429
2026-01-14 23:19:42,781 - app - ERROR -   + Exception Group Traceback (most recent call last):
  |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/_utils.py", line 79, in collapse_excgroups
  |     yield
  |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/base.py", line 192, in __call__
  |     async with anyio.create_task_group() as task_group:
  |                ~~~~~~~~~~~~~~~~~~~~~~~^^
  |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/anyio/_backends/_asyncio.py", line 815, in __aexit__
  |     raise BaseExceptionGroup(
  |         "unhandled errors in a TaskGroup", self._exceptions
  |     )
  | ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)
  +-+---------------- 1 ----------------
    | Traceback (most recent call last):
    |   File "/home/rehack/PycharmProjects/solpro_backend/app/main.py", line 65, in log_requests
    |     response = await call_next(request)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/base.py", line 168, in call_next
    |     raise app_exc from app_exc.__cause__ or app_exc.__context__
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/base.py", line 144, in coro
    |     await self.app(scope, receive_or_disconnect, send_no_error)
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/base.py", line 191, in __call__
    |     with recv_stream, send_stream, collapse_excgroups():
    |                                    ~~~~~~~~~~~~~~~~~~^^
    |   File "/home/rehack/anaconda3/lib/python3.13/contextlib.py", line 162, in __exit__
    |     self.gen.throw(value)
    |     ~~~~~~~~~~~~~~^^^^^^^
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/_utils.py", line 85, in collapse_excgroups
    |     raise exc
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/base.py", line 193, in __call__
    |     response = await self.dispatch_func(request, call_next)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/slowapi/middleware.py", line 136, in dispatch
    |     response = await call_next(request)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/base.py", line 168, in call_next
    |     raise app_exc from app_exc.__cause__ or app_exc.__context__
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/base.py", line 144, in coro
    |     await self.app(scope, receive_or_disconnect, send_no_error)
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/gzip.py", line 29, in __call__
    |     await responder(scope, receive, send)
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/gzip.py", line 130, in __call__
    |     await super().__call__(scope, receive, send)
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/gzip.py", line 46, in __call__
    |     await self.app(scope, receive, self.send_with_compression)
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/trustedhost.py", line 36, in __call__
    |     await self.app(scope, receive, send)
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/cors.py", line 85, in __call__
    |     await self.app(scope, receive, send)
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    |     await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    |     raise exc
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    |     await app(scope, receive, sender)
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    |     await self.app(scope, receive, send)
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/routing.py", line 716, in __call__
    |     await self.middleware_stack(scope, receive, send)
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/routing.py", line 736, in app
    |     await route.handle(scope, receive, send)
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/routing.py", line 290, in handle
    |     await self.app(scope, receive, send)
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/fastapi/routing.py", line 125, in app
    |     await wrap_app_handling_exceptions(app, request)(scope, receive, send)
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    |     raise exc
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    |     await app(scope, receive, sender)
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/fastapi/routing.py", line 111, in app
    |     response = await f(request)
    |                ^^^^^^^^^^^^^^^^
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/fastapi/routing.py", line 391, in app
    |     raw_response = await run_endpoint_function(
    |                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |     ...<3 lines>...
    |     )
    |     ^
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/fastapi/routing.py", line 290, in run_endpoint_function
    |     return await dependant.call(**values)
    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/home/rehack/PycharmProjects/solpro_backend/app/api/v1/endpoints/crypto_payments.py", line 67, in get_estimated_price
    |     return await service.get_estimated_price(
    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |     ...<3 lines>...
    |     )
    |     ^
    |   File "/home/rehack/PycharmProjects/solpro_backend/app/service/nowpayments_service.py", line 100, in get_estimated_price
    |     response.raise_for_status()
    |     ~~~~~~~~~~~~~~~~~~~~~~~~~^^
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/httpx/_models.py", line 829, in raise_for_status
    |     raise HTTPStatusError(message, request=request, response=self)
    | httpx.HTTPStatusError: Client error '429 Too Many Requests' for url 'https://api.nowpayments.io/v1/estimate?amount=990.0&currency_from=usd&currency_to=eth'
    | For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/429
    +------------------------------------

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/home/rehack/PycharmProjects/solpro_backend/app/main.py", line 65, in log_requests
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/base.py", line 168, in call_next
    raise app_exc from app_exc.__cause__ or app_exc.__context__
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/base.py", line 144, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/base.py", line 191, in __call__
    with recv_stream, send_stream, collapse_excgroups():
                                   ~~~~~~~~~~~~~~~~~~^^
  File "/home/rehack/anaconda3/lib/python3.13/contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    ~~~~~~~~~~~~~~^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/_utils.py", line 85, in collapse_excgroups
    raise exc
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/base.py", line 193, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/slowapi/middleware.py", line 136, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/base.py", line 168, in call_next
    raise app_exc from app_exc.__cause__ or app_exc.__context__
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/base.py", line 144, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/gzip.py", line 29, in __call__
    await responder(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/gzip.py", line 130, in __call__
    await super().__call__(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/gzip.py", line 46, in __call__
    await self.app(scope, receive, self.send_with_compression)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/trustedhost.py", line 36, in __call__
    await self.app(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/fastapi/routing.py", line 125, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/fastapi/routing.py", line 111, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/fastapi/routing.py", line 391, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/fastapi/routing.py", line 290, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rehack/PycharmProjects/solpro_backend/app/api/v1/endpoints/crypto_payments.py", line 67, in get_estimated_price
    return await service.get_estimated_price(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "/home/rehack/PycharmProjects/solpro_backend/app/service/nowpayments_service.py", line 100, in get_estimated_price
    response.raise_for_status()
    ~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/httpx/_models.py", line 829, in raise_for_status
    raise HTTPStatusError(message, request=request, response=self)
httpx.HTTPStatusError: Client error '429 Too Many Requests' for url 'https://api.nowpayments.io/v1/estimate?amount=990.0&currency_from=usd&currency_to=eth'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/429

2026-01-14 23:19:42,781 - uvicorn.access - INFO - 127.0.0.1:56814 - "GET /api/v1/crypto-payments/estimate?amount=990&currency_from=usd&currency_to=eth HTTP/1.1" 500
2026-01-14 23:19:42,784 - app - INFO - Request: GET /api/v1/crypto-payments/estimate - Status: 200 - Duration: 1247.00ms
2026-01-14 23:19:42,784 - uvicorn.access - INFO - 127.0.0.1:56818 - "GET /api/v1/crypto-payments/estimate?amount=990&currency_from=usd&currency_to=btc HTTP/1.1" 200
2026-01-14 23:21:54,606 - app - INFO - Request: GET /api/v1/crypto-payments/currencies - Status: 200 - Duration: 890.19ms
2026-01-14 23:21:54,606 - uvicorn.access - INFO - 127.0.0.1:39060 - "GET /api/v1/crypto-payments/currencies HTTP/1.1" 200
2026-01-14 23:21:54,693 - app - INFO - Request: GET /api/v1/crypto-payments/estimate - Status: 200 - Duration: 886.44ms
2026-01-14 23:21:54,693 - uvicorn.access - INFO - 127.0.0.1:39068 - "GET /api/v1/crypto-payments/estimate?amount=3590&currency_from=usd&currency_to=btc HTTP/1.1" 200
2026-01-14 23:21:55,251 - app - INFO - Request: GET /api/v1/crypto-payments/currencies - Status: 200 - Duration: 632.13ms
2026-01-14 23:21:55,251 - uvicorn.access - INFO - 127.0.0.1:39080 - "GET /api/v1/crypto-payments/currencies HTTP/1.1" 200
2026-01-14 23:21:55,278 - app - INFO - Request: GET /api/v1/crypto-payments/estimate - Status: 200 - Duration: 566.20ms
2026-01-14 23:21:55,279 - uvicorn.access - INFO - 127.0.0.1:39084 - "GET /api/v1/crypto-payments/estimate?amount=3590&currency_from=usd&currency_to=btc HTTP/1.1" 200
2026-01-14 23:27:17,874 - app - INFO - Request: GET /api/v1/users/me - Status: 200 - Duration: 51.69ms
2026-01-14 23:27:17,874 - uvicorn.access - INFO - 127.0.0.1:59730 - "GET /api/v1/users/me HTTP/1.1" 200
2026-01-14 23:27:17,982 - app - INFO - Request: POST /api/v1/prop-firm - Status: 200 - Duration: 70.75ms
2026-01-14 23:27:17,983 - uvicorn.access - INFO - 127.0.0.1:59738 - "POST /api/v1/prop-firm HTTP/1.1" 200
2026-01-14 23:27:19,440 - app - ERROR - Request failed: GET /api/v1/crypto-payments/currencies - Duration: 5030.46ms - Error: 
2026-01-14 23:27:19,449 - app - ERROR - Traceback (most recent call last):
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/httpx/_transports/default.py", line 101, in map_httpcore_exceptions
    yield
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/httpx/_transports/default.py", line 394, in handle_async_request
    resp = await self._pool.handle_async_request(req)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/httpcore/_async/connection_pool.py", line 256, in handle_async_request
    raise exc from None
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/httpcore/_async/connection_pool.py", line 236, in handle_async_request
    response = await connection.handle_async_request(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        pool_request.request
        ^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/httpcore/_async/connection.py", line 101, in handle_async_request
    raise exc
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/httpcore/_async/connection.py", line 78, in handle_async_request
    stream = await self._connect(request)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/httpcore/_async/connection.py", line 124, in _connect
    stream = await self._network_backend.connect_tcp(**kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/httpcore/_backends/auto.py", line 31, in connect_tcp
    return await self._backend.connect_tcp(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<5 lines>...
    )
    ^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/httpcore/_backends/anyio.py", line 113, in connect_tcp
    with map_exceptions(exc_map):
         ~~~~~~~~~~~~~~^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    ~~~~~~~~~~~~~~^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/httpcore/_exceptions.py", line 14, in map_exceptions
    raise to_exc(exc) from exc
httpcore.ConnectTimeout

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/home/rehack/PycharmProjects/solpro_backend/app/main.py", line 65, in log_requests
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/base.py", line 168, in call_next
    raise app_exc from app_exc.__cause__ or app_exc.__context__
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/base.py", line 144, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/base.py", line 191, in __call__
    with recv_stream, send_stream, collapse_excgroups():
                                   ~~~~~~~~~~~~~~~~~~^^
  File "/home/rehack/anaconda3/lib/python3.13/contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    ~~~~~~~~~~~~~~^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/_utils.py", line 85, in collapse_excgroups
    raise exc
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/base.py", line 193, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/slowapi/middleware.py", line 136, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/base.py", line 168, in call_next
    raise app_exc from app_exc.__cause__ or app_exc.__context__
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/base.py", line 144, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/gzip.py", line 29, in __call__
    await responder(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/gzip.py", line 130, in __call__
    await super().__call__(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/gzip.py", line 46, in __call__
    await self.app(scope, receive, self.send_with_compression)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/trustedhost.py", line 36, in __call__
    await self.app(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/fastapi/routing.py", line 125, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/fastapi/routing.py", line 111, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/fastapi/routing.py", line 391, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/fastapi/routing.py", line 290, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rehack/PycharmProjects/solpro_backend/app/api/v1/endpoints/crypto_payments.py", line 36, in get_available_currencies
    currencies = await service.get_available_currencies()
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rehack/PycharmProjects/solpro_backend/app/service/nowpayments_service.py", line 48, in get_available_currencies
    response = await client.get(
               ^^^^^^^^^^^^^^^^^
    ...<2 lines>...
    )
    ^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/httpx/_client.py", line 1768, in get
    return await self.request(
           ^^^^^^^^^^^^^^^^^^^
    ...<9 lines>...
    )
    ^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/httpx/_client.py", line 1540, in request
    return await self.send(request, auth=auth, follow_redirects=follow_redirects)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/httpx/_client.py", line 1629, in send
    response = await self._send_handling_auth(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<4 lines>...
    )
    ^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/httpx/_client.py", line 1657, in _send_handling_auth
    response = await self._send_handling_redirects(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/httpx/_client.py", line 1694, in _send_handling_redirects
    response = await self._send_single_request(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/httpx/_client.py", line 1730, in _send_single_request
    response = await transport.handle_async_request(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/httpx/_transports/default.py", line 393, in handle_async_request
    with map_httpcore_exceptions():
         ~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/home/rehack/anaconda3/lib/python3.13/contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    ~~~~~~~~~~~~~~^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/httpx/_transports/default.py", line 118, in map_httpcore_exceptions
    raise mapped_exc(message) from exc
httpx.ConnectTimeout

2026-01-14 23:27:19,450 - uvicorn.access - INFO - 127.0.0.1:59708 - "GET /api/v1/crypto-payments/currencies HTTP/1.1" 500
2026-01-14 23:27:19,542 - app - ERROR - Request failed: GET /api/v1/crypto-payments/estimate - Duration: 5103.46ms - Error: 
2026-01-14 23:27:19,548 - app - ERROR - Traceback (most recent call last):
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/httpx/_transports/default.py", line 101, in map_httpcore_exceptions
    yield
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/httpx/_transports/default.py", line 394, in handle_async_request
    resp = await self._pool.handle_async_request(req)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/httpcore/_async/connection_pool.py", line 256, in handle_async_request
    raise exc from None
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/httpcore/_async/connection_pool.py", line 236, in handle_async_request
    response = await connection.handle_async_request(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        pool_request.request
        ^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/httpcore/_async/connection.py", line 101, in handle_async_request
    raise exc
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/httpcore/_async/connection.py", line 78, in handle_async_request
    stream = await self._connect(request)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/httpcore/_async/connection.py", line 124, in _connect
    stream = await self._network_backend.connect_tcp(**kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/httpcore/_backends/auto.py", line 31, in connect_tcp
    return await self._backend.connect_tcp(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<5 lines>...
    )
    ^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/httpcore/_backends/anyio.py", line 113, in connect_tcp
    with map_exceptions(exc_map):
         ~~~~~~~~~~~~~~^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    ~~~~~~~~~~~~~~^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/httpcore/_exceptions.py", line 14, in map_exceptions
    raise to_exc(exc) from exc
httpcore.ConnectTimeout

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/home/rehack/PycharmProjects/solpro_backend/app/main.py", line 65, in log_requests
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/base.py", line 168, in call_next
    raise app_exc from app_exc.__cause__ or app_exc.__context__
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/base.py", line 144, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/base.py", line 191, in __call__
    with recv_stream, send_stream, collapse_excgroups():
                                   ~~~~~~~~~~~~~~~~~~^^
  File "/home/rehack/anaconda3/lib/python3.13/contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    ~~~~~~~~~~~~~~^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/_utils.py", line 85, in collapse_excgroups
    raise exc
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/base.py", line 193, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/slowapi/middleware.py", line 136, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/base.py", line 168, in call_next
    raise app_exc from app_exc.__cause__ or app_exc.__context__
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/base.py", line 144, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/gzip.py", line 29, in __call__
    await responder(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/gzip.py", line 130, in __call__
    await super().__call__(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/gzip.py", line 46, in __call__
    await self.app(scope, receive, self.send_with_compression)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/trustedhost.py", line 36, in __call__
    await self.app(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/fastapi/routing.py", line 125, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/fastapi/routing.py", line 111, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/fastapi/routing.py", line 391, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/fastapi/routing.py", line 290, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rehack/PycharmProjects/solpro_backend/app/api/v1/endpoints/crypto_payments.py", line 67, in get_estimated_price
    return await service.get_estimated_price(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "/home/rehack/PycharmProjects/solpro_backend/app/service/nowpayments_service.py", line 95, in get_estimated_price
    response = await client.get(
               ^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/httpx/_client.py", line 1768, in get
    return await self.request(
           ^^^^^^^^^^^^^^^^^^^
    ...<9 lines>...
    )
    ^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/httpx/_client.py", line 1540, in request
    return await self.send(request, auth=auth, follow_redirects=follow_redirects)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/httpx/_client.py", line 1629, in send
    response = await self._send_handling_auth(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<4 lines>...
    )
    ^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/httpx/_client.py", line 1657, in _send_handling_auth
    response = await self._send_handling_redirects(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/httpx/_client.py", line 1694, in _send_handling_redirects
    response = await self._send_single_request(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/httpx/_client.py", line 1730, in _send_single_request
    response = await transport.handle_async_request(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/httpx/_transports/default.py", line 393, in handle_async_request
    with map_httpcore_exceptions():
         ~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/home/rehack/anaconda3/lib/python3.13/contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    ~~~~~~~~~~~~~~^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/httpx/_transports/default.py", line 118, in map_httpcore_exceptions
    raise mapped_exc(message) from exc
httpx.ConnectTimeout

2026-01-14 23:27:19,549 - uvicorn.access - INFO - 127.0.0.1:59718 - "GET /api/v1/crypto-payments/estimate?amount=990&currency_from=usd&currency_to=btc HTTP/1.1" 500
2026-01-14 23:27:20,174 - app - INFO - Request: GET /api/v1/crypto-payments/currencies - Status: 200 - Duration: 716.20ms
2026-01-14 23:27:20,174 - uvicorn.access - INFO - 127.0.0.1:59752 - "GET /api/v1/crypto-payments/currencies HTTP/1.1" 200
2026-01-14 23:27:20,275 - app - INFO - Request: POST /api/v1/crypto-payments/invoice - Status: 200 - Duration: 2271.86ms
2026-01-14 23:27:20,276 - uvicorn.access - INFO - 127.0.0.1:59744 - "POST /api/v1/crypto-payments/invoice HTTP/1.1" 200
2026-01-14 23:27:20,522 - app - INFO - Request: GET /api/v1/crypto-payments/estimate - Status: 200 - Duration: 966.74ms
2026-01-14 23:27:20,522 - uvicorn.access - INFO - 127.0.0.1:59764 - "GET /api/v1/crypto-payments/estimate?amount=990&currency_from=usd&currency_to=btc HTTP/1.1" 200
2026-01-14 23:29:12,181 - uvicorn.error - INFO - Shutting down
2026-01-14 23:29:12,281 - uvicorn.error - INFO - Waiting for application shutdown.
2026-01-14 23:29:12,282 - app - INFO - Shutting down application...
2026-01-14 23:29:12,282 - uvicorn.error - INFO - Application shutdown complete.
2026-01-14 23:29:12,282 - uvicorn.error - INFO - Finished server process [103382]
2026-01-15 06:11:51,167 - uvicorn.error - INFO - Started server process [25463]
2026-01-15 06:11:51,169 - uvicorn.error - INFO - Waiting for application startup.
2026-01-15 06:11:51,169 - app - INFO - Starting up application...
2026-01-15 06:11:51,188 - uvicorn.error - INFO - Application startup complete.
2026-01-15 06:12:06,136 - app - INFO - Request: GET /favicon.ico - Status: 404 - Duration: 4.27ms
2026-01-15 06:12:06,138 - uvicorn.access - INFO - 127.0.0.1:46330 - "GET /favicon.ico HTTP/1.1" 404
2026-01-15 06:12:10,926 - app - INFO - Request: GET /api/v1/users/me - Status: 403 - Duration: 12.54ms
2026-01-15 06:12:10,927 - uvicorn.access - INFO - 127.0.0.1:56710 - "GET /api/v1/users/me HTTP/1.1" 403
2026-01-15 06:12:11,043 - app - INFO - Request: GET /api/v1/prop-firm - Status: 403 - Duration: 7.71ms
2026-01-15 06:12:11,050 - uvicorn.access - INFO - 127.0.0.1:56726 - "GET /api/v1/prop-firm HTTP/1.1" 403
2026-01-15 06:12:14,079 - app - INFO - Request: POST /api/v1/auth/login/access-token - Status: 200 - Duration: 355.14ms
2026-01-15 06:12:14,079 - uvicorn.access - INFO - 127.0.0.1:56740 - "POST /api/v1/auth/login/access-token HTTP/1.1" 200
2026-01-15 06:12:15,634 - app - INFO - Request: GET /api/v1/users/me - Status: 200 - Duration: 227.91ms
2026-01-15 06:12:15,634 - uvicorn.access - INFO - 127.0.0.1:56752 - "GET /api/v1/users/me HTTP/1.1" 200
2026-01-15 06:12:15,720 - app - INFO - Request: GET /api/v1/users/me - Status: 200 - Duration: 66.91ms
2026-01-15 06:12:15,721 - uvicorn.access - INFO - 127.0.0.1:56764 - "GET /api/v1/users/me HTTP/1.1" 200
2026-01-15 06:12:15,774 - app - INFO - Request: GET /api/v1/prop-firm - Status: 200 - Duration: 107.69ms
2026-01-15 06:12:15,776 - uvicorn.access - INFO - 127.0.0.1:56770 - "GET /api/v1/prop-firm HTTP/1.1" 200
2026-01-15 06:12:15,848 - app - INFO - Request: GET /api/v1/prop-firm - Status: 200 - Duration: 55.27ms
2026-01-15 06:12:15,850 - uvicorn.access - INFO - 127.0.0.1:56782 - "GET /api/v1/prop-firm HTTP/1.1" 200
2026-01-15 06:14:00,910 - app - INFO - Request: GET /api/v1/crypto-payments/estimate - Status: 200 - Duration: 1360.34ms
2026-01-15 06:14:00,910 - uvicorn.access - INFO - 127.0.0.1:50120 - "GET /api/v1/crypto-payments/estimate?amount=990&currency_from=usd&currency_to=btc HTTP/1.1" 200
2026-01-15 06:14:00,911 - app - INFO - Request: GET /api/v1/crypto-payments/currencies - Status: 200 - Duration: 1362.28ms
2026-01-15 06:14:00,911 - uvicorn.access - INFO - 127.0.0.1:50114 - "GET /api/v1/crypto-payments/currencies HTTP/1.1" 200
2026-01-15 06:14:01,519 - app - INFO - Request: GET /api/v1/crypto-payments/currencies - Status: 200 - Duration: 531.68ms
2026-01-15 06:14:01,519 - uvicorn.access - INFO - 127.0.0.1:46426 - "GET /api/v1/crypto-payments/currencies HTTP/1.1" 200
2026-01-15 06:14:01,762 - app - INFO - Request: GET /api/v1/crypto-payments/estimate - Status: 200 - Duration: 836.04ms
2026-01-15 06:14:01,762 - uvicorn.access - INFO - 127.0.0.1:46422 - "GET /api/v1/crypto-payments/estimate?amount=990&currency_from=usd&currency_to=btc HTTP/1.1" 200
2026-01-15 06:17:31,365 - app - INFO - Request: GET /api/v1/crypto-payments/currencies - Status: 200 - Duration: 470.63ms
2026-01-15 06:17:31,365 - uvicorn.access - INFO - 127.0.0.1:39354 - "GET /api/v1/crypto-payments/currencies HTTP/1.1" 200
2026-01-15 06:17:31,472 - app - INFO - Request: GET /api/v1/crypto-payments/estimate - Status: 200 - Duration: 551.10ms
2026-01-15 06:17:31,472 - uvicorn.access - INFO - 127.0.0.1:39358 - "GET /api/v1/crypto-payments/estimate?amount=990&currency_from=usd&currency_to=btc HTTP/1.1" 200
2026-01-15 06:17:31,838 - app - INFO - Request: GET /api/v1/crypto-payments/currencies - Status: 200 - Duration: 463.85ms
2026-01-15 06:17:31,838 - uvicorn.access - INFO - 127.0.0.1:39368 - "GET /api/v1/crypto-payments/currencies HTTP/1.1" 200
2026-01-15 06:17:32,160 - app - INFO - Request: GET /api/v1/crypto-payments/estimate - Status: 200 - Duration: 678.53ms
2026-01-15 06:17:32,160 - uvicorn.access - INFO - 127.0.0.1:39378 - "GET /api/v1/crypto-payments/estimate?amount=990&currency_from=usd&currency_to=btc HTTP/1.1" 200
2026-01-15 06:17:40,602 - app - INFO - Request: GET /api/v1/users/me - Status: 200 - Duration: 7.33ms
2026-01-15 06:17:40,602 - uvicorn.access - INFO - 127.0.0.1:52278 - "GET /api/v1/users/me HTTP/1.1" 200
2026-01-15 06:17:40,647 - app - INFO - Request: POST /api/v1/prop-firm - Status: 200 - Duration: 22.68ms
2026-01-15 06:17:40,647 - uvicorn.access - INFO - 127.0.0.1:52292 - "POST /api/v1/prop-firm HTTP/1.1" 200
2026-01-15 06:17:42,023 - app - INFO - Request: POST /api/v1/crypto-payments/payment - Status: 200 - Duration: 1363.42ms
2026-01-15 06:17:42,023 - uvicorn.access - INFO - 127.0.0.1:52294 - "POST /api/v1/crypto-payments/payment HTTP/1.1" 200
2026-01-15 06:17:59,595 - app - INFO - Request: GET /api/v1/crypto-payments/payment/6432499794/status - Status: 200 - Duration: 1090.31ms
2026-01-15 06:17:59,595 - uvicorn.access - INFO - 127.0.0.1:39104 - "GET /api/v1/crypto-payments/payment/6432499794/status HTTP/1.1" 200
2026-01-15 06:18:12,683 - app - INFO - Request: GET /api/v1/crypto-payments/payment/6432499794/status - Status: 200 - Duration: 587.44ms
2026-01-15 06:18:12,684 - uvicorn.access - INFO - 127.0.0.1:53272 - "GET /api/v1/crypto-payments/payment/6432499794/status HTTP/1.1" 200
2026-01-15 06:18:37,044 - app - INFO - Request: GET /api/v1/crypto-payments/payment/6432499794/status - Status: 200 - Duration: 488.23ms
2026-01-15 06:18:37,044 - uvicorn.access - INFO - 127.0.0.1:56272 - "GET /api/v1/crypto-payments/payment/6432499794/status HTTP/1.1" 200
2026-01-15 06:18:42,742 - app - INFO - Request: GET /api/v1/crypto-payments/payment/6432499794/status - Status: 200 - Duration: 640.07ms
2026-01-15 06:18:42,742 - uvicorn.access - INFO - 127.0.0.1:41776 - "GET /api/v1/crypto-payments/payment/6432499794/status HTTP/1.1" 200
2026-01-15 06:19:17,164 - app - ERROR - Request failed: GET /api/v1/crypto-payments/payment/6432499794/status - Duration: 5067.47ms - Error: 
2026-01-15 06:19:17,178 - app - ERROR - Traceback (most recent call last):
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/httpx/_transports/default.py", line 101, in map_httpcore_exceptions
    yield
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/httpx/_transports/default.py", line 394, in handle_async_request
    resp = await self._pool.handle_async_request(req)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/httpcore/_async/connection_pool.py", line 256, in handle_async_request
    raise exc from None
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/httpcore/_async/connection_pool.py", line 236, in handle_async_request
    response = await connection.handle_async_request(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        pool_request.request
        ^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/httpcore/_async/connection.py", line 101, in handle_async_request
    raise exc
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/httpcore/_async/connection.py", line 78, in handle_async_request
    stream = await self._connect(request)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/httpcore/_async/connection.py", line 124, in _connect
    stream = await self._network_backend.connect_tcp(**kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/httpcore/_backends/auto.py", line 31, in connect_tcp
    return await self._backend.connect_tcp(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<5 lines>...
    )
    ^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/httpcore/_backends/anyio.py", line 113, in connect_tcp
    with map_exceptions(exc_map):
         ~~~~~~~~~~~~~~^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    ~~~~~~~~~~~~~~^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/httpcore/_exceptions.py", line 14, in map_exceptions
    raise to_exc(exc) from exc
httpcore.ConnectTimeout

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/home/rehack/PycharmProjects/solpro_backend/app/main.py", line 65, in log_requests
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/base.py", line 168, in call_next
    raise app_exc from app_exc.__cause__ or app_exc.__context__
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/base.py", line 144, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/base.py", line 191, in __call__
    with recv_stream, send_stream, collapse_excgroups():
                                   ~~~~~~~~~~~~~~~~~~^^
  File "/home/rehack/anaconda3/lib/python3.13/contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    ~~~~~~~~~~~~~~^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/_utils.py", line 85, in collapse_excgroups
    raise exc
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/base.py", line 193, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/slowapi/middleware.py", line 136, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/base.py", line 168, in call_next
    raise app_exc from app_exc.__cause__ or app_exc.__context__
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/base.py", line 144, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/gzip.py", line 29, in __call__
    await responder(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/gzip.py", line 130, in __call__
    await super().__call__(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/gzip.py", line 46, in __call__
    await self.app(scope, receive, self.send_with_compression)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/trustedhost.py", line 36, in __call__
    await self.app(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/fastapi/routing.py", line 125, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/fastapi/routing.py", line 111, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/fastapi/routing.py", line 391, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/fastapi/routing.py", line 290, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rehack/PycharmProjects/solpro_backend/app/api/v1/endpoints/crypto_payments.py", line 110, in get_payment_status
    return await service.get_payment_status(payment_id)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rehack/PycharmProjects/solpro_backend/app/service/nowpayments_service.py", line 179, in get_payment_status
    response = await client.get(
               ^^^^^^^^^^^^^^^^^
    ...<2 lines>...
    )
    ^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/httpx/_client.py", line 1768, in get
    return await self.request(
           ^^^^^^^^^^^^^^^^^^^
    ...<9 lines>...
    )
    ^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/httpx/_client.py", line 1540, in request
    return await self.send(request, auth=auth, follow_redirects=follow_redirects)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/httpx/_client.py", line 1629, in send
    response = await self._send_handling_auth(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<4 lines>...
    )
    ^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/httpx/_client.py", line 1657, in _send_handling_auth
    response = await self._send_handling_redirects(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/httpx/_client.py", line 1694, in _send_handling_redirects
    response = await self._send_single_request(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/httpx/_client.py", line 1730, in _send_single_request
    response = await transport.handle_async_request(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/httpx/_transports/default.py", line 393, in handle_async_request
    with map_httpcore_exceptions():
         ~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/home/rehack/anaconda3/lib/python3.13/contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    ~~~~~~~~~~~~~~^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/httpx/_transports/default.py", line 118, in map_httpcore_exceptions
    raise mapped_exc(message) from exc
httpx.ConnectTimeout

2026-01-15 06:19:17,178 - uvicorn.access - INFO - 127.0.0.1:35604 - "GET /api/v1/crypto-payments/payment/6432499794/status HTTP/1.1" 500
2026-01-15 06:19:42,650 - app - INFO - Request: GET /api/v1/crypto-payments/payment/6432499794/status - Status: 200 - Duration: 555.06ms
2026-01-15 06:19:42,651 - uvicorn.access - INFO - 127.0.0.1:44086 - "GET /api/v1/crypto-payments/payment/6432499794/status HTTP/1.1" 200
2026-01-15 06:20:12,664 - app - INFO - Request: GET /api/v1/crypto-payments/payment/6432499794/status - Status: 200 - Duration: 568.04ms
2026-01-15 06:20:12,664 - uvicorn.access - INFO - 127.0.0.1:51954 - "GET /api/v1/crypto-payments/payment/6432499794/status HTTP/1.1" 200
2026-01-15 06:20:42,617 - app - INFO - Request: GET /api/v1/crypto-payments/payment/6432499794/status - Status: 200 - Duration: 521.87ms
2026-01-15 06:20:42,617 - uvicorn.access - INFO - 127.0.0.1:48894 - "GET /api/v1/crypto-payments/payment/6432499794/status HTTP/1.1" 200
2026-01-15 06:20:48,846 - app - INFO - Request: GET /api/v1/crypto-payments/payment/6432499794/status - Status: 200 - Duration: 519.04ms
2026-01-15 06:20:48,846 - uvicorn.access - INFO - 127.0.0.1:48900 - "GET /api/v1/crypto-payments/payment/6432499794/status HTTP/1.1" 200
2026-01-15 06:21:12,797 - app - INFO - Request: GET /api/v1/crypto-payments/payment/6432499794/status - Status: 200 - Duration: 702.22ms
2026-01-15 06:21:12,798 - uvicorn.access - INFO - 127.0.0.1:37532 - "GET /api/v1/crypto-payments/payment/6432499794/status HTTP/1.1" 200
2026-01-15 06:21:42,658 - app - INFO - Request: GET /api/v1/crypto-payments/payment/6432499794/status - Status: 200 - Duration: 561.71ms
2026-01-15 06:21:42,658 - uvicorn.access - INFO - 127.0.0.1:34234 - "GET /api/v1/crypto-payments/payment/6432499794/status HTTP/1.1" 200
2026-01-15 06:22:12,631 - app - INFO - Request: GET /api/v1/crypto-payments/payment/6432499794/status - Status: 200 - Duration: 537.75ms
2026-01-15 06:22:12,631 - uvicorn.access - INFO - 127.0.0.1:51044 - "GET /api/v1/crypto-payments/payment/6432499794/status HTTP/1.1" 200
2026-01-15 06:22:29,838 - app - INFO - Request: GET /api/v1/users/me - Status: 200 - Duration: 15.16ms
2026-01-15 06:22:29,839 - uvicorn.access - INFO - 127.0.0.1:52914 - "GET /api/v1/users/me HTTP/1.1" 200
2026-01-15 06:22:29,904 - app - INFO - Request: GET /api/v1/users/me - Status: 200 - Duration: 45.63ms
2026-01-15 06:22:29,905 - uvicorn.access - INFO - 127.0.0.1:52918 - "GET /api/v1/users/me HTTP/1.1" 200
2026-01-15 06:22:29,911 - app - INFO - Request: GET /api/v1/prop-firm - Status: 200 - Duration: 37.13ms
2026-01-15 06:22:29,911 - uvicorn.access - INFO - 127.0.0.1:52924 - "GET /api/v1/prop-firm HTTP/1.1" 200
2026-01-15 06:22:29,935 - app - INFO - Request: GET /api/v1/prop-firm - Status: 200 - Duration: 13.07ms
2026-01-15 06:22:29,935 - uvicorn.access - INFO - 127.0.0.1:52938 - "GET /api/v1/prop-firm HTTP/1.1" 200
2026-01-15 06:33:07,864 - app - INFO - Request: GET /api/v1/prop-firm - Status: 200 - Duration: 8.68ms
2026-01-15 06:33:07,864 - uvicorn.access - INFO - 127.0.0.1:49318 - "GET /api/v1/prop-firm?status=passed HTTP/1.1" 200
2026-01-15 06:33:07,882 - app - INFO - Request: GET /api/v1/prop-firm - Status: 200 - Duration: 7.73ms
2026-01-15 06:33:07,882 - uvicorn.access - INFO - 127.0.0.1:49330 - "GET /api/v1/prop-firm?status=passed HTTP/1.1" 200
2026-01-15 06:33:09,927 - app - INFO - Request: GET /api/v1/notifications/my-notifications - Status: 200 - Duration: 13.59ms
2026-01-15 06:33:09,927 - uvicorn.access - INFO - 127.0.0.1:53286 - "GET /api/v1/notifications/my-notifications HTTP/1.1" 200
2026-01-15 06:33:09,953 - app - INFO - Request: GET /api/v1/notifications/my-notifications - Status: 200 - Duration: 18.65ms
2026-01-15 06:33:09,954 - uvicorn.access - INFO - 127.0.0.1:53290 - "GET /api/v1/notifications/my-notifications HTTP/1.1" 200
2026-01-15 06:33:22,935 - app - INFO - Request: GET /api/v1/users/referrals - Status: 200 - Duration: 13.31ms
2026-01-15 06:33:22,935 - uvicorn.access - INFO - 127.0.0.1:37246 - "GET /api/v1/users/referrals HTTP/1.1" 200
2026-01-15 06:33:22,972 - app - INFO - Request: GET /api/v1/users/referrals - Status: 200 - Duration: 22.22ms
2026-01-15 06:33:22,972 - uvicorn.access - INFO - 127.0.0.1:37252 - "GET /api/v1/users/referrals HTTP/1.1" 200
2026-01-15 06:33:23,877 - app - INFO - Request: GET /api/v1/notifications/my-notifications - Status: 200 - Duration: 16.96ms
2026-01-15 06:33:23,877 - uvicorn.access - INFO - 127.0.0.1:37260 - "GET /api/v1/notifications/my-notifications HTTP/1.1" 200
2026-01-15 06:33:23,908 - app - INFO - Request: GET /api/v1/notifications/my-notifications - Status: 200 - Duration: 21.29ms
2026-01-15 06:33:23,908 - uvicorn.access - INFO - 127.0.0.1:37264 - "GET /api/v1/notifications/my-notifications HTTP/1.1" 200
2026-01-15 06:33:24,879 - app - INFO - Request: GET /api/v1/users/referrals - Status: 200 - Duration: 14.90ms
2026-01-15 06:33:24,879 - uvicorn.access - INFO - 127.0.0.1:37272 - "GET /api/v1/users/referrals HTTP/1.1" 200
2026-01-15 06:33:24,915 - app - INFO - Request: GET /api/v1/users/referrals - Status: 200 - Duration: 16.25ms
2026-01-15 06:33:24,915 - uvicorn.access - INFO - 127.0.0.1:37278 - "GET /api/v1/users/referrals HTTP/1.1" 200
2026-01-15 06:33:29,125 - app - INFO - Request: GET /api/v1/notifications/my-notifications - Status: 200 - Duration: 19.91ms
2026-01-15 06:33:29,126 - uvicorn.access - INFO - 127.0.0.1:37284 - "GET /api/v1/notifications/my-notifications HTTP/1.1" 200
2026-01-15 06:33:29,159 - app - INFO - Request: GET /api/v1/notifications/my-notifications - Status: 200 - Duration: 21.43ms
2026-01-15 06:33:29,159 - uvicorn.access - INFO - 127.0.0.1:37294 - "GET /api/v1/notifications/my-notifications HTTP/1.1" 200
2026-01-15 06:33:30,146 - app - INFO - Request: GET /api/v1/prop-firm - Status: 200 - Duration: 12.44ms
2026-01-15 06:33:30,146 - uvicorn.access - INFO - 127.0.0.1:45798 - "GET /api/v1/prop-firm?status=passed HTTP/1.1" 200
2026-01-15 06:33:30,178 - app - INFO - Request: GET /api/v1/prop-firm - Status: 200 - Duration: 18.06ms
2026-01-15 06:33:30,178 - uvicorn.access - INFO - 127.0.0.1:45806 - "GET /api/v1/prop-firm?status=passed HTTP/1.1" 200
2026-01-15 06:33:31,233 - app - INFO - Request: GET /api/v1/notifications/my-notifications - Status: 200 - Duration: 13.97ms
2026-01-15 06:33:31,234 - uvicorn.access - INFO - 127.0.0.1:45808 - "GET /api/v1/notifications/my-notifications HTTP/1.1" 200
2026-01-15 06:33:31,261 - app - INFO - Request: GET /api/v1/notifications/my-notifications - Status: 200 - Duration: 15.67ms
2026-01-15 06:33:31,261 - uvicorn.access - INFO - 127.0.0.1:45810 - "GET /api/v1/notifications/my-notifications HTTP/1.1" 200
2026-01-15 06:33:32,776 - app - INFO - Request: GET /api/v1/prop-firm - Status: 200 - Duration: 6.79ms
2026-01-15 06:33:32,776 - uvicorn.access - INFO - 127.0.0.1:45818 - "GET /api/v1/prop-firm?status=passed HTTP/1.1" 200
2026-01-15 06:33:32,797 - app - INFO - Request: GET /api/v1/prop-firm - Status: 200 - Duration: 10.48ms
2026-01-15 06:33:32,797 - uvicorn.access - INFO - 127.0.0.1:45834 - "GET /api/v1/prop-firm?status=passed HTTP/1.1" 200
2026-01-15 06:33:33,503 - app - INFO - Request: GET /api/v1/notifications/my-notifications - Status: 200 - Duration: 10.12ms
2026-01-15 06:33:33,504 - uvicorn.access - INFO - 127.0.0.1:45840 - "GET /api/v1/notifications/my-notifications HTTP/1.1" 200
2026-01-15 06:33:33,524 - app - INFO - Request: GET /api/v1/notifications/my-notifications - Status: 200 - Duration: 12.47ms
2026-01-15 06:33:33,524 - uvicorn.access - INFO - 127.0.0.1:45852 - "GET /api/v1/notifications/my-notifications HTTP/1.1" 200
2026-01-15 06:51:26,599 - uvicorn.error - INFO - Shutting down
2026-01-15 06:51:26,700 - uvicorn.error - INFO - Waiting for application shutdown.
2026-01-15 06:51:26,701 - app - INFO - Shutting down application...
2026-01-15 06:51:26,701 - uvicorn.error - INFO - Application shutdown complete.
2026-01-15 06:51:26,701 - uvicorn.error - INFO - Finished server process [25463]
2026-01-15 06:51:28,584 - uvicorn.error - INFO - Started server process [59753]
2026-01-15 06:51:28,584 - uvicorn.error - INFO - Waiting for application startup.
2026-01-15 06:51:28,585 - app - INFO - Starting up application...
2026-01-15 06:51:28,595 - uvicorn.error - INFO - Application startup complete.
2026-01-15 06:51:29,899 - uvicorn.error - INFO - Shutting down
2026-01-15 06:51:30,000 - uvicorn.error - INFO - Waiting for application shutdown.
2026-01-15 06:51:30,000 - app - INFO - Shutting down application...
2026-01-15 06:51:30,000 - uvicorn.error - INFO - Application shutdown complete.
2026-01-15 06:51:30,000 - uvicorn.error - INFO - Finished server process [59753]
2026-01-15 06:51:31,300 - uvicorn.error - INFO - Started server process [59815]
2026-01-15 06:51:31,300 - uvicorn.error - INFO - Waiting for application startup.
2026-01-15 06:51:31,301 - app - INFO - Starting up application...
2026-01-15 06:51:31,308 - uvicorn.error - INFO - Application startup complete.
2026-01-15 06:51:34,427 - uvicorn.error - INFO - Shutting down
2026-01-15 06:51:34,528 - uvicorn.error - INFO - Waiting for application shutdown.
2026-01-15 06:51:34,528 - app - INFO - Shutting down application...
2026-01-15 06:51:34,529 - uvicorn.error - INFO - Application shutdown complete.
2026-01-15 06:51:34,529 - uvicorn.error - INFO - Finished server process [59815]
2026-01-15 06:51:36,569 - uvicorn.error - INFO - Started server process [59895]
2026-01-15 06:51:36,570 - uvicorn.error - INFO - Waiting for application startup.
2026-01-15 06:51:36,570 - app - INFO - Starting up application...
2026-01-15 06:51:36,585 - uvicorn.error - INFO - Application startup complete.
2026-01-15 06:51:37,091 - uvicorn.error - INFO - Shutting down
2026-01-15 06:51:37,195 - uvicorn.error - INFO - Waiting for application shutdown.
2026-01-15 06:51:37,195 - app - INFO - Shutting down application...
2026-01-15 06:51:37,196 - uvicorn.error - INFO - Application shutdown complete.
2026-01-15 06:51:37,197 - uvicorn.error - INFO - Finished server process [59895]
2026-01-15 06:51:38,523 - uvicorn.error - INFO - Started server process [59952]
2026-01-15 06:51:38,523 - uvicorn.error - INFO - Waiting for application startup.
2026-01-15 06:51:38,524 - app - INFO - Starting up application...
2026-01-15 06:51:38,531 - uvicorn.error - INFO - Application startup complete.
2026-01-15 06:51:39,908 - uvicorn.error - INFO - Started server process [59969]
2026-01-15 06:51:39,909 - uvicorn.error - INFO - Waiting for application startup.
2026-01-15 06:51:39,910 - app - INFO - Starting up application...
2026-01-15 06:51:39,928 - uvicorn.error - INFO - Application startup complete.
2026-01-15 06:51:59,597 - uvicorn.error - INFO - Shutting down
2026-01-15 06:51:59,698 - uvicorn.error - INFO - Waiting for application shutdown.
2026-01-15 06:51:59,698 - app - INFO - Shutting down application...
2026-01-15 06:51:59,698 - uvicorn.error - INFO - Application shutdown complete.
2026-01-15 06:51:59,698 - uvicorn.error - INFO - Finished server process [59969]
2026-01-15 06:52:01,213 - uvicorn.error - INFO - Started server process [60276]
2026-01-15 06:52:01,213 - uvicorn.error - INFO - Waiting for application startup.
2026-01-15 06:52:01,213 - app - INFO - Starting up application...
2026-01-15 06:52:01,222 - uvicorn.error - INFO - Application startup complete.
2026-01-15 06:52:10,748 - uvicorn.error - INFO - Shutting down
2026-01-15 06:52:10,849 - uvicorn.error - INFO - Waiting for application shutdown.
2026-01-15 06:52:10,849 - app - INFO - Shutting down application...
2026-01-15 06:52:10,849 - uvicorn.error - INFO - Application shutdown complete.
2026-01-15 06:52:10,850 - uvicorn.error - INFO - Finished server process [60276]
2026-01-15 06:52:12,098 - uvicorn.error - INFO - Started server process [60493]
2026-01-15 06:52:12,099 - uvicorn.error - INFO - Waiting for application startup.
2026-01-15 06:52:12,099 - app - INFO - Starting up application...
2026-01-15 06:52:12,106 - uvicorn.error - INFO - Application startup complete.
2026-01-15 06:52:34,676 - app - INFO - Request: GET /docs - Status: 200 - Duration: 0.85ms
2026-01-15 06:52:34,676 - uvicorn.access - INFO - 127.0.0.1:44092 - "GET /docs HTTP/1.1" 200
2026-01-15 06:52:53,306 - app - INFO - Request: GET /openapi.json - Status: 200 - Duration: 151.34ms
2026-01-15 06:52:53,306 - uvicorn.access - INFO - 127.0.0.1:59572 - "GET /openapi.json HTTP/1.1" 200
2026-01-15 06:53:06,855 - app - INFO - Request: GET /openapi.json - Status: 200 - Duration: 3.27ms
2026-01-15 06:53:06,855 - uvicorn.access - INFO - 127.0.0.1:39660 - "GET /openapi.json HTTP/1.1" 200
2026-01-15 06:59:10,947 - uvicorn.error - INFO - Shutting down
2026-01-15 06:59:11,047 - uvicorn.error - INFO - Waiting for application shutdown.
2026-01-15 06:59:11,048 - app - INFO - Shutting down application...
2026-01-15 06:59:11,048 - uvicorn.error - INFO - Application shutdown complete.
2026-01-15 06:59:11,049 - uvicorn.error - INFO - Finished server process [60493]
2026-01-15 06:59:12,912 - uvicorn.error - INFO - Started server process [66533]
2026-01-15 06:59:12,913 - uvicorn.error - INFO - Waiting for application startup.
2026-01-15 06:59:12,913 - app - INFO - Starting up application...
2026-01-15 06:59:12,931 - uvicorn.error - INFO - Application startup complete.
2026-01-15 06:59:15,044 - uvicorn.error - INFO - Shutting down
2026-01-15 06:59:15,145 - uvicorn.error - INFO - Waiting for application shutdown.
2026-01-15 06:59:15,145 - app - INFO - Shutting down application...
2026-01-15 06:59:15,145 - uvicorn.error - INFO - Application shutdown complete.
2026-01-15 06:59:15,146 - uvicorn.error - INFO - Finished server process [66533]
2026-01-15 06:59:16,713 - uvicorn.error - INFO - Started server process [66645]
2026-01-15 06:59:16,714 - uvicorn.error - INFO - Waiting for application startup.
2026-01-15 06:59:16,714 - app - INFO - Starting up application...
2026-01-15 06:59:16,723 - uvicorn.error - INFO - Application startup complete.
2026-01-15 06:59:39,811 - uvicorn.error - INFO - Shutting down
2026-01-15 06:59:39,914 - uvicorn.error - INFO - Waiting for application shutdown.
2026-01-15 06:59:39,914 - app - INFO - Shutting down application...
2026-01-15 06:59:39,915 - uvicorn.error - INFO - Application shutdown complete.
2026-01-15 06:59:39,915 - uvicorn.error - INFO - Finished server process [66645]
2026-01-15 06:59:41,695 - uvicorn.error - INFO - Started server process [67007]
2026-01-15 06:59:41,696 - uvicorn.error - INFO - Waiting for application startup.
2026-01-15 06:59:41,696 - app - INFO - Starting up application...
2026-01-15 06:59:41,709 - uvicorn.error - INFO - Application startup complete.
2026-01-15 06:59:46,733 - uvicorn.error - INFO - Shutting down
2026-01-15 06:59:46,834 - uvicorn.error - INFO - Waiting for application shutdown.
2026-01-15 06:59:46,834 - app - INFO - Shutting down application...
2026-01-15 06:59:46,834 - uvicorn.error - INFO - Application shutdown complete.
2026-01-15 06:59:46,834 - uvicorn.error - INFO - Finished server process [67007]
2026-01-15 06:59:48,445 - uvicorn.error - INFO - Started server process [67152]
2026-01-15 06:59:48,445 - uvicorn.error - INFO - Waiting for application startup.
2026-01-15 06:59:48,446 - app - INFO - Starting up application...
2026-01-15 06:59:48,452 - uvicorn.error - INFO - Application startup complete.
2026-01-15 06:59:50,052 - uvicorn.error - INFO - Started server process [67177]
2026-01-15 06:59:50,053 - uvicorn.error - INFO - Waiting for application startup.
2026-01-15 06:59:50,053 - app - INFO - Starting up application...
2026-01-15 06:59:50,068 - uvicorn.error - INFO - Application startup complete.
2026-01-15 07:00:05,622 - app - ERROR - Request failed: GET /openapi.json - Duration: 109.03ms - Error: `TypeAdapter[typing.Annotated[app.schema.crypto_payment.CryptoPaymentRead, FieldInfo(annotation=CryptoPaymentRead, required=True)]]` is not fully defined; you should define `typing.Annotated[app.schema.crypto_payment.CryptoPaymentRead, FieldInfo(annotation=CryptoPaymentRead, required=True)]` and all referenced types, then call `.rebuild()` on the instance.

For further information visit https://errors.pydantic.dev/2.12/u/class-not-fully-defined
2026-01-15 07:00:05,642 - app - ERROR -   + Exception Group Traceback (most recent call last):
  |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/_utils.py", line 79, in collapse_excgroups
  |     yield
  |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/base.py", line 192, in __call__
  |     async with anyio.create_task_group() as task_group:
  |                ~~~~~~~~~~~~~~~~~~~~~~~^^
  |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/anyio/_backends/_asyncio.py", line 815, in __aexit__
  |     raise BaseExceptionGroup(
  |         "unhandled errors in a TaskGroup", self._exceptions
  |     )
  | ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)
  +-+---------------- 1 ----------------
    | Traceback (most recent call last):
    |   File "/home/rehack/PycharmProjects/solpro_backend/app/main.py", line 65, in log_requests
    |     response = await call_next(request)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/base.py", line 168, in call_next
    |     raise app_exc from app_exc.__cause__ or app_exc.__context__
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/base.py", line 144, in coro
    |     await self.app(scope, receive_or_disconnect, send_no_error)
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/base.py", line 191, in __call__
    |     with recv_stream, send_stream, collapse_excgroups():
    |                                    ~~~~~~~~~~~~~~~~~~^^
    |   File "/home/rehack/anaconda3/lib/python3.13/contextlib.py", line 162, in __exit__
    |     self.gen.throw(value)
    |     ~~~~~~~~~~~~~~^^^^^^^
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/_utils.py", line 85, in collapse_excgroups
    |     raise exc
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/base.py", line 193, in __call__
    |     response = await self.dispatch_func(request, call_next)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/slowapi/middleware.py", line 136, in dispatch
    |     response = await call_next(request)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/base.py", line 168, in call_next
    |     raise app_exc from app_exc.__cause__ or app_exc.__context__
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/base.py", line 144, in coro
    |     await self.app(scope, receive_or_disconnect, send_no_error)
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/gzip.py", line 29, in __call__
    |     await responder(scope, receive, send)
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/gzip.py", line 46, in __call__
    |     await self.app(scope, receive, self.send_with_compression)
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/trustedhost.py", line 36, in __call__
    |     await self.app(scope, receive, send)
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/cors.py", line 85, in __call__
    |     await self.app(scope, receive, send)
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    |     await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    |     raise exc
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    |     await app(scope, receive, sender)
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    |     await self.app(scope, receive, send)
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/routing.py", line 716, in __call__
    |     await self.middleware_stack(scope, receive, send)
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/routing.py", line 736, in app
    |     await route.handle(scope, receive, send)
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/routing.py", line 290, in handle
    |     await self.app(scope, receive, send)
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/routing.py", line 78, in app
    |     await wrap_app_handling_exceptions(app, request)(scope, receive, send)
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    |     raise exc
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    |     await app(scope, receive, sender)
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/routing.py", line 75, in app
    |     response = await f(request)
    |                ^^^^^^^^^^^^^^^^
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/fastapi/applications.py", line 1089, in openapi
    |     return JSONResponse(self.openapi())
    |                         ~~~~~~~~~~~~^^
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/fastapi/applications.py", line 1060, in openapi
    |     self.openapi_schema = get_openapi(
    |                           ~~~~~~~~~~~^
    |         title=self.title,
    |         ^^^^^^^^^^^^^^^^^
    |     ...<12 lines>...
    |         external_docs=self.openapi_external_docs,
    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |     )
    |     ^
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/fastapi/openapi/utils.py", line 504, in get_openapi
    |     field_mapping, definitions = get_definitions(
    |                                  ~~~~~~~~~~~~~~~^
    |         fields=all_fields,
    |         ^^^^^^^^^^^^^^^^^^
    |         model_name_map=model_name_map,
    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |         separate_input_output_schemas=separate_input_output_schemas,
    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |     )
    |     ^
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/fastapi/_compat/main.py", line 292, in get_definitions
    |     v2_field_maps, v2_definitions = v2.get_definitions(
    |                                     ~~~~~~~~~~~~~~~~~~^
    |         fields=v2_fields,
    |         ^^^^^^^^^^^^^^^^^
    |         model_name_map=model_name_map,
    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |         separate_input_output_schemas=separate_input_output_schemas,
    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |     )
    |     ^
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/fastapi/_compat/v2.py", line 244, in get_definitions
    |     field_mapping, definitions = schema_generator.generate_definitions(inputs=inputs)
    |                                  ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/pydantic/json_schema.py", line 379, in generate_definitions
    |     self.generate_inner(schema)
    |     ~~~~~~~~~~~~~~~~~~~^^^^^^^^
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/pydantic/json_schema.py", line 459, in generate_inner
    |     if 'ref' in schema:
    |        ^^^^^^^^^^^^^^^
    |   File "<frozen _collections_abc>", line 817, in __contains__
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/pydantic/_internal/_mock_val_ser.py", line 41, in __getitem__
    |     return self._get_built().__getitem__(key)
    |            ~~~~~~~~~~~~~~~^^
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/pydantic/_internal/_mock_val_ser.py", line 58, in _get_built
    |     raise PydanticUserError(self._error_message, code=self._code)
    | pydantic.errors.PydanticUserError: `TypeAdapter[typing.Annotated[app.schema.crypto_payment.CryptoPaymentRead, FieldInfo(annotation=CryptoPaymentRead, required=True)]]` is not fully defined; you should define `typing.Annotated[app.schema.crypto_payment.CryptoPaymentRead, FieldInfo(annotation=CryptoPaymentRead, required=True)]` and all referenced types, then call `.rebuild()` on the instance.
    | 
    | For further information visit https://errors.pydantic.dev/2.12/u/class-not-fully-defined
    +------------------------------------

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/home/rehack/PycharmProjects/solpro_backend/app/main.py", line 65, in log_requests
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/base.py", line 168, in call_next
    raise app_exc from app_exc.__cause__ or app_exc.__context__
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/base.py", line 144, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/base.py", line 191, in __call__
    with recv_stream, send_stream, collapse_excgroups():
                                   ~~~~~~~~~~~~~~~~~~^^
  File "/home/rehack/anaconda3/lib/python3.13/contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    ~~~~~~~~~~~~~~^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/_utils.py", line 85, in collapse_excgroups
    raise exc
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/base.py", line 193, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/slowapi/middleware.py", line 136, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/base.py", line 168, in call_next
    raise app_exc from app_exc.__cause__ or app_exc.__context__
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/base.py", line 144, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/gzip.py", line 29, in __call__
    await responder(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/gzip.py", line 46, in __call__
    await self.app(scope, receive, self.send_with_compression)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/trustedhost.py", line 36, in __call__
    await self.app(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/routing.py", line 78, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/routing.py", line 75, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/fastapi/applications.py", line 1089, in openapi
    return JSONResponse(self.openapi())
                        ~~~~~~~~~~~~^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/fastapi/applications.py", line 1060, in openapi
    self.openapi_schema = get_openapi(
                          ~~~~~~~~~~~^
        title=self.title,
        ^^^^^^^^^^^^^^^^^
    ...<12 lines>...
        external_docs=self.openapi_external_docs,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/fastapi/openapi/utils.py", line 504, in get_openapi
    field_mapping, definitions = get_definitions(
                                 ~~~~~~~~~~~~~~~^
        fields=all_fields,
        ^^^^^^^^^^^^^^^^^^
        model_name_map=model_name_map,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        separate_input_output_schemas=separate_input_output_schemas,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/fastapi/_compat/main.py", line 292, in get_definitions
    v2_field_maps, v2_definitions = v2.get_definitions(
                                    ~~~~~~~~~~~~~~~~~~^
        fields=v2_fields,
        ^^^^^^^^^^^^^^^^^
        model_name_map=model_name_map,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        separate_input_output_schemas=separate_input_output_schemas,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/fastapi/_compat/v2.py", line 244, in get_definitions
    field_mapping, definitions = schema_generator.generate_definitions(inputs=inputs)
                                 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/pydantic/json_schema.py", line 379, in generate_definitions
    self.generate_inner(schema)
    ~~~~~~~~~~~~~~~~~~~^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/pydantic/json_schema.py", line 459, in generate_inner
    if 'ref' in schema:
       ^^^^^^^^^^^^^^^
  File "<frozen _collections_abc>", line 817, in __contains__
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/pydantic/_internal/_mock_val_ser.py", line 41, in __getitem__
    return self._get_built().__getitem__(key)
           ~~~~~~~~~~~~~~~^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/pydantic/_internal/_mock_val_ser.py", line 58, in _get_built
    raise PydanticUserError(self._error_message, code=self._code)
pydantic.errors.PydanticUserError: `TypeAdapter[typing.Annotated[app.schema.crypto_payment.CryptoPaymentRead, FieldInfo(annotation=CryptoPaymentRead, required=True)]]` is not fully defined; you should define `typing.Annotated[app.schema.crypto_payment.CryptoPaymentRead, FieldInfo(annotation=CryptoPaymentRead, required=True)]` and all referenced types, then call `.rebuild()` on the instance.

For further information visit https://errors.pydantic.dev/2.12/u/class-not-fully-defined

2026-01-15 07:00:05,643 - uvicorn.access - INFO - 127.0.0.1:34682 - "GET /openapi.json HTTP/1.1" 500
2026-01-15 07:00:15,378 - app - INFO - Request: GET /docs - Status: 200 - Duration: 1.02ms
2026-01-15 07:00:15,378 - uvicorn.access - INFO - 127.0.0.1:40820 - "GET /docs HTTP/1.1" 200
2026-01-15 07:01:08,672 - app - ERROR - Request failed: GET /openapi.json - Duration: 108.61ms - Error: `TypeAdapter[typing.Annotated[app.schema.crypto_payment.CryptoPaymentRead, FieldInfo(annotation=CryptoPaymentRead, required=True)]]` is not fully defined; you should define `typing.Annotated[app.schema.crypto_payment.CryptoPaymentRead, FieldInfo(annotation=CryptoPaymentRead, required=True)]` and all referenced types, then call `.rebuild()` on the instance.

For further information visit https://errors.pydantic.dev/2.12/u/class-not-fully-defined
2026-01-15 07:01:08,677 - app - ERROR -   + Exception Group Traceback (most recent call last):
  |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/_utils.py", line 79, in collapse_excgroups
  |     yield
  |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/base.py", line 192, in __call__
  |     async with anyio.create_task_group() as task_group:
  |                ~~~~~~~~~~~~~~~~~~~~~~~^^
  |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/anyio/_backends/_asyncio.py", line 815, in __aexit__
  |     raise BaseExceptionGroup(
  |         "unhandled errors in a TaskGroup", self._exceptions
  |     )
  | ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)
  +-+---------------- 1 ----------------
    | Traceback (most recent call last):
    |   File "/home/rehack/PycharmProjects/solpro_backend/app/main.py", line 65, in log_requests
    |     response = await call_next(request)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/base.py", line 168, in call_next
    |     raise app_exc from app_exc.__cause__ or app_exc.__context__
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/base.py", line 144, in coro
    |     await self.app(scope, receive_or_disconnect, send_no_error)
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/base.py", line 191, in __call__
    |     with recv_stream, send_stream, collapse_excgroups():
    |                                    ~~~~~~~~~~~~~~~~~~^^
    |   File "/home/rehack/anaconda3/lib/python3.13/contextlib.py", line 162, in __exit__
    |     self.gen.throw(value)
    |     ~~~~~~~~~~~~~~^^^^^^^
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/_utils.py", line 85, in collapse_excgroups
    |     raise exc
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/base.py", line 193, in __call__
    |     response = await self.dispatch_func(request, call_next)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/slowapi/middleware.py", line 136, in dispatch
    |     response = await call_next(request)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/base.py", line 168, in call_next
    |     raise app_exc from app_exc.__cause__ or app_exc.__context__
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/base.py", line 144, in coro
    |     await self.app(scope, receive_or_disconnect, send_no_error)
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/gzip.py", line 29, in __call__
    |     await responder(scope, receive, send)
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/gzip.py", line 46, in __call__
    |     await self.app(scope, receive, self.send_with_compression)
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/trustedhost.py", line 36, in __call__
    |     await self.app(scope, receive, send)
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/cors.py", line 85, in __call__
    |     await self.app(scope, receive, send)
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    |     await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    |     raise exc
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    |     await app(scope, receive, sender)
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    |     await self.app(scope, receive, send)
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/routing.py", line 716, in __call__
    |     await self.middleware_stack(scope, receive, send)
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/routing.py", line 736, in app
    |     await route.handle(scope, receive, send)
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/routing.py", line 290, in handle
    |     await self.app(scope, receive, send)
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/routing.py", line 78, in app
    |     await wrap_app_handling_exceptions(app, request)(scope, receive, send)
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    |     raise exc
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    |     await app(scope, receive, sender)
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/routing.py", line 75, in app
    |     response = await f(request)
    |                ^^^^^^^^^^^^^^^^
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/fastapi/applications.py", line 1089, in openapi
    |     return JSONResponse(self.openapi())
    |                         ~~~~~~~~~~~~^^
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/fastapi/applications.py", line 1060, in openapi
    |     self.openapi_schema = get_openapi(
    |                           ~~~~~~~~~~~^
    |         title=self.title,
    |         ^^^^^^^^^^^^^^^^^
    |     ...<12 lines>...
    |         external_docs=self.openapi_external_docs,
    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |     )
    |     ^
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/fastapi/openapi/utils.py", line 504, in get_openapi
    |     field_mapping, definitions = get_definitions(
    |                                  ~~~~~~~~~~~~~~~^
    |         fields=all_fields,
    |         ^^^^^^^^^^^^^^^^^^
    |         model_name_map=model_name_map,
    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |         separate_input_output_schemas=separate_input_output_schemas,
    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |     )
    |     ^
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/fastapi/_compat/main.py", line 292, in get_definitions
    |     v2_field_maps, v2_definitions = v2.get_definitions(
    |                                     ~~~~~~~~~~~~~~~~~~^
    |         fields=v2_fields,
    |         ^^^^^^^^^^^^^^^^^
    |         model_name_map=model_name_map,
    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |         separate_input_output_schemas=separate_input_output_schemas,
    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |     )
    |     ^
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/fastapi/_compat/v2.py", line 244, in get_definitions
    |     field_mapping, definitions = schema_generator.generate_definitions(inputs=inputs)
    |                                  ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/pydantic/json_schema.py", line 379, in generate_definitions
    |     self.generate_inner(schema)
    |     ~~~~~~~~~~~~~~~~~~~^^^^^^^^
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/pydantic/json_schema.py", line 459, in generate_inner
    |     if 'ref' in schema:
    |        ^^^^^^^^^^^^^^^
    |   File "<frozen _collections_abc>", line 817, in __contains__
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/pydantic/_internal/_mock_val_ser.py", line 41, in __getitem__
    |     return self._get_built().__getitem__(key)
    |            ~~~~~~~~~~~~~~~^^
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/pydantic/_internal/_mock_val_ser.py", line 58, in _get_built
    |     raise PydanticUserError(self._error_message, code=self._code)
    | pydantic.errors.PydanticUserError: `TypeAdapter[typing.Annotated[app.schema.crypto_payment.CryptoPaymentRead, FieldInfo(annotation=CryptoPaymentRead, required=True)]]` is not fully defined; you should define `typing.Annotated[app.schema.crypto_payment.CryptoPaymentRead, FieldInfo(annotation=CryptoPaymentRead, required=True)]` and all referenced types, then call `.rebuild()` on the instance.
    | 
    | For further information visit https://errors.pydantic.dev/2.12/u/class-not-fully-defined
    +------------------------------------

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/home/rehack/PycharmProjects/solpro_backend/app/main.py", line 65, in log_requests
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/base.py", line 168, in call_next
    raise app_exc from app_exc.__cause__ or app_exc.__context__
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/base.py", line 144, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/base.py", line 191, in __call__
    with recv_stream, send_stream, collapse_excgroups():
                                   ~~~~~~~~~~~~~~~~~~^^
  File "/home/rehack/anaconda3/lib/python3.13/contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    ~~~~~~~~~~~~~~^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/_utils.py", line 85, in collapse_excgroups
    raise exc
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/base.py", line 193, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/slowapi/middleware.py", line 136, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/base.py", line 168, in call_next
    raise app_exc from app_exc.__cause__ or app_exc.__context__
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/base.py", line 144, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/gzip.py", line 29, in __call__
    await responder(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/gzip.py", line 46, in __call__
    await self.app(scope, receive, self.send_with_compression)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/trustedhost.py", line 36, in __call__
    await self.app(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/routing.py", line 78, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/routing.py", line 75, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/fastapi/applications.py", line 1089, in openapi
    return JSONResponse(self.openapi())
                        ~~~~~~~~~~~~^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/fastapi/applications.py", line 1060, in openapi
    self.openapi_schema = get_openapi(
                          ~~~~~~~~~~~^
        title=self.title,
        ^^^^^^^^^^^^^^^^^
    ...<12 lines>...
        external_docs=self.openapi_external_docs,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/fastapi/openapi/utils.py", line 504, in get_openapi
    field_mapping, definitions = get_definitions(
                                 ~~~~~~~~~~~~~~~^
        fields=all_fields,
        ^^^^^^^^^^^^^^^^^^
        model_name_map=model_name_map,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        separate_input_output_schemas=separate_input_output_schemas,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/fastapi/_compat/main.py", line 292, in get_definitions
    v2_field_maps, v2_definitions = v2.get_definitions(
                                    ~~~~~~~~~~~~~~~~~~^
        fields=v2_fields,
        ^^^^^^^^^^^^^^^^^
        model_name_map=model_name_map,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        separate_input_output_schemas=separate_input_output_schemas,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/fastapi/_compat/v2.py", line 244, in get_definitions
    field_mapping, definitions = schema_generator.generate_definitions(inputs=inputs)
                                 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/pydantic/json_schema.py", line 379, in generate_definitions
    self.generate_inner(schema)
    ~~~~~~~~~~~~~~~~~~~^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/pydantic/json_schema.py", line 459, in generate_inner
    if 'ref' in schema:
       ^^^^^^^^^^^^^^^
  File "<frozen _collections_abc>", line 817, in __contains__
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/pydantic/_internal/_mock_val_ser.py", line 41, in __getitem__
    return self._get_built().__getitem__(key)
           ~~~~~~~~~~~~~~~^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/pydantic/_internal/_mock_val_ser.py", line 58, in _get_built
    raise PydanticUserError(self._error_message, code=self._code)
pydantic.errors.PydanticUserError: `TypeAdapter[typing.Annotated[app.schema.crypto_payment.CryptoPaymentRead, FieldInfo(annotation=CryptoPaymentRead, required=True)]]` is not fully defined; you should define `typing.Annotated[app.schema.crypto_payment.CryptoPaymentRead, FieldInfo(annotation=CryptoPaymentRead, required=True)]` and all referenced types, then call `.rebuild()` on the instance.

For further information visit https://errors.pydantic.dev/2.12/u/class-not-fully-defined

2026-01-15 07:01:08,678 - uvicorn.access - INFO - 127.0.0.1:54064 - "GET /openapi.json HTTP/1.1" 500
2026-01-15 07:01:25,318 - app - INFO - Request: GET /api/v1/crypto-payments/ - Status: 307 - Duration: 0.92ms
2026-01-15 07:01:25,318 - uvicorn.access - INFO - 127.0.0.1:37906 - "GET /api/v1/crypto-payments/ HTTP/1.1" 307
2026-01-15 07:08:24,649 - app - INFO - Request: GET /api/v1/users/me - Status: 403 - Duration: 11.26ms
2026-01-15 07:08:24,650 - uvicorn.access - INFO - 127.0.0.1:49882 - "GET /api/v1/users/me HTTP/1.1" 403
2026-01-15 07:08:24,675 - app - INFO - Request: GET /api/v1/prop-firm - Status: 403 - Duration: 2.33ms
2026-01-15 07:08:24,675 - uvicorn.access - INFO - 127.0.0.1:49886 - "GET /api/v1/prop-firm HTTP/1.1" 403
2026-01-15 07:08:47,265 - app - INFO - Request: POST /api/v1/auth/login/access-token - Status: 200 - Duration: 333.28ms
2026-01-15 07:08:47,265 - uvicorn.access - INFO - 127.0.0.1:51144 - "POST /api/v1/auth/login/access-token HTTP/1.1" 200
2026-01-15 07:08:48,362 - app - ERROR - Request failed: GET /api/v1/users/me - Duration: 31.51ms - Error: (sqlite3.OperationalError) no such column: prop_firm_registration.payment_status
[SQL: SELECT prop_firm_registration.user_id AS prop_firm_registration_user_id, prop_firm_registration.id AS prop_firm_registration_id, prop_firm_registration.login_id AS prop_firm_registration_login_id, prop_firm_registration.password AS prop_firm_registration_password, prop_firm_registration.propfirm_name AS prop_firm_registration_propfirm_name, prop_firm_registration.propfirm_website_link AS prop_firm_registration_propfirm_website_link, prop_firm_registration.server_name AS prop_firm_registration_server_name, prop_firm_registration.server_type AS prop_firm_registration_server_type, prop_firm_registration.challenges_step AS prop_firm_registration_challenges_step, prop_firm_registration.service_scope AS prop_firm_registration_service_scope, prop_firm_registration.order_id AS prop_firm_registration_order_id, prop_firm_registration.propfirm_account_cost AS prop_firm_registration_propfirm_account_cost, prop_firm_registration.account_size AS prop_firm_registration_account_size, prop_firm_registration.account_phases AS prop_firm_registration_account_phases, prop_firm_registration.trading_platform AS prop_firm_registration_trading_platform, prop_firm_registration.propfirm_rules AS prop_firm_registration_propfirm_rules, prop_firm_registration.whatsapp_no AS prop_firm_registration_whatsapp_no, prop_firm_registration.telegram_username AS prop_firm_registration_telegram_username, prop_firm_registration.account_status AS prop_firm_registration_account_status, prop_firm_registration.payment_status AS prop_firm_registration_payment_status, prop_firm_registration.created_at AS prop_firm_registration_created_at, prop_firm_registration.updated_at AS prop_firm_registration_updated_at 
FROM prop_firm_registration 
WHERE prop_firm_registration.user_id IN (?)]
[parameters: ('6affb04777824af5acc7646740ae90f3',)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2026-01-15 07:08:48,386 - app - ERROR - Traceback (most recent call last):
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/engine/default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 180, in execute
    self._adapt_connection._handle_exception(error)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 340, in _handle_exception
    raise error
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 162, in execute
    self.await_(_cursor.execute(operation, parameters))
    ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 132, in await_only
    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501
           ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 196, in greenlet_spawn
    value = await result
            ^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/aiosqlite/cursor.py", line 40, in execute
    await self._execute(self._cursor.execute, sql, parameters)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/aiosqlite/cursor.py", line 32, in _execute
    return await self._conn._execute(fn, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
sqlite3.OperationalError: no such column: prop_firm_registration.payment_status

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/home/rehack/PycharmProjects/solpro_backend/app/main.py", line 65, in log_requests
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/base.py", line 168, in call_next
    raise app_exc from app_exc.__cause__ or app_exc.__context__
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/base.py", line 144, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/base.py", line 191, in __call__
    with recv_stream, send_stream, collapse_excgroups():
                                   ~~~~~~~~~~~~~~~~~~^^
  File "/home/rehack/anaconda3/lib/python3.13/contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    ~~~~~~~~~~~~~~^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/_utils.py", line 85, in collapse_excgroups
    raise exc
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/base.py", line 193, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/slowapi/middleware.py", line 136, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/base.py", line 168, in call_next
    raise app_exc from app_exc.__cause__ or app_exc.__context__
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/base.py", line 144, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/gzip.py", line 29, in __call__
    await responder(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/gzip.py", line 130, in __call__
    await super().__call__(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/gzip.py", line 46, in __call__
    await self.app(scope, receive, self.send_with_compression)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/trustedhost.py", line 36, in __call__
    await self.app(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/fastapi/routing.py", line 125, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/fastapi/routing.py", line 111, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/fastapi/routing.py", line 381, in app
    solved_result = await solve_dependencies(
                    ^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<6 lines>...
    )
    ^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/fastapi/dependencies/utils.py", line 641, in solve_dependencies
    solved = await call(**solved_result.values)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rehack/PycharmProjects/solpro_backend/app/dependencies/auth.py", line 44, in get_current_user
    result = await session.exec(query)
             ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlmodel/ext/asyncio/session.py", line 98, in exec
    result = await greenlet_spawn(
             ^^^^^^^^^^^^^^^^^^^^^
    ...<7 lines>...
    )
    ^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 201, in greenlet_spawn
    result = context.throw(*sys.exc_info())
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlmodel/orm/session.py", line 83, in exec
    results = super().execute(
        statement,
    ...<4 lines>...
        _add_event=_add_event,
    )
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/orm/session.py", line 2351, in execute
    return self._execute_internal(
           ~~~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
    ...<4 lines>...
        _add_event=_add_event,
        ^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/orm/session.py", line 2249, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self,
        ^^^^^
    ...<4 lines>...
        conn,
        ^^^^^
    )
    ^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/orm/context.py", line 309, in orm_execute_statement
    return cls.orm_setup_cursor_result(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        session,
        ^^^^^^^^
    ...<4 lines>...
        result,
        ^^^^^^^
    )
    ^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/orm/context.py", line 616, in orm_setup_cursor_result
    return loading.instances(result, querycontext)
           ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/orm/loading.py", line 262, in instances
    _prebuffered = list(chunks(None))
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/orm/loading.py", line 247, in chunks
    post_load.invoke(context, path)
    ~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/orm/loading.py", line 1564, in invoke
    loader(
    ~~~~~~^
        effective_context, path, states, self.load_keys, *arg, **kw
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/orm/strategies.py", line 3338, in _load_for_path
    self._load_via_parent(
    ~~~~~~~~~~~~~~~~~~~~~^
        our_states, query_info, q, context, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/orm/strategies.py", line 3414, in _load_via_parent
    context.session.execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        q,
        ^^
        params={"primary_keys": primary_keys},
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        execution_options=execution_options,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ).unique(),
    ^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlmodel/orm/session.py", line 144, in execute
    return super().execute(
           ~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
    ...<4 lines>...
        _add_event=_add_event,
        ^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/orm/session.py", line 2351, in execute
    return self._execute_internal(
           ~~~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
    ...<4 lines>...
        _add_event=_add_event,
        ^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/orm/session.py", line 2249, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self,
        ^^^^^
    ...<4 lines>...
        conn,
        ^^^^^
    )
    ^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/orm/context.py", line 306, in orm_execute_statement
    result = conn.execute(
        statement, params or {}, execution_options=execution_options
    )
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/engine/base.py", line 1419, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/sql/elements.py", line 526, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/engine/base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
        dialect,
    ...<8 lines>...
        cache_hit=cache_hit,
    )
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/engine/base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ~~~~~~~~~~~~~~~~~~~~~~~~~^
        dialect, context, statement, parameters
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/engine/base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        e, str_statement, effective_parameters, cursor, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/engine/base.py", line 2355, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/engine/default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 180, in execute
    self._adapt_connection._handle_exception(error)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 340, in _handle_exception
    raise error
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 162, in execute
    self.await_(_cursor.execute(operation, parameters))
    ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 132, in await_only
    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501
           ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 196, in greenlet_spawn
    value = await result
            ^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/aiosqlite/cursor.py", line 40, in execute
    await self._execute(self._cursor.execute, sql, parameters)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/aiosqlite/cursor.py", line 32, in _execute
    return await self._conn._execute(fn, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such column: prop_firm_registration.payment_status
[SQL: SELECT prop_firm_registration.user_id AS prop_firm_registration_user_id, prop_firm_registration.id AS prop_firm_registration_id, prop_firm_registration.login_id AS prop_firm_registration_login_id, prop_firm_registration.password AS prop_firm_registration_password, prop_firm_registration.propfirm_name AS prop_firm_registration_propfirm_name, prop_firm_registration.propfirm_website_link AS prop_firm_registration_propfirm_website_link, prop_firm_registration.server_name AS prop_firm_registration_server_name, prop_firm_registration.server_type AS prop_firm_registration_server_type, prop_firm_registration.challenges_step AS prop_firm_registration_challenges_step, prop_firm_registration.service_scope AS prop_firm_registration_service_scope, prop_firm_registration.order_id AS prop_firm_registration_order_id, prop_firm_registration.propfirm_account_cost AS prop_firm_registration_propfirm_account_cost, prop_firm_registration.account_size AS prop_firm_registration_account_size, prop_firm_registration.account_phases AS prop_firm_registration_account_phases, prop_firm_registration.trading_platform AS prop_firm_registration_trading_platform, prop_firm_registration.propfirm_rules AS prop_firm_registration_propfirm_rules, prop_firm_registration.whatsapp_no AS prop_firm_registration_whatsapp_no, prop_firm_registration.telegram_username AS prop_firm_registration_telegram_username, prop_firm_registration.account_status AS prop_firm_registration_account_status, prop_firm_registration.payment_status AS prop_firm_registration_payment_status, prop_firm_registration.created_at AS prop_firm_registration_created_at, prop_firm_registration.updated_at AS prop_firm_registration_updated_at 
FROM prop_firm_registration 
WHERE prop_firm_registration.user_id IN (?)]
[parameters: ('6affb04777824af5acc7646740ae90f3',)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)

2026-01-15 07:08:48,386 - uvicorn.access - INFO - 127.0.0.1:51148 - "GET /api/v1/users/me HTTP/1.1" 500
2026-01-15 07:08:48,448 - app - ERROR - Request failed: GET /api/v1/users/me - Duration: 53.58ms - Error: (sqlite3.OperationalError) no such column: prop_firm_registration.payment_status
[SQL: SELECT prop_firm_registration.user_id AS prop_firm_registration_user_id, prop_firm_registration.id AS prop_firm_registration_id, prop_firm_registration.login_id AS prop_firm_registration_login_id, prop_firm_registration.password AS prop_firm_registration_password, prop_firm_registration.propfirm_name AS prop_firm_registration_propfirm_name, prop_firm_registration.propfirm_website_link AS prop_firm_registration_propfirm_website_link, prop_firm_registration.server_name AS prop_firm_registration_server_name, prop_firm_registration.server_type AS prop_firm_registration_server_type, prop_firm_registration.challenges_step AS prop_firm_registration_challenges_step, prop_firm_registration.service_scope AS prop_firm_registration_service_scope, prop_firm_registration.order_id AS prop_firm_registration_order_id, prop_firm_registration.propfirm_account_cost AS prop_firm_registration_propfirm_account_cost, prop_firm_registration.account_size AS prop_firm_registration_account_size, prop_firm_registration.account_phases AS prop_firm_registration_account_phases, prop_firm_registration.trading_platform AS prop_firm_registration_trading_platform, prop_firm_registration.propfirm_rules AS prop_firm_registration_propfirm_rules, prop_firm_registration.whatsapp_no AS prop_firm_registration_whatsapp_no, prop_firm_registration.telegram_username AS prop_firm_registration_telegram_username, prop_firm_registration.account_status AS prop_firm_registration_account_status, prop_firm_registration.payment_status AS prop_firm_registration_payment_status, prop_firm_registration.created_at AS prop_firm_registration_created_at, prop_firm_registration.updated_at AS prop_firm_registration_updated_at 
FROM prop_firm_registration 
WHERE prop_firm_registration.user_id IN (?)]
[parameters: ('6affb04777824af5acc7646740ae90f3',)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2026-01-15 07:08:48,457 - app - ERROR - Traceback (most recent call last):
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/engine/default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 180, in execute
    self._adapt_connection._handle_exception(error)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 340, in _handle_exception
    raise error
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 162, in execute
    self.await_(_cursor.execute(operation, parameters))
    ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 132, in await_only
    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501
           ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 196, in greenlet_spawn
    value = await result
            ^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/aiosqlite/cursor.py", line 40, in execute
    await self._execute(self._cursor.execute, sql, parameters)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/aiosqlite/cursor.py", line 32, in _execute
    return await self._conn._execute(fn, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
sqlite3.OperationalError: no such column: prop_firm_registration.payment_status

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/home/rehack/PycharmProjects/solpro_backend/app/main.py", line 65, in log_requests
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/base.py", line 168, in call_next
    raise app_exc from app_exc.__cause__ or app_exc.__context__
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/base.py", line 144, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/base.py", line 191, in __call__
    with recv_stream, send_stream, collapse_excgroups():
                                   ~~~~~~~~~~~~~~~~~~^^
  File "/home/rehack/anaconda3/lib/python3.13/contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    ~~~~~~~~~~~~~~^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/_utils.py", line 85, in collapse_excgroups
    raise exc
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/base.py", line 193, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/slowapi/middleware.py", line 136, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/base.py", line 168, in call_next
    raise app_exc from app_exc.__cause__ or app_exc.__context__
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/base.py", line 144, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/gzip.py", line 29, in __call__
    await responder(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/gzip.py", line 130, in __call__
    await super().__call__(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/gzip.py", line 46, in __call__
    await self.app(scope, receive, self.send_with_compression)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/trustedhost.py", line 36, in __call__
    await self.app(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/fastapi/routing.py", line 125, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/fastapi/routing.py", line 111, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/fastapi/routing.py", line 381, in app
    solved_result = await solve_dependencies(
                    ^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<6 lines>...
    )
    ^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/fastapi/dependencies/utils.py", line 641, in solve_dependencies
    solved = await call(**solved_result.values)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rehack/PycharmProjects/solpro_backend/app/dependencies/auth.py", line 44, in get_current_user
    result = await session.exec(query)
             ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlmodel/ext/asyncio/session.py", line 98, in exec
    result = await greenlet_spawn(
             ^^^^^^^^^^^^^^^^^^^^^
    ...<7 lines>...
    )
    ^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 201, in greenlet_spawn
    result = context.throw(*sys.exc_info())
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlmodel/orm/session.py", line 83, in exec
    results = super().execute(
        statement,
    ...<4 lines>...
        _add_event=_add_event,
    )
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/orm/session.py", line 2351, in execute
    return self._execute_internal(
           ~~~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
    ...<4 lines>...
        _add_event=_add_event,
        ^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/orm/session.py", line 2249, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self,
        ^^^^^
    ...<4 lines>...
        conn,
        ^^^^^
    )
    ^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/orm/context.py", line 309, in orm_execute_statement
    return cls.orm_setup_cursor_result(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        session,
        ^^^^^^^^
    ...<4 lines>...
        result,
        ^^^^^^^
    )
    ^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/orm/context.py", line 616, in orm_setup_cursor_result
    return loading.instances(result, querycontext)
           ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/orm/loading.py", line 262, in instances
    _prebuffered = list(chunks(None))
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/orm/loading.py", line 247, in chunks
    post_load.invoke(context, path)
    ~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/orm/loading.py", line 1564, in invoke
    loader(
    ~~~~~~^
        effective_context, path, states, self.load_keys, *arg, **kw
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/orm/strategies.py", line 3338, in _load_for_path
    self._load_via_parent(
    ~~~~~~~~~~~~~~~~~~~~~^
        our_states, query_info, q, context, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/orm/strategies.py", line 3414, in _load_via_parent
    context.session.execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        q,
        ^^
        params={"primary_keys": primary_keys},
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        execution_options=execution_options,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ).unique(),
    ^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlmodel/orm/session.py", line 144, in execute
    return super().execute(
           ~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
    ...<4 lines>...
        _add_event=_add_event,
        ^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/orm/session.py", line 2351, in execute
    return self._execute_internal(
           ~~~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
    ...<4 lines>...
        _add_event=_add_event,
        ^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/orm/session.py", line 2249, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self,
        ^^^^^
    ...<4 lines>...
        conn,
        ^^^^^
    )
    ^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/orm/context.py", line 306, in orm_execute_statement
    result = conn.execute(
        statement, params or {}, execution_options=execution_options
    )
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/engine/base.py", line 1419, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/sql/elements.py", line 526, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/engine/base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
        dialect,
    ...<8 lines>...
        cache_hit=cache_hit,
    )
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/engine/base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ~~~~~~~~~~~~~~~~~~~~~~~~~^
        dialect, context, statement, parameters
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/engine/base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        e, str_statement, effective_parameters, cursor, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/engine/base.py", line 2355, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/engine/default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 180, in execute
    self._adapt_connection._handle_exception(error)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 340, in _handle_exception
    raise error
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 162, in execute
    self.await_(_cursor.execute(operation, parameters))
    ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 132, in await_only
    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501
           ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 196, in greenlet_spawn
    value = await result
            ^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/aiosqlite/cursor.py", line 40, in execute
    await self._execute(self._cursor.execute, sql, parameters)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/aiosqlite/cursor.py", line 32, in _execute
    return await self._conn._execute(fn, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such column: prop_firm_registration.payment_status
[SQL: SELECT prop_firm_registration.user_id AS prop_firm_registration_user_id, prop_firm_registration.id AS prop_firm_registration_id, prop_firm_registration.login_id AS prop_firm_registration_login_id, prop_firm_registration.password AS prop_firm_registration_password, prop_firm_registration.propfirm_name AS prop_firm_registration_propfirm_name, prop_firm_registration.propfirm_website_link AS prop_firm_registration_propfirm_website_link, prop_firm_registration.server_name AS prop_firm_registration_server_name, prop_firm_registration.server_type AS prop_firm_registration_server_type, prop_firm_registration.challenges_step AS prop_firm_registration_challenges_step, prop_firm_registration.service_scope AS prop_firm_registration_service_scope, prop_firm_registration.order_id AS prop_firm_registration_order_id, prop_firm_registration.propfirm_account_cost AS prop_firm_registration_propfirm_account_cost, prop_firm_registration.account_size AS prop_firm_registration_account_size, prop_firm_registration.account_phases AS prop_firm_registration_account_phases, prop_firm_registration.trading_platform AS prop_firm_registration_trading_platform, prop_firm_registration.propfirm_rules AS prop_firm_registration_propfirm_rules, prop_firm_registration.whatsapp_no AS prop_firm_registration_whatsapp_no, prop_firm_registration.telegram_username AS prop_firm_registration_telegram_username, prop_firm_registration.account_status AS prop_firm_registration_account_status, prop_firm_registration.payment_status AS prop_firm_registration_payment_status, prop_firm_registration.created_at AS prop_firm_registration_created_at, prop_firm_registration.updated_at AS prop_firm_registration_updated_at 
FROM prop_firm_registration 
WHERE prop_firm_registration.user_id IN (?)]
[parameters: ('6affb04777824af5acc7646740ae90f3',)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)

2026-01-15 07:08:48,458 - uvicorn.access - INFO - 127.0.0.1:51150 - "GET /api/v1/users/me HTTP/1.1" 500
2026-01-15 07:08:48,470 - app - ERROR - Request failed: GET /api/v1/prop-firm - Duration: 47.94ms - Error: (sqlite3.OperationalError) no such column: prop_firm_registration.payment_status
[SQL: SELECT prop_firm_registration.user_id AS prop_firm_registration_user_id, prop_firm_registration.id AS prop_firm_registration_id, prop_firm_registration.login_id AS prop_firm_registration_login_id, prop_firm_registration.password AS prop_firm_registration_password, prop_firm_registration.propfirm_name AS prop_firm_registration_propfirm_name, prop_firm_registration.propfirm_website_link AS prop_firm_registration_propfirm_website_link, prop_firm_registration.server_name AS prop_firm_registration_server_name, prop_firm_registration.server_type AS prop_firm_registration_server_type, prop_firm_registration.challenges_step AS prop_firm_registration_challenges_step, prop_firm_registration.service_scope AS prop_firm_registration_service_scope, prop_firm_registration.order_id AS prop_firm_registration_order_id, prop_firm_registration.propfirm_account_cost AS prop_firm_registration_propfirm_account_cost, prop_firm_registration.account_size AS prop_firm_registration_account_size, prop_firm_registration.account_phases AS prop_firm_registration_account_phases, prop_firm_registration.trading_platform AS prop_firm_registration_trading_platform, prop_firm_registration.propfirm_rules AS prop_firm_registration_propfirm_rules, prop_firm_registration.whatsapp_no AS prop_firm_registration_whatsapp_no, prop_firm_registration.telegram_username AS prop_firm_registration_telegram_username, prop_firm_registration.account_status AS prop_firm_registration_account_status, prop_firm_registration.payment_status AS prop_firm_registration_payment_status, prop_firm_registration.created_at AS prop_firm_registration_created_at, prop_firm_registration.updated_at AS prop_firm_registration_updated_at 
FROM prop_firm_registration 
WHERE prop_firm_registration.user_id IN (?)]
[parameters: ('6affb04777824af5acc7646740ae90f3',)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2026-01-15 07:08:48,482 - app - ERROR - Traceback (most recent call last):
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/engine/default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 180, in execute
    self._adapt_connection._handle_exception(error)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 340, in _handle_exception
    raise error
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 162, in execute
    self.await_(_cursor.execute(operation, parameters))
    ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 132, in await_only
    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501
           ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 196, in greenlet_spawn
    value = await result
            ^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/aiosqlite/cursor.py", line 40, in execute
    await self._execute(self._cursor.execute, sql, parameters)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/aiosqlite/cursor.py", line 32, in _execute
    return await self._conn._execute(fn, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
sqlite3.OperationalError: no such column: prop_firm_registration.payment_status

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/home/rehack/PycharmProjects/solpro_backend/app/main.py", line 65, in log_requests
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/base.py", line 168, in call_next
    raise app_exc from app_exc.__cause__ or app_exc.__context__
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/base.py", line 144, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/base.py", line 191, in __call__
    with recv_stream, send_stream, collapse_excgroups():
                                   ~~~~~~~~~~~~~~~~~~^^
  File "/home/rehack/anaconda3/lib/python3.13/contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    ~~~~~~~~~~~~~~^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/_utils.py", line 85, in collapse_excgroups
    raise exc
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/base.py", line 193, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/slowapi/middleware.py", line 136, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/base.py", line 168, in call_next
    raise app_exc from app_exc.__cause__ or app_exc.__context__
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/base.py", line 144, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/gzip.py", line 29, in __call__
    await responder(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/gzip.py", line 130, in __call__
    await super().__call__(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/gzip.py", line 46, in __call__
    await self.app(scope, receive, self.send_with_compression)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/trustedhost.py", line 36, in __call__
    await self.app(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/fastapi/routing.py", line 125, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/fastapi/routing.py", line 111, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/fastapi/routing.py", line 381, in app
    solved_result = await solve_dependencies(
                    ^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<6 lines>...
    )
    ^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/fastapi/dependencies/utils.py", line 641, in solve_dependencies
    solved = await call(**solved_result.values)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rehack/PycharmProjects/solpro_backend/app/dependencies/auth.py", line 44, in get_current_user
    result = await session.exec(query)
             ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlmodel/ext/asyncio/session.py", line 98, in exec
    result = await greenlet_spawn(
             ^^^^^^^^^^^^^^^^^^^^^
    ...<7 lines>...
    )
    ^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 201, in greenlet_spawn
    result = context.throw(*sys.exc_info())
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlmodel/orm/session.py", line 83, in exec
    results = super().execute(
        statement,
    ...<4 lines>...
        _add_event=_add_event,
    )
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/orm/session.py", line 2351, in execute
    return self._execute_internal(
           ~~~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
    ...<4 lines>...
        _add_event=_add_event,
        ^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/orm/session.py", line 2249, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self,
        ^^^^^
    ...<4 lines>...
        conn,
        ^^^^^
    )
    ^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/orm/context.py", line 309, in orm_execute_statement
    return cls.orm_setup_cursor_result(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        session,
        ^^^^^^^^
    ...<4 lines>...
        result,
        ^^^^^^^
    )
    ^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/orm/context.py", line 616, in orm_setup_cursor_result
    return loading.instances(result, querycontext)
           ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/orm/loading.py", line 262, in instances
    _prebuffered = list(chunks(None))
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/orm/loading.py", line 247, in chunks
    post_load.invoke(context, path)
    ~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/orm/loading.py", line 1564, in invoke
    loader(
    ~~~~~~^
        effective_context, path, states, self.load_keys, *arg, **kw
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/orm/strategies.py", line 3338, in _load_for_path
    self._load_via_parent(
    ~~~~~~~~~~~~~~~~~~~~~^
        our_states, query_info, q, context, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/orm/strategies.py", line 3414, in _load_via_parent
    context.session.execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        q,
        ^^
        params={"primary_keys": primary_keys},
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        execution_options=execution_options,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ).unique(),
    ^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlmodel/orm/session.py", line 144, in execute
    return super().execute(
           ~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
    ...<4 lines>...
        _add_event=_add_event,
        ^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/orm/session.py", line 2351, in execute
    return self._execute_internal(
           ~~~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
    ...<4 lines>...
        _add_event=_add_event,
        ^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/orm/session.py", line 2249, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self,
        ^^^^^
    ...<4 lines>...
        conn,
        ^^^^^
    )
    ^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/orm/context.py", line 306, in orm_execute_statement
    result = conn.execute(
        statement, params or {}, execution_options=execution_options
    )
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/engine/base.py", line 1419, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/sql/elements.py", line 526, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/engine/base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
        dialect,
    ...<8 lines>...
        cache_hit=cache_hit,
    )
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/engine/base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ~~~~~~~~~~~~~~~~~~~~~~~~~^
        dialect, context, statement, parameters
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/engine/base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        e, str_statement, effective_parameters, cursor, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/engine/base.py", line 2355, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/engine/default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 180, in execute
    self._adapt_connection._handle_exception(error)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 340, in _handle_exception
    raise error
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 162, in execute
    self.await_(_cursor.execute(operation, parameters))
    ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 132, in await_only
    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501
           ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 196, in greenlet_spawn
    value = await result
            ^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/aiosqlite/cursor.py", line 40, in execute
    await self._execute(self._cursor.execute, sql, parameters)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/aiosqlite/cursor.py", line 32, in _execute
    return await self._conn._execute(fn, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such column: prop_firm_registration.payment_status
[SQL: SELECT prop_firm_registration.user_id AS prop_firm_registration_user_id, prop_firm_registration.id AS prop_firm_registration_id, prop_firm_registration.login_id AS prop_firm_registration_login_id, prop_firm_registration.password AS prop_firm_registration_password, prop_firm_registration.propfirm_name AS prop_firm_registration_propfirm_name, prop_firm_registration.propfirm_website_link AS prop_firm_registration_propfirm_website_link, prop_firm_registration.server_name AS prop_firm_registration_server_name, prop_firm_registration.server_type AS prop_firm_registration_server_type, prop_firm_registration.challenges_step AS prop_firm_registration_challenges_step, prop_firm_registration.service_scope AS prop_firm_registration_service_scope, prop_firm_registration.order_id AS prop_firm_registration_order_id, prop_firm_registration.propfirm_account_cost AS prop_firm_registration_propfirm_account_cost, prop_firm_registration.account_size AS prop_firm_registration_account_size, prop_firm_registration.account_phases AS prop_firm_registration_account_phases, prop_firm_registration.trading_platform AS prop_firm_registration_trading_platform, prop_firm_registration.propfirm_rules AS prop_firm_registration_propfirm_rules, prop_firm_registration.whatsapp_no AS prop_firm_registration_whatsapp_no, prop_firm_registration.telegram_username AS prop_firm_registration_telegram_username, prop_firm_registration.account_status AS prop_firm_registration_account_status, prop_firm_registration.payment_status AS prop_firm_registration_payment_status, prop_firm_registration.created_at AS prop_firm_registration_created_at, prop_firm_registration.updated_at AS prop_firm_registration_updated_at 
FROM prop_firm_registration 
WHERE prop_firm_registration.user_id IN (?)]
[parameters: ('6affb04777824af5acc7646740ae90f3',)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)

2026-01-15 07:08:48,483 - uvicorn.access - INFO - 127.0.0.1:51164 - "GET /api/v1/prop-firm HTTP/1.1" 500
2026-01-15 07:08:48,501 - app - ERROR - Request failed: GET /api/v1/prop-firm - Duration: 12.76ms - Error: (sqlite3.OperationalError) no such column: prop_firm_registration.payment_status
[SQL: SELECT prop_firm_registration.user_id AS prop_firm_registration_user_id, prop_firm_registration.id AS prop_firm_registration_id, prop_firm_registration.login_id AS prop_firm_registration_login_id, prop_firm_registration.password AS prop_firm_registration_password, prop_firm_registration.propfirm_name AS prop_firm_registration_propfirm_name, prop_firm_registration.propfirm_website_link AS prop_firm_registration_propfirm_website_link, prop_firm_registration.server_name AS prop_firm_registration_server_name, prop_firm_registration.server_type AS prop_firm_registration_server_type, prop_firm_registration.challenges_step AS prop_firm_registration_challenges_step, prop_firm_registration.service_scope AS prop_firm_registration_service_scope, prop_firm_registration.order_id AS prop_firm_registration_order_id, prop_firm_registration.propfirm_account_cost AS prop_firm_registration_propfirm_account_cost, prop_firm_registration.account_size AS prop_firm_registration_account_size, prop_firm_registration.account_phases AS prop_firm_registration_account_phases, prop_firm_registration.trading_platform AS prop_firm_registration_trading_platform, prop_firm_registration.propfirm_rules AS prop_firm_registration_propfirm_rules, prop_firm_registration.whatsapp_no AS prop_firm_registration_whatsapp_no, prop_firm_registration.telegram_username AS prop_firm_registration_telegram_username, prop_firm_registration.account_status AS prop_firm_registration_account_status, prop_firm_registration.payment_status AS prop_firm_registration_payment_status, prop_firm_registration.created_at AS prop_firm_registration_created_at, prop_firm_registration.updated_at AS prop_firm_registration_updated_at 
FROM prop_firm_registration 
WHERE prop_firm_registration.user_id IN (?)]
[parameters: ('6affb04777824af5acc7646740ae90f3',)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2026-01-15 07:08:48,511 - app - ERROR - Traceback (most recent call last):
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/engine/default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 180, in execute
    self._adapt_connection._handle_exception(error)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 340, in _handle_exception
    raise error
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 162, in execute
    self.await_(_cursor.execute(operation, parameters))
    ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 132, in await_only
    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501
           ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 196, in greenlet_spawn
    value = await result
            ^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/aiosqlite/cursor.py", line 40, in execute
    await self._execute(self._cursor.execute, sql, parameters)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/aiosqlite/cursor.py", line 32, in _execute
    return await self._conn._execute(fn, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
sqlite3.OperationalError: no such column: prop_firm_registration.payment_status

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/home/rehack/PycharmProjects/solpro_backend/app/main.py", line 65, in log_requests
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/base.py", line 168, in call_next
    raise app_exc from app_exc.__cause__ or app_exc.__context__
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/base.py", line 144, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/base.py", line 191, in __call__
    with recv_stream, send_stream, collapse_excgroups():
                                   ~~~~~~~~~~~~~~~~~~^^
  File "/home/rehack/anaconda3/lib/python3.13/contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    ~~~~~~~~~~~~~~^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/_utils.py", line 85, in collapse_excgroups
    raise exc
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/base.py", line 193, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/slowapi/middleware.py", line 136, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/base.py", line 168, in call_next
    raise app_exc from app_exc.__cause__ or app_exc.__context__
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/base.py", line 144, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/gzip.py", line 29, in __call__
    await responder(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/gzip.py", line 130, in __call__
    await super().__call__(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/gzip.py", line 46, in __call__
    await self.app(scope, receive, self.send_with_compression)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/trustedhost.py", line 36, in __call__
    await self.app(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/fastapi/routing.py", line 125, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/fastapi/routing.py", line 111, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/fastapi/routing.py", line 381, in app
    solved_result = await solve_dependencies(
                    ^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<6 lines>...
    )
    ^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/fastapi/dependencies/utils.py", line 641, in solve_dependencies
    solved = await call(**solved_result.values)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rehack/PycharmProjects/solpro_backend/app/dependencies/auth.py", line 44, in get_current_user
    result = await session.exec(query)
             ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlmodel/ext/asyncio/session.py", line 98, in exec
    result = await greenlet_spawn(
             ^^^^^^^^^^^^^^^^^^^^^
    ...<7 lines>...
    )
    ^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 201, in greenlet_spawn
    result = context.throw(*sys.exc_info())
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlmodel/orm/session.py", line 83, in exec
    results = super().execute(
        statement,
    ...<4 lines>...
        _add_event=_add_event,
    )
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/orm/session.py", line 2351, in execute
    return self._execute_internal(
           ~~~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
    ...<4 lines>...
        _add_event=_add_event,
        ^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/orm/session.py", line 2249, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self,
        ^^^^^
    ...<4 lines>...
        conn,
        ^^^^^
    )
    ^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/orm/context.py", line 309, in orm_execute_statement
    return cls.orm_setup_cursor_result(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        session,
        ^^^^^^^^
    ...<4 lines>...
        result,
        ^^^^^^^
    )
    ^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/orm/context.py", line 616, in orm_setup_cursor_result
    return loading.instances(result, querycontext)
           ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/orm/loading.py", line 262, in instances
    _prebuffered = list(chunks(None))
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/orm/loading.py", line 247, in chunks
    post_load.invoke(context, path)
    ~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/orm/loading.py", line 1564, in invoke
    loader(
    ~~~~~~^
        effective_context, path, states, self.load_keys, *arg, **kw
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/orm/strategies.py", line 3338, in _load_for_path
    self._load_via_parent(
    ~~~~~~~~~~~~~~~~~~~~~^
        our_states, query_info, q, context, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/orm/strategies.py", line 3414, in _load_via_parent
    context.session.execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        q,
        ^^
        params={"primary_keys": primary_keys},
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        execution_options=execution_options,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ).unique(),
    ^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlmodel/orm/session.py", line 144, in execute
    return super().execute(
           ~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
    ...<4 lines>...
        _add_event=_add_event,
        ^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/orm/session.py", line 2351, in execute
    return self._execute_internal(
           ~~~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
    ...<4 lines>...
        _add_event=_add_event,
        ^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/orm/session.py", line 2249, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self,
        ^^^^^
    ...<4 lines>...
        conn,
        ^^^^^
    )
    ^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/orm/context.py", line 306, in orm_execute_statement
    result = conn.execute(
        statement, params or {}, execution_options=execution_options
    )
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/engine/base.py", line 1419, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/sql/elements.py", line 526, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/engine/base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
        dialect,
    ...<8 lines>...
        cache_hit=cache_hit,
    )
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/engine/base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ~~~~~~~~~~~~~~~~~~~~~~~~~^
        dialect, context, statement, parameters
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/engine/base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        e, str_statement, effective_parameters, cursor, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/engine/base.py", line 2355, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/engine/default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 180, in execute
    self._adapt_connection._handle_exception(error)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 340, in _handle_exception
    raise error
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 162, in execute
    self.await_(_cursor.execute(operation, parameters))
    ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 132, in await_only
    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501
           ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 196, in greenlet_spawn
    value = await result
            ^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/aiosqlite/cursor.py", line 40, in execute
    await self._execute(self._cursor.execute, sql, parameters)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/aiosqlite/cursor.py", line 32, in _execute
    return await self._conn._execute(fn, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such column: prop_firm_registration.payment_status
[SQL: SELECT prop_firm_registration.user_id AS prop_firm_registration_user_id, prop_firm_registration.id AS prop_firm_registration_id, prop_firm_registration.login_id AS prop_firm_registration_login_id, prop_firm_registration.password AS prop_firm_registration_password, prop_firm_registration.propfirm_name AS prop_firm_registration_propfirm_name, prop_firm_registration.propfirm_website_link AS prop_firm_registration_propfirm_website_link, prop_firm_registration.server_name AS prop_firm_registration_server_name, prop_firm_registration.server_type AS prop_firm_registration_server_type, prop_firm_registration.challenges_step AS prop_firm_registration_challenges_step, prop_firm_registration.service_scope AS prop_firm_registration_service_scope, prop_firm_registration.order_id AS prop_firm_registration_order_id, prop_firm_registration.propfirm_account_cost AS prop_firm_registration_propfirm_account_cost, prop_firm_registration.account_size AS prop_firm_registration_account_size, prop_firm_registration.account_phases AS prop_firm_registration_account_phases, prop_firm_registration.trading_platform AS prop_firm_registration_trading_platform, prop_firm_registration.propfirm_rules AS prop_firm_registration_propfirm_rules, prop_firm_registration.whatsapp_no AS prop_firm_registration_whatsapp_no, prop_firm_registration.telegram_username AS prop_firm_registration_telegram_username, prop_firm_registration.account_status AS prop_firm_registration_account_status, prop_firm_registration.payment_status AS prop_firm_registration_payment_status, prop_firm_registration.created_at AS prop_firm_registration_created_at, prop_firm_registration.updated_at AS prop_firm_registration_updated_at 
FROM prop_firm_registration 
WHERE prop_firm_registration.user_id IN (?)]
[parameters: ('6affb04777824af5acc7646740ae90f3',)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)

2026-01-15 07:08:48,511 - uvicorn.access - INFO - 127.0.0.1:51178 - "GET /api/v1/prop-firm HTTP/1.1" 500
2026-01-15 07:11:54,257 - uvicorn.error - INFO - Shutting down
2026-01-15 07:11:54,358 - uvicorn.error - INFO - Waiting for application shutdown.
2026-01-15 07:11:54,358 - app - INFO - Shutting down application...
2026-01-15 07:11:54,359 - uvicorn.error - INFO - Application shutdown complete.
2026-01-15 07:11:54,359 - uvicorn.error - INFO - Finished server process [67177]
2026-01-15 07:11:56,846 - uvicorn.error - INFO - Started server process [77762]
2026-01-15 07:11:56,847 - uvicorn.error - INFO - Waiting for application startup.
2026-01-15 07:11:56,848 - app - INFO - Starting up application...
2026-01-15 07:11:56,882 - uvicorn.error - INFO - Application startup complete.
2026-01-15 07:11:59,214 - uvicorn.error - INFO - Started server process [77788]
2026-01-15 07:11:59,215 - uvicorn.error - INFO - Waiting for application startup.
2026-01-15 07:11:59,216 - app - INFO - Starting up application...
2026-01-15 07:11:59,278 - uvicorn.error - INFO - Application startup complete.
2026-01-15 07:12:58,737 - uvicorn.error - INFO - Shutting down
2026-01-15 07:12:58,839 - uvicorn.error - INFO - Waiting for application shutdown.
2026-01-15 07:12:58,840 - app - INFO - Shutting down application...
2026-01-15 07:12:58,841 - uvicorn.error - INFO - Application shutdown complete.
2026-01-15 07:12:58,842 - uvicorn.error - INFO - Finished server process [77788]
2026-01-15 07:13:01,681 - uvicorn.error - INFO - Started server process [78709]
2026-01-15 07:13:01,682 - uvicorn.error - INFO - Waiting for application startup.
2026-01-15 07:13:01,683 - app - INFO - Starting up application...
2026-01-15 07:13:01,693 - uvicorn.error - INFO - Application startup complete.
2026-01-15 07:13:05,016 - app - INFO - Root endpoint accessed
2026-01-15 07:13:05,017 - app - INFO - Request: GET / - Status: 200 - Duration: 3.20ms
2026-01-15 07:13:05,018 - uvicorn.access - INFO - 127.0.0.1:40794 - "GET / HTTP/1.1" 200
2026-01-15 07:13:37,270 - uvicorn.error - INFO - Shutting down
2026-01-15 07:13:37,371 - uvicorn.error - INFO - Waiting for application shutdown.
2026-01-15 07:13:37,373 - app - INFO - Shutting down application...
2026-01-15 07:13:37,373 - uvicorn.error - INFO - Application shutdown complete.
2026-01-15 07:13:37,375 - uvicorn.error - INFO - Finished server process [78709]
2026-01-15 07:13:39,424 - uvicorn.error - INFO - Started server process [79392]
2026-01-15 07:13:39,424 - uvicorn.error - INFO - Waiting for application startup.
2026-01-15 07:13:39,424 - app - INFO - Starting up application...
2026-01-15 07:13:39,444 - uvicorn.error - INFO - Application startup complete.
2026-01-15 07:14:59,465 - app - INFO - Request: GET /api/v1/prop-firm-registrations/ - Status: 404 - Duration: 1.20ms
2026-01-15 07:14:59,466 - uvicorn.access - INFO - 127.0.0.1:49534 - "GET /api/v1/prop-firm-registrations/ HTTP/1.1" 404
2026-01-15 07:15:17,378 - app - ERROR - Request failed: GET /openapi.json - Duration: 141.91ms - Error: `TypeAdapter[typing.Annotated[app.schema.crypto_payment.CryptoPaymentRead, FieldInfo(annotation=CryptoPaymentRead, required=True)]]` is not fully defined; you should define `typing.Annotated[app.schema.crypto_payment.CryptoPaymentRead, FieldInfo(annotation=CryptoPaymentRead, required=True)]` and all referenced types, then call `.rebuild()` on the instance.

For further information visit https://errors.pydantic.dev/2.12/u/class-not-fully-defined
2026-01-15 07:15:17,391 - app - ERROR -   + Exception Group Traceback (most recent call last):
  |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/_utils.py", line 79, in collapse_excgroups
  |     yield
  |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/base.py", line 192, in __call__
  |     async with anyio.create_task_group() as task_group:
  |                ~~~~~~~~~~~~~~~~~~~~~~~^^
  |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/anyio/_backends/_asyncio.py", line 815, in __aexit__
  |     raise BaseExceptionGroup(
  |         "unhandled errors in a TaskGroup", self._exceptions
  |     )
  | ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)
  +-+---------------- 1 ----------------
    | Traceback (most recent call last):
    |   File "/home/rehack/PycharmProjects/solpro_backend/app/main.py", line 65, in log_requests
    |     response = await call_next(request)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/base.py", line 168, in call_next
    |     raise app_exc from app_exc.__cause__ or app_exc.__context__
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/base.py", line 144, in coro
    |     await self.app(scope, receive_or_disconnect, send_no_error)
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/base.py", line 191, in __call__
    |     with recv_stream, send_stream, collapse_excgroups():
    |                                    ~~~~~~~~~~~~~~~~~~^^
    |   File "/home/rehack/anaconda3/lib/python3.13/contextlib.py", line 162, in __exit__
    |     self.gen.throw(value)
    |     ~~~~~~~~~~~~~~^^^^^^^
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/_utils.py", line 85, in collapse_excgroups
    |     raise exc
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/base.py", line 193, in __call__
    |     response = await self.dispatch_func(request, call_next)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/slowapi/middleware.py", line 136, in dispatch
    |     response = await call_next(request)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/base.py", line 168, in call_next
    |     raise app_exc from app_exc.__cause__ or app_exc.__context__
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/base.py", line 144, in coro
    |     await self.app(scope, receive_or_disconnect, send_no_error)
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/gzip.py", line 29, in __call__
    |     await responder(scope, receive, send)
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/gzip.py", line 46, in __call__
    |     await self.app(scope, receive, self.send_with_compression)
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/trustedhost.py", line 36, in __call__
    |     await self.app(scope, receive, send)
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/cors.py", line 85, in __call__
    |     await self.app(scope, receive, send)
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    |     await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    |     raise exc
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    |     await app(scope, receive, sender)
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    |     await self.app(scope, receive, send)
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/routing.py", line 716, in __call__
    |     await self.middleware_stack(scope, receive, send)
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/routing.py", line 736, in app
    |     await route.handle(scope, receive, send)
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/routing.py", line 290, in handle
    |     await self.app(scope, receive, send)
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/routing.py", line 78, in app
    |     await wrap_app_handling_exceptions(app, request)(scope, receive, send)
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    |     raise exc
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    |     await app(scope, receive, sender)
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/routing.py", line 75, in app
    |     response = await f(request)
    |                ^^^^^^^^^^^^^^^^
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/fastapi/applications.py", line 1089, in openapi
    |     return JSONResponse(self.openapi())
    |                         ~~~~~~~~~~~~^^
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/fastapi/applications.py", line 1060, in openapi
    |     self.openapi_schema = get_openapi(
    |                           ~~~~~~~~~~~^
    |         title=self.title,
    |         ^^^^^^^^^^^^^^^^^
    |     ...<12 lines>...
    |         external_docs=self.openapi_external_docs,
    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |     )
    |     ^
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/fastapi/openapi/utils.py", line 504, in get_openapi
    |     field_mapping, definitions = get_definitions(
    |                                  ~~~~~~~~~~~~~~~^
    |         fields=all_fields,
    |         ^^^^^^^^^^^^^^^^^^
    |         model_name_map=model_name_map,
    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |         separate_input_output_schemas=separate_input_output_schemas,
    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |     )
    |     ^
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/fastapi/_compat/main.py", line 292, in get_definitions
    |     v2_field_maps, v2_definitions = v2.get_definitions(
    |                                     ~~~~~~~~~~~~~~~~~~^
    |         fields=v2_fields,
    |         ^^^^^^^^^^^^^^^^^
    |         model_name_map=model_name_map,
    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |         separate_input_output_schemas=separate_input_output_schemas,
    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |     )
    |     ^
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/fastapi/_compat/v2.py", line 244, in get_definitions
    |     field_mapping, definitions = schema_generator.generate_definitions(inputs=inputs)
    |                                  ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/pydantic/json_schema.py", line 379, in generate_definitions
    |     self.generate_inner(schema)
    |     ~~~~~~~~~~~~~~~~~~~^^^^^^^^
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/pydantic/json_schema.py", line 459, in generate_inner
    |     if 'ref' in schema:
    |        ^^^^^^^^^^^^^^^
    |   File "<frozen _collections_abc>", line 817, in __contains__
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/pydantic/_internal/_mock_val_ser.py", line 41, in __getitem__
    |     return self._get_built().__getitem__(key)
    |            ~~~~~~~~~~~~~~~^^
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/pydantic/_internal/_mock_val_ser.py", line 58, in _get_built
    |     raise PydanticUserError(self._error_message, code=self._code)
    | pydantic.errors.PydanticUserError: `TypeAdapter[typing.Annotated[app.schema.crypto_payment.CryptoPaymentRead, FieldInfo(annotation=CryptoPaymentRead, required=True)]]` is not fully defined; you should define `typing.Annotated[app.schema.crypto_payment.CryptoPaymentRead, FieldInfo(annotation=CryptoPaymentRead, required=True)]` and all referenced types, then call `.rebuild()` on the instance.
    | 
    | For further information visit https://errors.pydantic.dev/2.12/u/class-not-fully-defined
    +------------------------------------

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/home/rehack/PycharmProjects/solpro_backend/app/main.py", line 65, in log_requests
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/base.py", line 168, in call_next
    raise app_exc from app_exc.__cause__ or app_exc.__context__
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/base.py", line 144, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/base.py", line 191, in __call__
    with recv_stream, send_stream, collapse_excgroups():
                                   ~~~~~~~~~~~~~~~~~~^^
  File "/home/rehack/anaconda3/lib/python3.13/contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    ~~~~~~~~~~~~~~^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/_utils.py", line 85, in collapse_excgroups
    raise exc
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/base.py", line 193, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/slowapi/middleware.py", line 136, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/base.py", line 168, in call_next
    raise app_exc from app_exc.__cause__ or app_exc.__context__
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/base.py", line 144, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/gzip.py", line 29, in __call__
    await responder(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/gzip.py", line 46, in __call__
    await self.app(scope, receive, self.send_with_compression)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/trustedhost.py", line 36, in __call__
    await self.app(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/routing.py", line 78, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/routing.py", line 75, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/fastapi/applications.py", line 1089, in openapi
    return JSONResponse(self.openapi())
                        ~~~~~~~~~~~~^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/fastapi/applications.py", line 1060, in openapi
    self.openapi_schema = get_openapi(
                          ~~~~~~~~~~~^
        title=self.title,
        ^^^^^^^^^^^^^^^^^
    ...<12 lines>...
        external_docs=self.openapi_external_docs,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/fastapi/openapi/utils.py", line 504, in get_openapi
    field_mapping, definitions = get_definitions(
                                 ~~~~~~~~~~~~~~~^
        fields=all_fields,
        ^^^^^^^^^^^^^^^^^^
        model_name_map=model_name_map,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        separate_input_output_schemas=separate_input_output_schemas,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/fastapi/_compat/main.py", line 292, in get_definitions
    v2_field_maps, v2_definitions = v2.get_definitions(
                                    ~~~~~~~~~~~~~~~~~~^
        fields=v2_fields,
        ^^^^^^^^^^^^^^^^^
        model_name_map=model_name_map,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        separate_input_output_schemas=separate_input_output_schemas,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/fastapi/_compat/v2.py", line 244, in get_definitions
    field_mapping, definitions = schema_generator.generate_definitions(inputs=inputs)
                                 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/pydantic/json_schema.py", line 379, in generate_definitions
    self.generate_inner(schema)
    ~~~~~~~~~~~~~~~~~~~^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/pydantic/json_schema.py", line 459, in generate_inner
    if 'ref' in schema:
       ^^^^^^^^^^^^^^^
  File "<frozen _collections_abc>", line 817, in __contains__
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/pydantic/_internal/_mock_val_ser.py", line 41, in __getitem__
    return self._get_built().__getitem__(key)
           ~~~~~~~~~~~~~~~^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/pydantic/_internal/_mock_val_ser.py", line 58, in _get_built
    raise PydanticUserError(self._error_message, code=self._code)
pydantic.errors.PydanticUserError: `TypeAdapter[typing.Annotated[app.schema.crypto_payment.CryptoPaymentRead, FieldInfo(annotation=CryptoPaymentRead, required=True)]]` is not fully defined; you should define `typing.Annotated[app.schema.crypto_payment.CryptoPaymentRead, FieldInfo(annotation=CryptoPaymentRead, required=True)]` and all referenced types, then call `.rebuild()` on the instance.

For further information visit https://errors.pydantic.dev/2.12/u/class-not-fully-defined

2026-01-15 07:15:17,394 - uvicorn.access - INFO - 127.0.0.1:54208 - "GET /openapi.json HTTP/1.1" 500
2026-01-15 07:15:25,639 - app - ERROR - Request failed: GET /openapi.json - Duration: 128.82ms - Error: `TypeAdapter[typing.Annotated[app.schema.crypto_payment.CryptoPaymentRead, FieldInfo(annotation=CryptoPaymentRead, required=True)]]` is not fully defined; you should define `typing.Annotated[app.schema.crypto_payment.CryptoPaymentRead, FieldInfo(annotation=CryptoPaymentRead, required=True)]` and all referenced types, then call `.rebuild()` on the instance.

For further information visit https://errors.pydantic.dev/2.12/u/class-not-fully-defined
2026-01-15 07:15:25,648 - app - ERROR -   + Exception Group Traceback (most recent call last):
  |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/_utils.py", line 79, in collapse_excgroups
  |     yield
  |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/base.py", line 192, in __call__
  |     async with anyio.create_task_group() as task_group:
  |                ~~~~~~~~~~~~~~~~~~~~~~~^^
  |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/anyio/_backends/_asyncio.py", line 815, in __aexit__
  |     raise BaseExceptionGroup(
  |         "unhandled errors in a TaskGroup", self._exceptions
  |     )
  | ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)
  +-+---------------- 1 ----------------
    | Traceback (most recent call last):
    |   File "/home/rehack/PycharmProjects/solpro_backend/app/main.py", line 65, in log_requests
    |     response = await call_next(request)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/base.py", line 168, in call_next
    |     raise app_exc from app_exc.__cause__ or app_exc.__context__
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/base.py", line 144, in coro
    |     await self.app(scope, receive_or_disconnect, send_no_error)
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/base.py", line 191, in __call__
    |     with recv_stream, send_stream, collapse_excgroups():
    |                                    ~~~~~~~~~~~~~~~~~~^^
    |   File "/home/rehack/anaconda3/lib/python3.13/contextlib.py", line 162, in __exit__
    |     self.gen.throw(value)
    |     ~~~~~~~~~~~~~~^^^^^^^
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/_utils.py", line 85, in collapse_excgroups
    |     raise exc
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/base.py", line 193, in __call__
    |     response = await self.dispatch_func(request, call_next)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/slowapi/middleware.py", line 136, in dispatch
    |     response = await call_next(request)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/base.py", line 168, in call_next
    |     raise app_exc from app_exc.__cause__ or app_exc.__context__
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/base.py", line 144, in coro
    |     await self.app(scope, receive_or_disconnect, send_no_error)
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/gzip.py", line 29, in __call__
    |     await responder(scope, receive, send)
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/gzip.py", line 46, in __call__
    |     await self.app(scope, receive, self.send_with_compression)
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/trustedhost.py", line 36, in __call__
    |     await self.app(scope, receive, send)
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/cors.py", line 85, in __call__
    |     await self.app(scope, receive, send)
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    |     await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    |     raise exc
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    |     await app(scope, receive, sender)
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    |     await self.app(scope, receive, send)
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/routing.py", line 716, in __call__
    |     await self.middleware_stack(scope, receive, send)
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/routing.py", line 736, in app
    |     await route.handle(scope, receive, send)
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/routing.py", line 290, in handle
    |     await self.app(scope, receive, send)
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/routing.py", line 78, in app
    |     await wrap_app_handling_exceptions(app, request)(scope, receive, send)
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    |     raise exc
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    |     await app(scope, receive, sender)
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/routing.py", line 75, in app
    |     response = await f(request)
    |                ^^^^^^^^^^^^^^^^
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/fastapi/applications.py", line 1089, in openapi
    |     return JSONResponse(self.openapi())
    |                         ~~~~~~~~~~~~^^
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/fastapi/applications.py", line 1060, in openapi
    |     self.openapi_schema = get_openapi(
    |                           ~~~~~~~~~~~^
    |         title=self.title,
    |         ^^^^^^^^^^^^^^^^^
    |     ...<12 lines>...
    |         external_docs=self.openapi_external_docs,
    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |     )
    |     ^
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/fastapi/openapi/utils.py", line 504, in get_openapi
    |     field_mapping, definitions = get_definitions(
    |                                  ~~~~~~~~~~~~~~~^
    |         fields=all_fields,
    |         ^^^^^^^^^^^^^^^^^^
    |         model_name_map=model_name_map,
    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |         separate_input_output_schemas=separate_input_output_schemas,
    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |     )
    |     ^
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/fastapi/_compat/main.py", line 292, in get_definitions
    |     v2_field_maps, v2_definitions = v2.get_definitions(
    |                                     ~~~~~~~~~~~~~~~~~~^
    |         fields=v2_fields,
    |         ^^^^^^^^^^^^^^^^^
    |         model_name_map=model_name_map,
    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |         separate_input_output_schemas=separate_input_output_schemas,
    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |     )
    |     ^
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/fastapi/_compat/v2.py", line 244, in get_definitions
    |     field_mapping, definitions = schema_generator.generate_definitions(inputs=inputs)
    |                                  ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/pydantic/json_schema.py", line 379, in generate_definitions
    |     self.generate_inner(schema)
    |     ~~~~~~~~~~~~~~~~~~~^^^^^^^^
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/pydantic/json_schema.py", line 459, in generate_inner
    |     if 'ref' in schema:
    |        ^^^^^^^^^^^^^^^
    |   File "<frozen _collections_abc>", line 817, in __contains__
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/pydantic/_internal/_mock_val_ser.py", line 41, in __getitem__
    |     return self._get_built().__getitem__(key)
    |            ~~~~~~~~~~~~~~~^^
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/pydantic/_internal/_mock_val_ser.py", line 58, in _get_built
    |     raise PydanticUserError(self._error_message, code=self._code)
    | pydantic.errors.PydanticUserError: `TypeAdapter[typing.Annotated[app.schema.crypto_payment.CryptoPaymentRead, FieldInfo(annotation=CryptoPaymentRead, required=True)]]` is not fully defined; you should define `typing.Annotated[app.schema.crypto_payment.CryptoPaymentRead, FieldInfo(annotation=CryptoPaymentRead, required=True)]` and all referenced types, then call `.rebuild()` on the instance.
    | 
    | For further information visit https://errors.pydantic.dev/2.12/u/class-not-fully-defined
    +------------------------------------

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/home/rehack/PycharmProjects/solpro_backend/app/main.py", line 65, in log_requests
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/base.py", line 168, in call_next
    raise app_exc from app_exc.__cause__ or app_exc.__context__
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/base.py", line 144, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/base.py", line 191, in __call__
    with recv_stream, send_stream, collapse_excgroups():
                                   ~~~~~~~~~~~~~~~~~~^^
  File "/home/rehack/anaconda3/lib/python3.13/contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    ~~~~~~~~~~~~~~^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/_utils.py", line 85, in collapse_excgroups
    raise exc
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/base.py", line 193, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/slowapi/middleware.py", line 136, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/base.py", line 168, in call_next
    raise app_exc from app_exc.__cause__ or app_exc.__context__
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/base.py", line 144, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/gzip.py", line 29, in __call__
    await responder(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/gzip.py", line 46, in __call__
    await self.app(scope, receive, self.send_with_compression)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/trustedhost.py", line 36, in __call__
    await self.app(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/routing.py", line 78, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/routing.py", line 75, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/fastapi/applications.py", line 1089, in openapi
    return JSONResponse(self.openapi())
                        ~~~~~~~~~~~~^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/fastapi/applications.py", line 1060, in openapi
    self.openapi_schema = get_openapi(
                          ~~~~~~~~~~~^
        title=self.title,
        ^^^^^^^^^^^^^^^^^
    ...<12 lines>...
        external_docs=self.openapi_external_docs,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/fastapi/openapi/utils.py", line 504, in get_openapi
    field_mapping, definitions = get_definitions(
                                 ~~~~~~~~~~~~~~~^
        fields=all_fields,
        ^^^^^^^^^^^^^^^^^^
        model_name_map=model_name_map,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        separate_input_output_schemas=separate_input_output_schemas,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/fastapi/_compat/main.py", line 292, in get_definitions
    v2_field_maps, v2_definitions = v2.get_definitions(
                                    ~~~~~~~~~~~~~~~~~~^
        fields=v2_fields,
        ^^^^^^^^^^^^^^^^^
        model_name_map=model_name_map,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        separate_input_output_schemas=separate_input_output_schemas,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/fastapi/_compat/v2.py", line 244, in get_definitions
    field_mapping, definitions = schema_generator.generate_definitions(inputs=inputs)
                                 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/pydantic/json_schema.py", line 379, in generate_definitions
    self.generate_inner(schema)
    ~~~~~~~~~~~~~~~~~~~^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/pydantic/json_schema.py", line 459, in generate_inner
    if 'ref' in schema:
       ^^^^^^^^^^^^^^^
  File "<frozen _collections_abc>", line 817, in __contains__
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/pydantic/_internal/_mock_val_ser.py", line 41, in __getitem__
    return self._get_built().__getitem__(key)
           ~~~~~~~~~~~~~~~^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/pydantic/_internal/_mock_val_ser.py", line 58, in _get_built
    raise PydanticUserError(self._error_message, code=self._code)
pydantic.errors.PydanticUserError: `TypeAdapter[typing.Annotated[app.schema.crypto_payment.CryptoPaymentRead, FieldInfo(annotation=CryptoPaymentRead, required=True)]]` is not fully defined; you should define `typing.Annotated[app.schema.crypto_payment.CryptoPaymentRead, FieldInfo(annotation=CryptoPaymentRead, required=True)]` and all referenced types, then call `.rebuild()` on the instance.

For further information visit https://errors.pydantic.dev/2.12/u/class-not-fully-defined

2026-01-15 07:15:25,651 - uvicorn.access - INFO - 127.0.0.1:44292 - "GET /openapi.json HTTP/1.1" 500
2026-01-15 07:15:59,201 - app - INFO - Request: GET /api/v1/users/me - Status: 200 - Duration: 63.71ms
2026-01-15 07:15:59,202 - uvicorn.access - INFO - 127.0.0.1:41978 - "GET /api/v1/users/me HTTP/1.1" 200
2026-01-15 07:15:59,225 - app - INFO - Request: GET /api/v1/prop-firm - Status: 200 - Duration: 13.41ms
2026-01-15 07:15:59,225 - uvicorn.access - INFO - 127.0.0.1:41982 - "GET /api/v1/prop-firm HTTP/1.1" 200
2026-01-15 07:16:06,850 - app - INFO - Request: POST /api/v1/auth/login/access-token - Status: 200 - Duration: 302.28ms
2026-01-15 07:16:06,850 - uvicorn.access - INFO - 127.0.0.1:59248 - "POST /api/v1/auth/login/access-token HTTP/1.1" 200
2026-01-15 07:16:07,928 - app - INFO - Request: GET /api/v1/users/me - Status: 200 - Duration: 15.60ms
2026-01-15 07:16:07,928 - uvicorn.access - INFO - 127.0.0.1:59254 - "GET /api/v1/users/me HTTP/1.1" 200
2026-01-15 07:16:07,976 - app - INFO - Request: GET /api/v1/users/me - Status: 200 - Duration: 29.45ms
2026-01-15 07:16:07,976 - uvicorn.access - INFO - 127.0.0.1:59256 - "GET /api/v1/users/me HTTP/1.1" 200
2026-01-15 07:16:07,990 - app - INFO - Request: GET /api/v1/prop-firm - Status: 200 - Duration: 32.42ms
2026-01-15 07:16:07,990 - uvicorn.access - INFO - 127.0.0.1:59270 - "GET /api/v1/prop-firm HTTP/1.1" 200
2026-01-15 07:16:08,035 - app - INFO - Request: GET /api/v1/prop-firm - Status: 200 - Duration: 21.75ms
2026-01-15 07:16:08,035 - uvicorn.access - INFO - 127.0.0.1:59276 - "GET /api/v1/prop-firm HTTP/1.1" 200
2026-01-15 07:17:44,397 - app - ERROR - Request failed: GET /api/v1/crypto-payments/currencies - Duration: 5122.54ms - Error: 
2026-01-15 07:17:44,407 - app - ERROR - Traceback (most recent call last):
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/httpx/_transports/default.py", line 101, in map_httpcore_exceptions
    yield
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/httpx/_transports/default.py", line 394, in handle_async_request
    resp = await self._pool.handle_async_request(req)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/httpcore/_async/connection_pool.py", line 256, in handle_async_request
    raise exc from None
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/httpcore/_async/connection_pool.py", line 236, in handle_async_request
    response = await connection.handle_async_request(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        pool_request.request
        ^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/httpcore/_async/connection.py", line 101, in handle_async_request
    raise exc
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/httpcore/_async/connection.py", line 78, in handle_async_request
    stream = await self._connect(request)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/httpcore/_async/connection.py", line 124, in _connect
    stream = await self._network_backend.connect_tcp(**kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/httpcore/_backends/auto.py", line 31, in connect_tcp
    return await self._backend.connect_tcp(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<5 lines>...
    )
    ^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/httpcore/_backends/anyio.py", line 113, in connect_tcp
    with map_exceptions(exc_map):
         ~~~~~~~~~~~~~~^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    ~~~~~~~~~~~~~~^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/httpcore/_exceptions.py", line 14, in map_exceptions
    raise to_exc(exc) from exc
httpcore.ConnectTimeout

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/home/rehack/PycharmProjects/solpro_backend/app/main.py", line 65, in log_requests
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/base.py", line 168, in call_next
    raise app_exc from app_exc.__cause__ or app_exc.__context__
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/base.py", line 144, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/base.py", line 191, in __call__
    with recv_stream, send_stream, collapse_excgroups():
                                   ~~~~~~~~~~~~~~~~~~^^
  File "/home/rehack/anaconda3/lib/python3.13/contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    ~~~~~~~~~~~~~~^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/_utils.py", line 85, in collapse_excgroups
    raise exc
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/base.py", line 193, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/slowapi/middleware.py", line 136, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/base.py", line 168, in call_next
    raise app_exc from app_exc.__cause__ or app_exc.__context__
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/base.py", line 144, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/gzip.py", line 29, in __call__
    await responder(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/gzip.py", line 130, in __call__
    await super().__call__(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/gzip.py", line 46, in __call__
    await self.app(scope, receive, self.send_with_compression)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/trustedhost.py", line 36, in __call__
    await self.app(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/fastapi/routing.py", line 125, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/fastapi/routing.py", line 111, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/fastapi/routing.py", line 391, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/fastapi/routing.py", line 290, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rehack/PycharmProjects/solpro_backend/app/api/v1/endpoints/crypto_payments.py", line 36, in get_available_currencies
    currencies = await service.get_available_currencies()
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rehack/PycharmProjects/solpro_backend/app/service/nowpayments_service.py", line 48, in get_available_currencies
    response = await client.get(
               ^^^^^^^^^^^^^^^^^
    ...<2 lines>...
    )
    ^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/httpx/_client.py", line 1768, in get
    return await self.request(
           ^^^^^^^^^^^^^^^^^^^
    ...<9 lines>...
    )
    ^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/httpx/_client.py", line 1540, in request
    return await self.send(request, auth=auth, follow_redirects=follow_redirects)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/httpx/_client.py", line 1629, in send
    response = await self._send_handling_auth(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<4 lines>...
    )
    ^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/httpx/_client.py", line 1657, in _send_handling_auth
    response = await self._send_handling_redirects(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/httpx/_client.py", line 1694, in _send_handling_redirects
    response = await self._send_single_request(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/httpx/_client.py", line 1730, in _send_single_request
    response = await transport.handle_async_request(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/httpx/_transports/default.py", line 393, in handle_async_request
    with map_httpcore_exceptions():
         ~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/home/rehack/anaconda3/lib/python3.13/contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    ~~~~~~~~~~~~~~^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/httpx/_transports/default.py", line 118, in map_httpcore_exceptions
    raise mapped_exc(message) from exc
httpx.ConnectTimeout

2026-01-15 07:17:44,408 - uvicorn.access - INFO - 127.0.0.1:39938 - "GET /api/v1/crypto-payments/currencies HTTP/1.1" 500
2026-01-15 07:17:44,454 - app - ERROR - Request failed: GET /api/v1/crypto-payments/estimate - Duration: 5179.42ms - Error: 
2026-01-15 07:17:44,461 - app - ERROR - Traceback (most recent call last):
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/httpx/_transports/default.py", line 101, in map_httpcore_exceptions
    yield
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/httpx/_transports/default.py", line 394, in handle_async_request
    resp = await self._pool.handle_async_request(req)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/httpcore/_async/connection_pool.py", line 256, in handle_async_request
    raise exc from None
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/httpcore/_async/connection_pool.py", line 236, in handle_async_request
    response = await connection.handle_async_request(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        pool_request.request
        ^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/httpcore/_async/connection.py", line 101, in handle_async_request
    raise exc
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/httpcore/_async/connection.py", line 78, in handle_async_request
    stream = await self._connect(request)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/httpcore/_async/connection.py", line 124, in _connect
    stream = await self._network_backend.connect_tcp(**kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/httpcore/_backends/auto.py", line 31, in connect_tcp
    return await self._backend.connect_tcp(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<5 lines>...
    )
    ^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/httpcore/_backends/anyio.py", line 113, in connect_tcp
    with map_exceptions(exc_map):
         ~~~~~~~~~~~~~~^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    ~~~~~~~~~~~~~~^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/httpcore/_exceptions.py", line 14, in map_exceptions
    raise to_exc(exc) from exc
httpcore.ConnectTimeout

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/home/rehack/PycharmProjects/solpro_backend/app/main.py", line 65, in log_requests
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/base.py", line 168, in call_next
    raise app_exc from app_exc.__cause__ or app_exc.__context__
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/base.py", line 144, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/base.py", line 191, in __call__
    with recv_stream, send_stream, collapse_excgroups():
                                   ~~~~~~~~~~~~~~~~~~^^
  File "/home/rehack/anaconda3/lib/python3.13/contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    ~~~~~~~~~~~~~~^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/_utils.py", line 85, in collapse_excgroups
    raise exc
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/base.py", line 193, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/slowapi/middleware.py", line 136, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/base.py", line 168, in call_next
    raise app_exc from app_exc.__cause__ or app_exc.__context__
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/base.py", line 144, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/gzip.py", line 29, in __call__
    await responder(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/gzip.py", line 130, in __call__
    await super().__call__(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/gzip.py", line 46, in __call__
    await self.app(scope, receive, self.send_with_compression)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/trustedhost.py", line 36, in __call__
    await self.app(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/fastapi/routing.py", line 125, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/fastapi/routing.py", line 111, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/fastapi/routing.py", line 391, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/fastapi/routing.py", line 290, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rehack/PycharmProjects/solpro_backend/app/api/v1/endpoints/crypto_payments.py", line 67, in get_estimated_price
    return await service.get_estimated_price(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "/home/rehack/PycharmProjects/solpro_backend/app/service/nowpayments_service.py", line 95, in get_estimated_price
    response = await client.get(
               ^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/httpx/_client.py", line 1768, in get
    return await self.request(
           ^^^^^^^^^^^^^^^^^^^
    ...<9 lines>...
    )
    ^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/httpx/_client.py", line 1540, in request
    return await self.send(request, auth=auth, follow_redirects=follow_redirects)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/httpx/_client.py", line 1629, in send
    response = await self._send_handling_auth(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<4 lines>...
    )
    ^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/httpx/_client.py", line 1657, in _send_handling_auth
    response = await self._send_handling_redirects(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/httpx/_client.py", line 1694, in _send_handling_redirects
    response = await self._send_single_request(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/httpx/_client.py", line 1730, in _send_single_request
    response = await transport.handle_async_request(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/httpx/_transports/default.py", line 393, in handle_async_request
    with map_httpcore_exceptions():
         ~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/home/rehack/anaconda3/lib/python3.13/contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    ~~~~~~~~~~~~~~^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/httpx/_transports/default.py", line 118, in map_httpcore_exceptions
    raise mapped_exc(message) from exc
httpx.ConnectTimeout

2026-01-15 07:17:44,461 - uvicorn.access - INFO - 127.0.0.1:39944 - "GET /api/v1/crypto-payments/estimate?amount=3590&currency_from=usd&currency_to=btc HTTP/1.1" 500
2026-01-15 07:17:44,957 - app - INFO - Request: GET /api/v1/crypto-payments/currencies - Status: 200 - Duration: 539.67ms
2026-01-15 07:17:44,957 - uvicorn.access - INFO - 127.0.0.1:56510 - "GET /api/v1/crypto-payments/currencies HTTP/1.1" 200
2026-01-15 07:17:45,013 - app - INFO - Request: GET /api/v1/crypto-payments/estimate - Status: 200 - Duration: 538.20ms
2026-01-15 07:17:45,013 - uvicorn.access - INFO - 127.0.0.1:56516 - "GET /api/v1/crypto-payments/estimate?amount=3590&currency_from=usd&currency_to=btc HTTP/1.1" 200
2026-01-15 07:17:55,345 - app - INFO - Request: GET /api/v1/users/me - Status: 200 - Duration: 16.08ms
2026-01-15 07:17:55,345 - uvicorn.access - INFO - 127.0.0.1:37926 - "GET /api/v1/users/me HTTP/1.1" 200
2026-01-15 07:17:55,408 - app - INFO - Request: POST /api/v1/prop-firm - Status: 200 - Duration: 34.95ms
2026-01-15 07:17:55,408 - uvicorn.access - INFO - 127.0.0.1:37930 - "POST /api/v1/prop-firm HTTP/1.1" 200
2026-01-15 07:17:56,216 - app - ERROR - Request failed: POST /api/v1/crypto-payments/invoice - Duration: 785.99ms - Error: `TypeAdapter[typing.Annotated[app.schema.crypto_payment.CryptoPaymentRead, FieldInfo(annotation=CryptoPaymentRead, required=True)]]` is not fully defined; you should define `typing.Annotated[app.schema.crypto_payment.CryptoPaymentRead, FieldInfo(annotation=CryptoPaymentRead, required=True)]` and all referenced types, then call `.rebuild()` on the instance.

For further information visit https://errors.pydantic.dev/2.12/u/class-not-fully-defined
2026-01-15 07:17:56,230 - app - ERROR -   + Exception Group Traceback (most recent call last):
  |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/_utils.py", line 79, in collapse_excgroups
  |     yield
  |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/base.py", line 192, in __call__
  |     async with anyio.create_task_group() as task_group:
  |                ~~~~~~~~~~~~~~~~~~~~~~~^^
  |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/anyio/_backends/_asyncio.py", line 815, in __aexit__
  |     raise BaseExceptionGroup(
  |         "unhandled errors in a TaskGroup", self._exceptions
  |     )
  | ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)
  +-+---------------- 1 ----------------
    | Traceback (most recent call last):
    |   File "/home/rehack/PycharmProjects/solpro_backend/app/main.py", line 65, in log_requests
    |     response = await call_next(request)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/base.py", line 168, in call_next
    |     raise app_exc from app_exc.__cause__ or app_exc.__context__
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/base.py", line 144, in coro
    |     await self.app(scope, receive_or_disconnect, send_no_error)
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/base.py", line 191, in __call__
    |     with recv_stream, send_stream, collapse_excgroups():
    |                                    ~~~~~~~~~~~~~~~~~~^^
    |   File "/home/rehack/anaconda3/lib/python3.13/contextlib.py", line 162, in __exit__
    |     self.gen.throw(value)
    |     ~~~~~~~~~~~~~~^^^^^^^
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/_utils.py", line 85, in collapse_excgroups
    |     raise exc
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/base.py", line 193, in __call__
    |     response = await self.dispatch_func(request, call_next)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/slowapi/middleware.py", line 136, in dispatch
    |     response = await call_next(request)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/base.py", line 168, in call_next
    |     raise app_exc from app_exc.__cause__ or app_exc.__context__
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/base.py", line 144, in coro
    |     await self.app(scope, receive_or_disconnect, send_no_error)
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/gzip.py", line 29, in __call__
    |     await responder(scope, receive, send)
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/gzip.py", line 130, in __call__
    |     await super().__call__(scope, receive, send)
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/gzip.py", line 46, in __call__
    |     await self.app(scope, receive, self.send_with_compression)
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/trustedhost.py", line 36, in __call__
    |     await self.app(scope, receive, send)
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/cors.py", line 93, in __call__
    |     await self.simple_response(scope, receive, send, request_headers=headers)
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    |     await self.app(scope, receive, send)
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    |     await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    |     raise exc
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    |     await app(scope, receive, sender)
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    |     await self.app(scope, receive, send)
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/routing.py", line 716, in __call__
    |     await self.middleware_stack(scope, receive, send)
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/routing.py", line 736, in app
    |     await route.handle(scope, receive, send)
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/routing.py", line 290, in handle
    |     await self.app(scope, receive, send)
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/fastapi/routing.py", line 125, in app
    |     await wrap_app_handling_exceptions(app, request)(scope, receive, send)
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    |     raise exc
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    |     await app(scope, receive, sender)
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/fastapi/routing.py", line 111, in app
    |     response = await f(request)
    |                ^^^^^^^^^^^^^^^^
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/fastapi/routing.py", line 413, in app
    |     content = await serialize_response(
    |               ^^^^^^^^^^^^^^^^^^^^^^^^^
    |     ...<9 lines>...
    |     )
    |     ^
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/fastapi/routing.py", line 244, in serialize_response
    |     value, errors_ = field.validate(response_content, {}, loc=("response",))
    |                      ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/fastapi/_compat/v2.py", line 115, in validate
    |     self._type_adapter.validate_python(value, from_attributes=True),
    |     ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/pydantic/type_adapter.py", line 441, in validate_python
    |     return self.validator.validate_python(
    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/pydantic/_internal/_mock_val_ser.py", line 100, in __getattr__
    |     raise PydanticUserError(self._error_message, code=self._code)
    | pydantic.errors.PydanticUserError: `TypeAdapter[typing.Annotated[app.schema.crypto_payment.CryptoPaymentRead, FieldInfo(annotation=CryptoPaymentRead, required=True)]]` is not fully defined; you should define `typing.Annotated[app.schema.crypto_payment.CryptoPaymentRead, FieldInfo(annotation=CryptoPaymentRead, required=True)]` and all referenced types, then call `.rebuild()` on the instance.
    | 
    | For further information visit https://errors.pydantic.dev/2.12/u/class-not-fully-defined
    +------------------------------------

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/home/rehack/PycharmProjects/solpro_backend/app/main.py", line 65, in log_requests
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/base.py", line 168, in call_next
    raise app_exc from app_exc.__cause__ or app_exc.__context__
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/base.py", line 144, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/base.py", line 191, in __call__
    with recv_stream, send_stream, collapse_excgroups():
                                   ~~~~~~~~~~~~~~~~~~^^
  File "/home/rehack/anaconda3/lib/python3.13/contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    ~~~~~~~~~~~~~~^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/_utils.py", line 85, in collapse_excgroups
    raise exc
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/base.py", line 193, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/slowapi/middleware.py", line 136, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/base.py", line 168, in call_next
    raise app_exc from app_exc.__cause__ or app_exc.__context__
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/base.py", line 144, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/gzip.py", line 29, in __call__
    await responder(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/gzip.py", line 130, in __call__
    await super().__call__(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/gzip.py", line 46, in __call__
    await self.app(scope, receive, self.send_with_compression)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/trustedhost.py", line 36, in __call__
    await self.app(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/fastapi/routing.py", line 125, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/fastapi/routing.py", line 111, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/fastapi/routing.py", line 413, in app
    content = await serialize_response(
              ^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<9 lines>...
    )
    ^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/fastapi/routing.py", line 244, in serialize_response
    value, errors_ = field.validate(response_content, {}, loc=("response",))
                     ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/fastapi/_compat/v2.py", line 115, in validate
    self._type_adapter.validate_python(value, from_attributes=True),
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/pydantic/type_adapter.py", line 441, in validate_python
    return self.validator.validate_python(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/pydantic/_internal/_mock_val_ser.py", line 100, in __getattr__
    raise PydanticUserError(self._error_message, code=self._code)
pydantic.errors.PydanticUserError: `TypeAdapter[typing.Annotated[app.schema.crypto_payment.CryptoPaymentRead, FieldInfo(annotation=CryptoPaymentRead, required=True)]]` is not fully defined; you should define `typing.Annotated[app.schema.crypto_payment.CryptoPaymentRead, FieldInfo(annotation=CryptoPaymentRead, required=True)]` and all referenced types, then call `.rebuild()` on the instance.

For further information visit https://errors.pydantic.dev/2.12/u/class-not-fully-defined

2026-01-15 07:17:56,230 - uvicorn.access - INFO - 127.0.0.1:37946 - "POST /api/v1/crypto-payments/invoice HTTP/1.1" 500
2026-01-15 07:19:07,206 - uvicorn.error - INFO - Shutting down
2026-01-15 07:19:07,307 - uvicorn.error - INFO - Waiting for application shutdown.
2026-01-15 07:19:07,308 - app - INFO - Shutting down application...
2026-01-15 07:19:07,308 - uvicorn.error - INFO - Application shutdown complete.
2026-01-15 07:19:07,308 - uvicorn.error - INFO - Finished server process [79392]
2026-01-15 07:19:09,148 - uvicorn.error - INFO - Started server process [84525]
2026-01-15 07:19:09,149 - uvicorn.error - INFO - Waiting for application startup.
2026-01-15 07:19:09,149 - app - INFO - Starting up application...
2026-01-15 07:19:09,158 - uvicorn.error - INFO - Application startup complete.
2026-01-15 07:19:10,065 - uvicorn.error - INFO - Shutting down
2026-01-15 07:19:10,165 - uvicorn.error - INFO - Waiting for application shutdown.
2026-01-15 07:19:10,166 - app - INFO - Shutting down application...
2026-01-15 07:19:10,166 - uvicorn.error - INFO - Application shutdown complete.
2026-01-15 07:19:10,166 - uvicorn.error - INFO - Finished server process [84525]
2026-01-15 07:19:11,623 - uvicorn.error - INFO - Started server process [84587]
2026-01-15 07:19:11,624 - uvicorn.error - INFO - Waiting for application startup.
2026-01-15 07:19:11,624 - app - INFO - Starting up application...
2026-01-15 07:19:11,632 - uvicorn.error - INFO - Application startup complete.
2026-01-15 07:19:26,161 - app - INFO - Root endpoint accessed
2026-01-15 07:19:26,162 - app - INFO - Request: GET / - Status: 200 - Duration: 1.86ms
2026-01-15 07:19:26,162 - uvicorn.access - INFO - 127.0.0.1:41746 - "GET / HTTP/1.1" 200
2026-01-15 07:19:29,016 - app - INFO - Request: GET /openapi.json - Status: 200 - Duration: 166.23ms
2026-01-15 07:19:29,016 - uvicorn.access - INFO - 127.0.0.1:41754 - "GET /openapi.json HTTP/1.1" 200
2026-01-15 07:20:27,241 - app - INFO - Request: GET /api/v1/users/me - Status: 200 - Duration: 127.51ms
2026-01-15 07:20:27,242 - uvicorn.access - INFO - 127.0.0.1:42644 - "GET /api/v1/users/me HTTP/1.1" 200
2026-01-15 07:20:27,393 - app - INFO - Request: POST /api/v1/prop-firm - Status: 200 - Duration: 110.29ms
2026-01-15 07:20:27,395 - uvicorn.access - INFO - 127.0.0.1:42656 - "POST /api/v1/prop-firm HTTP/1.1" 200
2026-01-15 07:20:28,268 - app - INFO - Request: POST /api/v1/crypto-payments/invoice - Status: 200 - Duration: 808.74ms
2026-01-15 07:20:28,269 - uvicorn.access - INFO - 127.0.0.1:42660 - "POST /api/v1/crypto-payments/invoice HTTP/1.1" 200
2026-01-15 08:08:00,583 - uvicorn.error - INFO - Shutting down
2026-01-15 08:08:00,684 - uvicorn.error - INFO - Waiting for application shutdown.
2026-01-15 08:08:00,684 - app - INFO - Shutting down application...
2026-01-15 08:08:00,684 - uvicorn.error - INFO - Application shutdown complete.
2026-01-15 08:08:00,684 - uvicorn.error - INFO - Finished server process [84587]
2026-01-15 08:08:02,495 - uvicorn.error - INFO - Started server process [113950]
2026-01-15 08:08:02,496 - uvicorn.error - INFO - Waiting for application startup.
2026-01-15 08:08:02,498 - app - INFO - Starting up application...
2026-01-15 08:08:02,516 - uvicorn.error - INFO - Application startup complete.
2026-01-15 08:08:03,018 - uvicorn.error - INFO - Shutting down
2026-01-15 08:08:03,119 - uvicorn.error - INFO - Waiting for application shutdown.
2026-01-15 08:08:03,119 - app - INFO - Shutting down application...
2026-01-15 08:08:03,120 - uvicorn.error - INFO - Application shutdown complete.
2026-01-15 08:08:03,120 - uvicorn.error - INFO - Finished server process [113950]
2026-01-15 08:08:04,862 - uvicorn.error - INFO - Started server process [114028]
2026-01-15 08:08:04,863 - uvicorn.error - INFO - Waiting for application startup.
2026-01-15 08:08:04,864 - app - INFO - Starting up application...
2026-01-15 08:08:04,872 - uvicorn.error - INFO - Application startup complete.
2026-01-15 08:08:18,948 - uvicorn.error - INFO - Shutting down
2026-01-15 08:08:19,048 - uvicorn.error - INFO - Waiting for application shutdown.
2026-01-15 08:08:19,048 - app - INFO - Shutting down application...
2026-01-15 08:08:19,049 - uvicorn.error - INFO - Application shutdown complete.
2026-01-15 08:08:19,049 - uvicorn.error - INFO - Finished server process [114028]
2026-01-15 08:08:20,515 - uvicorn.error - INFO - Started server process [114298]
2026-01-15 08:08:20,517 - uvicorn.error - INFO - Waiting for application startup.
2026-01-15 08:08:20,518 - app - INFO - Starting up application...
2026-01-15 08:08:20,561 - uvicorn.error - INFO - Application startup complete.
2026-01-15 08:08:22,868 - uvicorn.error - INFO - Shutting down
2026-01-15 08:08:22,969 - uvicorn.error - INFO - Waiting for application shutdown.
2026-01-15 08:08:22,969 - app - INFO - Shutting down application...
2026-01-15 08:08:22,970 - uvicorn.error - INFO - Application shutdown complete.
2026-01-15 08:08:22,970 - uvicorn.error - INFO - Finished server process [114298]
2026-01-15 08:08:25,007 - uvicorn.error - INFO - Started server process [114375]
2026-01-15 08:08:25,008 - uvicorn.error - INFO - Waiting for application startup.
2026-01-15 08:08:25,008 - app - INFO - Starting up application...
2026-01-15 08:08:25,019 - uvicorn.error - INFO - Application startup complete.
2026-01-15 08:08:45,193 - uvicorn.error - INFO - Shutting down
2026-01-15 08:08:45,294 - uvicorn.error - INFO - Waiting for application shutdown.
2026-01-15 08:08:45,294 - app - INFO - Shutting down application...
2026-01-15 08:08:45,295 - uvicorn.error - INFO - Application shutdown complete.
2026-01-15 08:08:45,295 - uvicorn.error - INFO - Finished server process [114375]
2026-01-15 08:08:47,015 - uvicorn.error - INFO - Started server process [114710]
2026-01-15 08:08:47,015 - uvicorn.error - INFO - Waiting for application startup.
2026-01-15 08:08:47,016 - app - INFO - Starting up application...
2026-01-15 08:08:47,029 - uvicorn.error - INFO - Application startup complete.
2026-01-15 08:09:01,997 - uvicorn.error - INFO - Shutting down
2026-01-15 08:09:02,099 - uvicorn.error - INFO - Waiting for application shutdown.
2026-01-15 08:09:02,101 - app - INFO - Shutting down application...
2026-01-15 08:09:02,102 - uvicorn.error - INFO - Application shutdown complete.
2026-01-15 08:09:02,102 - uvicorn.error - INFO - Finished server process [114710]
2026-01-15 08:09:03,812 - uvicorn.error - INFO - Started server process [114965]
2026-01-15 08:09:03,813 - uvicorn.error - INFO - Waiting for application startup.
2026-01-15 08:09:03,813 - app - INFO - Starting up application...
2026-01-15 08:09:03,821 - uvicorn.error - INFO - Application startup complete.
2026-01-15 08:10:05,577 - uvicorn.error - INFO - Shutting down
2026-01-15 08:10:05,680 - uvicorn.error - INFO - Waiting for application shutdown.
2026-01-15 08:10:05,681 - app - INFO - Shutting down application...
2026-01-15 08:10:05,681 - uvicorn.error - INFO - Application shutdown complete.
2026-01-15 08:10:05,681 - uvicorn.error - INFO - Finished server process [114965]
2026-01-15 08:10:07,653 - uvicorn.error - INFO - Started server process [115900]
2026-01-15 08:10:07,654 - uvicorn.error - INFO - Waiting for application startup.
2026-01-15 08:10:07,654 - app - INFO - Starting up application...
2026-01-15 08:10:07,684 - uvicorn.error - INFO - Application startup complete.
2026-01-15 08:10:21,132 - uvicorn.error - INFO - Shutting down
2026-01-15 08:10:21,233 - uvicorn.error - INFO - Waiting for application shutdown.
2026-01-15 08:10:21,234 - app - INFO - Shutting down application...
2026-01-15 08:10:21,234 - uvicorn.error - INFO - Application shutdown complete.
2026-01-15 08:10:21,234 - uvicorn.error - INFO - Finished server process [115900]
2026-01-15 08:10:23,361 - uvicorn.error - INFO - Started server process [116203]
2026-01-15 08:10:23,364 - uvicorn.error - INFO - Waiting for application startup.
2026-01-15 08:10:23,367 - app - INFO - Starting up application...
2026-01-15 08:10:23,430 - uvicorn.error - INFO - Application startup complete.
2026-01-15 08:10:27,964 - uvicorn.error - INFO - Shutting down
2026-01-15 08:10:28,065 - uvicorn.error - INFO - Waiting for application shutdown.
2026-01-15 08:10:28,067 - app - INFO - Shutting down application...
2026-01-15 08:10:28,067 - uvicorn.error - INFO - Application shutdown complete.
2026-01-15 08:10:28,067 - uvicorn.error - INFO - Finished server process [116203]
2026-01-15 08:10:29,898 - uvicorn.error - INFO - Started server process [116339]
2026-01-15 08:10:29,899 - uvicorn.error - INFO - Waiting for application startup.
2026-01-15 08:10:29,899 - app - INFO - Starting up application...
2026-01-15 08:10:29,907 - uvicorn.error - INFO - Application startup complete.
2026-01-15 08:11:01,546 - uvicorn.error - INFO - Shutting down
2026-01-15 08:11:01,649 - uvicorn.error - INFO - Waiting for application shutdown.
2026-01-15 08:11:01,649 - app - INFO - Shutting down application...
2026-01-15 08:11:01,649 - uvicorn.error - INFO - Application shutdown complete.
2026-01-15 08:11:01,652 - uvicorn.error - INFO - Finished server process [116339]
2026-01-15 08:11:05,434 - uvicorn.error - INFO - Started server process [116868]
2026-01-15 08:11:05,435 - uvicorn.error - INFO - Waiting for application startup.
2026-01-15 08:11:05,437 - app - INFO - Starting up application...
2026-01-15 08:11:05,452 - uvicorn.error - INFO - Application startup complete.
2026-01-15 08:12:07,092 - uvicorn.error - INFO - Shutting down
2026-01-15 08:12:07,195 - uvicorn.error - INFO - Waiting for application shutdown.
2026-01-15 08:12:07,196 - app - INFO - Shutting down application...
2026-01-15 08:12:07,196 - uvicorn.error - INFO - Application shutdown complete.
2026-01-15 08:12:07,197 - uvicorn.error - INFO - Finished server process [116868]
2026-01-15 08:12:09,379 - uvicorn.error - INFO - Started server process [117928]
2026-01-15 08:12:09,380 - uvicorn.error - INFO - Waiting for application startup.
2026-01-15 08:12:09,380 - app - INFO - Starting up application...
2026-01-15 08:12:09,391 - uvicorn.error - INFO - Application startup complete.
2026-01-15 08:12:10,700 - uvicorn.error - INFO - Shutting down
2026-01-15 08:12:10,802 - uvicorn.error - INFO - Waiting for application shutdown.
2026-01-15 08:12:10,802 - app - INFO - Shutting down application...
2026-01-15 08:12:10,803 - uvicorn.error - INFO - Application shutdown complete.
2026-01-15 08:12:10,803 - uvicorn.error - INFO - Finished server process [117928]
2026-01-15 08:12:12,379 - uvicorn.error - INFO - Started server process [118007]
2026-01-15 08:12:12,380 - uvicorn.error - INFO - Waiting for application startup.
2026-01-15 08:12:12,380 - app - INFO - Starting up application...
2026-01-15 08:12:12,388 - uvicorn.error - INFO - Application startup complete.
2026-01-15 08:14:22,831 - app - INFO - Request: GET /api/v1/notifications/unread-count - Status: 401 - Duration: 2.97ms
2026-01-15 08:14:22,831 - uvicorn.access - INFO - 127.0.0.1:38730 - "GET /api/v1/notifications/unread-count HTTP/1.1" 401
2026-01-15 10:59:21,371 - app - INFO - Request: POST /api/v1/auth/login/access-token - Status: 200 - Duration: 513.45ms
2026-01-15 10:59:21,372 - uvicorn.access - INFO - 127.0.0.1:60444 - "POST /api/v1/auth/login/access-token HTTP/1.1" 200
2026-01-15 10:59:24,366 - app - INFO - Request: GET /api/v1/users/me - Status: 200 - Duration: 139.94ms
2026-01-15 10:59:24,366 - uvicorn.access - INFO - 127.0.0.1:60448 - "GET /api/v1/users/me HTTP/1.1" 200
2026-01-15 10:59:24,411 - app - INFO - Request: GET /api/v1/users/me - Status: 200 - Duration: 21.75ms
2026-01-15 10:59:24,411 - uvicorn.access - INFO - 127.0.0.1:60462 - "GET /api/v1/users/me HTTP/1.1" 200
2026-01-15 10:59:24,431 - app - INFO - Request: GET /api/v1/prop-firm - Status: 200 - Duration: 36.23ms
2026-01-15 10:59:24,431 - uvicorn.access - INFO - 127.0.0.1:60468 - "GET /api/v1/prop-firm HTTP/1.1" 200
2026-01-15 10:59:24,480 - app - INFO - Request: GET /api/v1/prop-firm - Status: 200 - Duration: 32.27ms
2026-01-15 10:59:24,481 - uvicorn.access - INFO - 127.0.0.1:60470 - "GET /api/v1/prop-firm HTTP/1.1" 200
2026-01-15 10:59:28,214 - app - INFO - Request: GET /api/v1/prop-firm - Status: 200 - Duration: 16.70ms
2026-01-15 10:59:28,214 - uvicorn.access - INFO - 127.0.0.1:32868 - "GET /api/v1/prop-firm?status=passed HTTP/1.1" 200
2026-01-15 10:59:28,266 - app - INFO - Request: GET /api/v1/prop-firm - Status: 200 - Duration: 33.54ms
2026-01-15 10:59:28,266 - uvicorn.access - INFO - 127.0.0.1:32874 - "GET /api/v1/prop-firm?status=passed HTTP/1.1" 200
2026-01-15 11:00:43,791 - app - ERROR - Request failed: GET /api/v1/crypto-payments/currencies - Duration: 5145.14ms - Error: 
2026-01-15 11:00:43,807 - app - ERROR - Traceback (most recent call last):
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/httpx/_transports/default.py", line 101, in map_httpcore_exceptions
    yield
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/httpx/_transports/default.py", line 394, in handle_async_request
    resp = await self._pool.handle_async_request(req)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/httpcore/_async/connection_pool.py", line 256, in handle_async_request
    raise exc from None
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/httpcore/_async/connection_pool.py", line 236, in handle_async_request
    response = await connection.handle_async_request(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        pool_request.request
        ^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/httpcore/_async/connection.py", line 101, in handle_async_request
    raise exc
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/httpcore/_async/connection.py", line 78, in handle_async_request
    stream = await self._connect(request)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/httpcore/_async/connection.py", line 124, in _connect
    stream = await self._network_backend.connect_tcp(**kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/httpcore/_backends/auto.py", line 31, in connect_tcp
    return await self._backend.connect_tcp(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<5 lines>...
    )
    ^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/httpcore/_backends/anyio.py", line 113, in connect_tcp
    with map_exceptions(exc_map):
         ~~~~~~~~~~~~~~^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    ~~~~~~~~~~~~~~^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/httpcore/_exceptions.py", line 14, in map_exceptions
    raise to_exc(exc) from exc
httpcore.ConnectTimeout

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/home/rehack/PycharmProjects/solpro_backend/app/main.py", line 65, in log_requests
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/base.py", line 168, in call_next
    raise app_exc from app_exc.__cause__ or app_exc.__context__
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/base.py", line 144, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/base.py", line 191, in __call__
    with recv_stream, send_stream, collapse_excgroups():
                                   ~~~~~~~~~~~~~~~~~~^^
  File "/home/rehack/anaconda3/lib/python3.13/contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    ~~~~~~~~~~~~~~^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/_utils.py", line 85, in collapse_excgroups
    raise exc
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/base.py", line 193, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/slowapi/middleware.py", line 136, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/base.py", line 168, in call_next
    raise app_exc from app_exc.__cause__ or app_exc.__context__
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/base.py", line 144, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/gzip.py", line 29, in __call__
    await responder(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/gzip.py", line 130, in __call__
    await super().__call__(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/gzip.py", line 46, in __call__
    await self.app(scope, receive, self.send_with_compression)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/trustedhost.py", line 36, in __call__
    await self.app(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/fastapi/routing.py", line 125, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/fastapi/routing.py", line 111, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/fastapi/routing.py", line 391, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/fastapi/routing.py", line 290, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rehack/PycharmProjects/solpro_backend/app/api/v1/endpoints/crypto_payments.py", line 36, in get_available_currencies
    currencies = await service.get_available_currencies()
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rehack/PycharmProjects/solpro_backend/app/service/nowpayments_service.py", line 48, in get_available_currencies
    response = await client.get(
               ^^^^^^^^^^^^^^^^^
    ...<2 lines>...
    )
    ^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/httpx/_client.py", line 1768, in get
    return await self.request(
           ^^^^^^^^^^^^^^^^^^^
    ...<9 lines>...
    )
    ^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/httpx/_client.py", line 1540, in request
    return await self.send(request, auth=auth, follow_redirects=follow_redirects)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/httpx/_client.py", line 1629, in send
    response = await self._send_handling_auth(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<4 lines>...
    )
    ^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/httpx/_client.py", line 1657, in _send_handling_auth
    response = await self._send_handling_redirects(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/httpx/_client.py", line 1694, in _send_handling_redirects
    response = await self._send_single_request(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/httpx/_client.py", line 1730, in _send_single_request
    response = await transport.handle_async_request(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/httpx/_transports/default.py", line 393, in handle_async_request
    with map_httpcore_exceptions():
         ~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/home/rehack/anaconda3/lib/python3.13/contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    ~~~~~~~~~~~~~~^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/httpx/_transports/default.py", line 118, in map_httpcore_exceptions
    raise mapped_exc(message) from exc
httpx.ConnectTimeout

2026-01-15 11:00:43,807 - uvicorn.access - INFO - 127.0.0.1:58584 - "GET /api/v1/crypto-payments/currencies HTTP/1.1" 500
2026-01-15 11:00:43,858 - app - ERROR - Request failed: GET /api/v1/crypto-payments/estimate - Duration: 5212.32ms - Error: 
2026-01-15 11:00:43,868 - app - ERROR - Traceback (most recent call last):
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/httpx/_transports/default.py", line 101, in map_httpcore_exceptions
    yield
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/httpx/_transports/default.py", line 394, in handle_async_request
    resp = await self._pool.handle_async_request(req)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/httpcore/_async/connection_pool.py", line 256, in handle_async_request
    raise exc from None
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/httpcore/_async/connection_pool.py", line 236, in handle_async_request
    response = await connection.handle_async_request(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        pool_request.request
        ^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/httpcore/_async/connection.py", line 101, in handle_async_request
    raise exc
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/httpcore/_async/connection.py", line 78, in handle_async_request
    stream = await self._connect(request)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/httpcore/_async/connection.py", line 124, in _connect
    stream = await self._network_backend.connect_tcp(**kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/httpcore/_backends/auto.py", line 31, in connect_tcp
    return await self._backend.connect_tcp(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<5 lines>...
    )
    ^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/httpcore/_backends/anyio.py", line 113, in connect_tcp
    with map_exceptions(exc_map):
         ~~~~~~~~~~~~~~^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    ~~~~~~~~~~~~~~^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/httpcore/_exceptions.py", line 14, in map_exceptions
    raise to_exc(exc) from exc
httpcore.ConnectTimeout

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/home/rehack/PycharmProjects/solpro_backend/app/main.py", line 65, in log_requests
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/base.py", line 168, in call_next
    raise app_exc from app_exc.__cause__ or app_exc.__context__
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/base.py", line 144, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/base.py", line 191, in __call__
    with recv_stream, send_stream, collapse_excgroups():
                                   ~~~~~~~~~~~~~~~~~~^^
  File "/home/rehack/anaconda3/lib/python3.13/contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    ~~~~~~~~~~~~~~^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/_utils.py", line 85, in collapse_excgroups
    raise exc
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/base.py", line 193, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/slowapi/middleware.py", line 136, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/base.py", line 168, in call_next
    raise app_exc from app_exc.__cause__ or app_exc.__context__
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/base.py", line 144, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/gzip.py", line 29, in __call__
    await responder(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/gzip.py", line 130, in __call__
    await super().__call__(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/gzip.py", line 46, in __call__
    await self.app(scope, receive, self.send_with_compression)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/trustedhost.py", line 36, in __call__
    await self.app(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/fastapi/routing.py", line 125, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/fastapi/routing.py", line 111, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/fastapi/routing.py", line 391, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/fastapi/routing.py", line 290, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rehack/PycharmProjects/solpro_backend/app/api/v1/endpoints/crypto_payments.py", line 67, in get_estimated_price
    return await service.get_estimated_price(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "/home/rehack/PycharmProjects/solpro_backend/app/service/nowpayments_service.py", line 95, in get_estimated_price
    response = await client.get(
               ^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/httpx/_client.py", line 1768, in get
    return await self.request(
           ^^^^^^^^^^^^^^^^^^^
    ...<9 lines>...
    )
    ^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/httpx/_client.py", line 1540, in request
    return await self.send(request, auth=auth, follow_redirects=follow_redirects)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/httpx/_client.py", line 1629, in send
    response = await self._send_handling_auth(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<4 lines>...
    )
    ^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/httpx/_client.py", line 1657, in _send_handling_auth
    response = await self._send_handling_redirects(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/httpx/_client.py", line 1694, in _send_handling_redirects
    response = await self._send_single_request(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/httpx/_client.py", line 1730, in _send_single_request
    response = await transport.handle_async_request(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/httpx/_transports/default.py", line 393, in handle_async_request
    with map_httpcore_exceptions():
         ~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/home/rehack/anaconda3/lib/python3.13/contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    ~~~~~~~~~~~~~~^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/httpx/_transports/default.py", line 118, in map_httpcore_exceptions
    raise mapped_exc(message) from exc
httpx.ConnectTimeout

2026-01-15 11:00:43,868 - uvicorn.access - INFO - 127.0.0.1:58586 - "GET /api/v1/crypto-payments/estimate?amount=3590&currency_from=usd&currency_to=btc HTTP/1.1" 500
2026-01-15 11:00:44,314 - app - INFO - Request: GET /api/v1/crypto-payments/currencies - Status: 200 - Duration: 499.61ms
2026-01-15 11:00:44,314 - uvicorn.access - INFO - 127.0.0.1:58594 - "GET /api/v1/crypto-payments/currencies HTTP/1.1" 200
2026-01-15 11:00:44,455 - app - INFO - Request: GET /api/v1/crypto-payments/estimate - Status: 200 - Duration: 574.72ms
2026-01-15 11:00:44,455 - uvicorn.access - INFO - 127.0.0.1:58600 - "GET /api/v1/crypto-payments/estimate?amount=3590&currency_from=usd&currency_to=btc HTTP/1.1" 200
2026-01-15 11:00:48,379 - app - INFO - Request: GET /api/v1/crypto-payments/estimate - Status: 200 - Duration: 783.98ms
2026-01-15 11:00:48,379 - uvicorn.access - INFO - 127.0.0.1:58610 - "GET /api/v1/crypto-payments/estimate?amount=3590&currency_from=usd&currency_to=usdtbsc HTTP/1.1" 200
2026-01-15 11:01:08,241 - app - INFO - Request: GET /api/v1/crypto-payments/estimate - Status: 200 - Duration: 520.71ms
2026-01-15 11:01:08,241 - uvicorn.access - INFO - 127.0.0.1:41620 - "GET /api/v1/crypto-payments/estimate?amount=3590&currency_from=usd&currency_to=usdcarc20 HTTP/1.1" 200
2026-01-15 11:01:10,672 - app - INFO - Request: GET /api/v1/crypto-payments/estimate - Status: 200 - Duration: 512.63ms
2026-01-15 11:01:10,672 - uvicorn.access - INFO - 127.0.0.1:59540 - "GET /api/v1/crypto-payments/estimate?amount=3590&currency_from=usd&currency_to=lnq HTTP/1.1" 200
2026-01-15 11:01:16,396 - app - INFO - Request: GET /api/v1/users/me - Status: 200 - Duration: 21.43ms
2026-01-15 11:01:16,397 - uvicorn.access - INFO - 127.0.0.1:59554 - "GET /api/v1/users/me HTTP/1.1" 200
2026-01-15 11:01:16,452 - app - ERROR - Request failed: POST /api/v1/prop-firm - Duration: 23.83ms - Error: greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place? (Background on this error at: https://sqlalche.me/e/20/xd2s)
2026-01-15 11:01:16,482 - app - ERROR -   + Exception Group Traceback (most recent call last):
  |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/_utils.py", line 79, in collapse_excgroups
  |     yield
  |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/base.py", line 192, in __call__
  |     async with anyio.create_task_group() as task_group:
  |                ~~~~~~~~~~~~~~~~~~~~~~~^^
  |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/anyio/_backends/_asyncio.py", line 815, in __aexit__
  |     raise BaseExceptionGroup(
  |         "unhandled errors in a TaskGroup", self._exceptions
  |     )
  | ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)
  +-+---------------- 1 ----------------
    | Traceback (most recent call last):
    |   File "/home/rehack/PycharmProjects/solpro_backend/app/main.py", line 65, in log_requests
    |     response = await call_next(request)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/base.py", line 168, in call_next
    |     raise app_exc from app_exc.__cause__ or app_exc.__context__
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/base.py", line 144, in coro
    |     await self.app(scope, receive_or_disconnect, send_no_error)
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/base.py", line 191, in __call__
    |     with recv_stream, send_stream, collapse_excgroups():
    |                                    ~~~~~~~~~~~~~~~~~~^^
    |   File "/home/rehack/anaconda3/lib/python3.13/contextlib.py", line 162, in __exit__
    |     self.gen.throw(value)
    |     ~~~~~~~~~~~~~~^^^^^^^
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/_utils.py", line 85, in collapse_excgroups
    |     raise exc
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/base.py", line 193, in __call__
    |     response = await self.dispatch_func(request, call_next)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/slowapi/middleware.py", line 136, in dispatch
    |     response = await call_next(request)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/base.py", line 168, in call_next
    |     raise app_exc from app_exc.__cause__ or app_exc.__context__
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/base.py", line 144, in coro
    |     await self.app(scope, receive_or_disconnect, send_no_error)
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/gzip.py", line 29, in __call__
    |     await responder(scope, receive, send)
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/gzip.py", line 130, in __call__
    |     await super().__call__(scope, receive, send)
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/gzip.py", line 46, in __call__
    |     await self.app(scope, receive, self.send_with_compression)
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/trustedhost.py", line 36, in __call__
    |     await self.app(scope, receive, send)
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/cors.py", line 93, in __call__
    |     await self.simple_response(scope, receive, send, request_headers=headers)
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    |     await self.app(scope, receive, send)
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    |     await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    |     raise exc
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    |     await app(scope, receive, sender)
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    |     await self.app(scope, receive, send)
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/routing.py", line 716, in __call__
    |     await self.middleware_stack(scope, receive, send)
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/routing.py", line 736, in app
    |     await route.handle(scope, receive, send)
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/routing.py", line 290, in handle
    |     await self.app(scope, receive, send)
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/fastapi/routing.py", line 125, in app
    |     await wrap_app_handling_exceptions(app, request)(scope, receive, send)
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    |     raise exc
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    |     await app(scope, receive, sender)
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/fastapi/routing.py", line 111, in app
    |     response = await f(request)
    |                ^^^^^^^^^^^^^^^^
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/fastapi/routing.py", line 391, in app
    |     raw_response = await run_endpoint_function(
    |                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |     ...<3 lines>...
    |     )
    |     ^
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/fastapi/routing.py", line 290, in run_endpoint_function
    |     return await dependant.call(**values)
    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/home/rehack/PycharmProjects/solpro_backend/app/api/v1/endpoints/prop_firm.py", line 29, in create_propfirm_registration
    |     user_id=current_user.id,
    |             ^^^^^^^^^^^^^^^
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/orm/attributes.py", line 569, in __get__
    |     return self.impl.get(state, dict_)  # type: ignore[no-any-return]
    |            ~~~~~~~~~~~~~^^^^^^^^^^^^^^
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/orm/attributes.py", line 1096, in get
    |     value = self._fire_loader_callables(state, key, passive)
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/orm/attributes.py", line 1126, in _fire_loader_callables
    |     return state._load_expired(state, passive)
    |            ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/orm/state.py", line 803, in _load_expired
    |     self.manager.expired_attribute_loader(self, toload, passive)
    |     ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/orm/loading.py", line 1674, in load_scalar_attributes
    |     result = load_on_ident(
    |         session,
    |     ...<4 lines>...
    |         no_autoflush=no_autoflush,
    |     )
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/orm/loading.py", line 510, in load_on_ident
    |     return load_on_pk_identity(
    |         session,
    |     ...<11 lines>...
    |         is_user_refresh=is_user_refresh,
    |     )
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/orm/loading.py", line 695, in load_on_pk_identity
    |     session.execute(
    |     ~~~~~~~~~~~~~~~^
    |         q,
    |         ^^
    |     ...<2 lines>...
    |         bind_arguments=bind_arguments,
    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |     )
    |     ^
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlmodel/orm/session.py", line 144, in execute
    |     return super().execute(
    |            ~~~~~~~~~~~~~~~^
    |         statement,
    |         ^^^^^^^^^^
    |     ...<4 lines>...
    |         _add_event=_add_event,
    |         ^^^^^^^^^^^^^^^^^^^^^^
    |     )
    |     ^
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/orm/session.py", line 2351, in execute
    |     return self._execute_internal(
    |            ~~~~~~~~~~~~~~~~~~~~~~^
    |         statement,
    |         ^^^^^^^^^^
    |     ...<4 lines>...
    |         _add_event=_add_event,
    |         ^^^^^^^^^^^^^^^^^^^^^^
    |     )
    |     ^
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/orm/session.py", line 2249, in _execute_internal
    |     result: Result[Any] = compile_state_cls.orm_execute_statement(
    |                           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
    |         self,
    |         ^^^^^
    |     ...<4 lines>...
    |         conn,
    |         ^^^^^
    |     )
    |     ^
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/orm/context.py", line 306, in orm_execute_statement
    |     result = conn.execute(
    |         statement, params or {}, execution_options=execution_options
    |     )
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/engine/base.py", line 1419, in execute
    |     return meth(
    |         self,
    |         distilled_parameters,
    |         execution_options or NO_OPTIONS,
    |     )
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/sql/elements.py", line 526, in _execute_on_connection
    |     return connection._execute_clauseelement(
    |            ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
    |         self, distilled_params, execution_options
    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |     )
    |     ^
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/engine/base.py", line 1641, in _execute_clauseelement
    |     ret = self._execute_context(
    |         dialect,
    |     ...<8 lines>...
    |         cache_hit=cache_hit,
    |     )
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/engine/base.py", line 1846, in _execute_context
    |     return self._exec_single_context(
    |            ~~~~~~~~~~~~~~~~~~~~~~~~~^
    |         dialect, context, statement, parameters
    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |     )
    |     ^
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/engine/base.py", line 1986, in _exec_single_context
    |     self._handle_dbapi_exception(
    |     ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
    |         e, str_statement, effective_parameters, cursor, context
    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |     )
    |     ^
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/engine/base.py", line 2358, in _handle_dbapi_exception
    |     raise exc_info[1].with_traceback(exc_info[2])
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    |     self.dialect.do_execute(
    |     ~~~~~~~~~~~~~~~~~~~~~~~^
    |         cursor, str_statement, effective_parameters, context
    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |     )
    |     ^
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/engine/default.py", line 951, in do_execute
    |     cursor.execute(statement, parameters)
    |     ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 180, in execute
    |     self._adapt_connection._handle_exception(error)
    |     ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 340, in _handle_exception
    |     raise error
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 157, in execute
    |     _cursor: AsyncIODBAPICursor = self.await_(self._connection.cursor())  # type: ignore[arg-type] # noqa: E501
    |                                   ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 123, in await_only
    |     raise exc.MissingGreenlet(
    |     ...<2 lines>...
    |     )
    | sqlalchemy.exc.MissingGreenlet: greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place? (Background on this error at: https://sqlalche.me/e/20/xd2s)
    +------------------------------------

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/home/rehack/PycharmProjects/solpro_backend/app/main.py", line 65, in log_requests
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/base.py", line 168, in call_next
    raise app_exc from app_exc.__cause__ or app_exc.__context__
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/base.py", line 144, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/base.py", line 191, in __call__
    with recv_stream, send_stream, collapse_excgroups():
                                   ~~~~~~~~~~~~~~~~~~^^
  File "/home/rehack/anaconda3/lib/python3.13/contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    ~~~~~~~~~~~~~~^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/_utils.py", line 85, in collapse_excgroups
    raise exc
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/base.py", line 193, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/slowapi/middleware.py", line 136, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/base.py", line 168, in call_next
    raise app_exc from app_exc.__cause__ or app_exc.__context__
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/base.py", line 144, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/gzip.py", line 29, in __call__
    await responder(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/gzip.py", line 130, in __call__
    await super().__call__(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/gzip.py", line 46, in __call__
    await self.app(scope, receive, self.send_with_compression)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/trustedhost.py", line 36, in __call__
    await self.app(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/fastapi/routing.py", line 125, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/fastapi/routing.py", line 111, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/fastapi/routing.py", line 391, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/fastapi/routing.py", line 290, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rehack/PycharmProjects/solpro_backend/app/api/v1/endpoints/prop_firm.py", line 29, in create_propfirm_registration
    user_id=current_user.id,
            ^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/orm/attributes.py", line 569, in __get__
    return self.impl.get(state, dict_)  # type: ignore[no-any-return]
           ~~~~~~~~~~~~~^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/orm/attributes.py", line 1096, in get
    value = self._fire_loader_callables(state, key, passive)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/orm/attributes.py", line 1126, in _fire_loader_callables
    return state._load_expired(state, passive)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/orm/state.py", line 803, in _load_expired
    self.manager.expired_attribute_loader(self, toload, passive)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/orm/loading.py", line 1674, in load_scalar_attributes
    result = load_on_ident(
        session,
    ...<4 lines>...
        no_autoflush=no_autoflush,
    )
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/orm/loading.py", line 510, in load_on_ident
    return load_on_pk_identity(
        session,
    ...<11 lines>...
        is_user_refresh=is_user_refresh,
    )
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/orm/loading.py", line 695, in load_on_pk_identity
    session.execute(
    ~~~~~~~~~~~~~~~^
        q,
        ^^
    ...<2 lines>...
        bind_arguments=bind_arguments,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlmodel/orm/session.py", line 144, in execute
    return super().execute(
           ~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
    ...<4 lines>...
        _add_event=_add_event,
        ^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/orm/session.py", line 2351, in execute
    return self._execute_internal(
           ~~~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
    ...<4 lines>...
        _add_event=_add_event,
        ^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/orm/session.py", line 2249, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self,
        ^^^^^
    ...<4 lines>...
        conn,
        ^^^^^
    )
    ^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/orm/context.py", line 306, in orm_execute_statement
    result = conn.execute(
        statement, params or {}, execution_options=execution_options
    )
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/engine/base.py", line 1419, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/sql/elements.py", line 526, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/engine/base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
        dialect,
    ...<8 lines>...
        cache_hit=cache_hit,
    )
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/engine/base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ~~~~~~~~~~~~~~~~~~~~~~~~~^
        dialect, context, statement, parameters
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/engine/base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        e, str_statement, effective_parameters, cursor, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/engine/base.py", line 2358, in _handle_dbapi_exception
    raise exc_info[1].with_traceback(exc_info[2])
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/engine/default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 180, in execute
    self._adapt_connection._handle_exception(error)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 340, in _handle_exception
    raise error
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 157, in execute
    _cursor: AsyncIODBAPICursor = self.await_(self._connection.cursor())  # type: ignore[arg-type] # noqa: E501
                                  ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 123, in await_only
    raise exc.MissingGreenlet(
    ...<2 lines>...
    )
sqlalchemy.exc.MissingGreenlet: greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place? (Background on this error at: https://sqlalche.me/e/20/xd2s)

2026-01-15 11:01:16,483 - uvicorn.access - INFO - 127.0.0.1:59560 - "POST /api/v1/prop-firm HTTP/1.1" 500
2026-01-15 11:03:14,481 - app - INFO - Root endpoint accessed
2026-01-15 11:03:14,486 - app - INFO - Request: GET / - Status: 200 - Duration: 8.09ms
2026-01-15 11:03:14,488 - uvicorn.access - INFO - 127.0.0.1:36526 - "GET / HTTP/1.1" 200
2026-01-15 11:05:28,550 - uvicorn.error - INFO - Shutting down
2026-01-15 11:05:28,657 - uvicorn.error - INFO - Waiting for application shutdown.
2026-01-15 11:05:28,657 - app - INFO - Shutting down application...
2026-01-15 11:05:28,657 - uvicorn.error - INFO - Application shutdown complete.
2026-01-15 11:05:28,658 - uvicorn.error - INFO - Finished server process [118007]
2026-01-15 11:05:33,888 - uvicorn.error - INFO - Started server process [203113]
2026-01-15 11:05:33,888 - uvicorn.error - INFO - Waiting for application startup.
2026-01-15 11:05:33,891 - app - INFO - Starting up application...
2026-01-15 11:05:33,906 - uvicorn.error - INFO - Application startup complete.
2026-01-15 11:05:52,631 - app - INFO - Request: GET /api/v1/users/me - Status: 200 - Duration: 115.61ms
2026-01-15 11:05:52,632 - uvicorn.access - INFO - 127.0.0.1:41150 - "GET /api/v1/users/me HTTP/1.1" 200
2026-01-15 11:05:52,919 - app - ERROR - Request failed: POST /api/v1/prop-firm - Duration: 104.00ms - Error: greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place? (Background on this error at: https://sqlalche.me/e/20/xd2s)
2026-01-15 11:05:53,063 - app - ERROR -   + Exception Group Traceback (most recent call last):
  |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/_utils.py", line 79, in collapse_excgroups
  |     yield
  |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/base.py", line 192, in __call__
  |     async with anyio.create_task_group() as task_group:
  |                ~~~~~~~~~~~~~~~~~~~~~~~^^
  |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/anyio/_backends/_asyncio.py", line 815, in __aexit__
  |     raise BaseExceptionGroup(
  |         "unhandled errors in a TaskGroup", self._exceptions
  |     )
  | ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)
  +-+---------------- 1 ----------------
    | Traceback (most recent call last):
    |   File "/home/rehack/PycharmProjects/solpro_backend/app/main.py", line 65, in log_requests
    |     response = await call_next(request)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/base.py", line 168, in call_next
    |     raise app_exc from app_exc.__cause__ or app_exc.__context__
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/base.py", line 144, in coro
    |     await self.app(scope, receive_or_disconnect, send_no_error)
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/base.py", line 191, in __call__
    |     with recv_stream, send_stream, collapse_excgroups():
    |                                    ~~~~~~~~~~~~~~~~~~^^
    |   File "/home/rehack/anaconda3/lib/python3.13/contextlib.py", line 162, in __exit__
    |     self.gen.throw(value)
    |     ~~~~~~~~~~~~~~^^^^^^^
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/_utils.py", line 85, in collapse_excgroups
    |     raise exc
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/base.py", line 193, in __call__
    |     response = await self.dispatch_func(request, call_next)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/slowapi/middleware.py", line 136, in dispatch
    |     response = await call_next(request)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/base.py", line 168, in call_next
    |     raise app_exc from app_exc.__cause__ or app_exc.__context__
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/base.py", line 144, in coro
    |     await self.app(scope, receive_or_disconnect, send_no_error)
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/gzip.py", line 29, in __call__
    |     await responder(scope, receive, send)
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/gzip.py", line 130, in __call__
    |     await super().__call__(scope, receive, send)
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/gzip.py", line 46, in __call__
    |     await self.app(scope, receive, self.send_with_compression)
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/trustedhost.py", line 36, in __call__
    |     await self.app(scope, receive, send)
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/cors.py", line 93, in __call__
    |     await self.simple_response(scope, receive, send, request_headers=headers)
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    |     await self.app(scope, receive, send)
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    |     await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    |     raise exc
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    |     await app(scope, receive, sender)
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    |     await self.app(scope, receive, send)
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/routing.py", line 716, in __call__
    |     await self.middleware_stack(scope, receive, send)
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/routing.py", line 736, in app
    |     await route.handle(scope, receive, send)
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/routing.py", line 290, in handle
    |     await self.app(scope, receive, send)
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/fastapi/routing.py", line 125, in app
    |     await wrap_app_handling_exceptions(app, request)(scope, receive, send)
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    |     raise exc
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    |     await app(scope, receive, sender)
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/fastapi/routing.py", line 111, in app
    |     response = await f(request)
    |                ^^^^^^^^^^^^^^^^
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/fastapi/routing.py", line 391, in app
    |     raw_response = await run_endpoint_function(
    |                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |     ...<3 lines>...
    |     )
    |     ^
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/fastapi/routing.py", line 290, in run_endpoint_function
    |     return await dependant.call(**values)
    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/home/rehack/PycharmProjects/solpro_backend/app/api/v1/endpoints/prop_firm.py", line 36, in create_propfirm_registration
    |     user_id=current_user.id,
    |             ^^^^^^^^^^^^^^^
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/orm/attributes.py", line 569, in __get__
    |     return self.impl.get(state, dict_)  # type: ignore[no-any-return]
    |            ~~~~~~~~~~~~~^^^^^^^^^^^^^^
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/orm/attributes.py", line 1096, in get
    |     value = self._fire_loader_callables(state, key, passive)
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/orm/attributes.py", line 1126, in _fire_loader_callables
    |     return state._load_expired(state, passive)
    |            ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/orm/state.py", line 803, in _load_expired
    |     self.manager.expired_attribute_loader(self, toload, passive)
    |     ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/orm/loading.py", line 1674, in load_scalar_attributes
    |     result = load_on_ident(
    |         session,
    |     ...<4 lines>...
    |         no_autoflush=no_autoflush,
    |     )
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/orm/loading.py", line 510, in load_on_ident
    |     return load_on_pk_identity(
    |         session,
    |     ...<11 lines>...
    |         is_user_refresh=is_user_refresh,
    |     )
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/orm/loading.py", line 695, in load_on_pk_identity
    |     session.execute(
    |     ~~~~~~~~~~~~~~~^
    |         q,
    |         ^^
    |     ...<2 lines>...
    |         bind_arguments=bind_arguments,
    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |     )
    |     ^
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlmodel/orm/session.py", line 144, in execute
    |     return super().execute(
    |            ~~~~~~~~~~~~~~~^
    |         statement,
    |         ^^^^^^^^^^
    |     ...<4 lines>...
    |         _add_event=_add_event,
    |         ^^^^^^^^^^^^^^^^^^^^^^
    |     )
    |     ^
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/orm/session.py", line 2351, in execute
    |     return self._execute_internal(
    |            ~~~~~~~~~~~~~~~~~~~~~~^
    |         statement,
    |         ^^^^^^^^^^
    |     ...<4 lines>...
    |         _add_event=_add_event,
    |         ^^^^^^^^^^^^^^^^^^^^^^
    |     )
    |     ^
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/orm/session.py", line 2249, in _execute_internal
    |     result: Result[Any] = compile_state_cls.orm_execute_statement(
    |                           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
    |         self,
    |         ^^^^^
    |     ...<4 lines>...
    |         conn,
    |         ^^^^^
    |     )
    |     ^
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/orm/context.py", line 306, in orm_execute_statement
    |     result = conn.execute(
    |         statement, params or {}, execution_options=execution_options
    |     )
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/engine/base.py", line 1419, in execute
    |     return meth(
    |         self,
    |         distilled_parameters,
    |         execution_options or NO_OPTIONS,
    |     )
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/sql/elements.py", line 526, in _execute_on_connection
    |     return connection._execute_clauseelement(
    |            ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
    |         self, distilled_params, execution_options
    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |     )
    |     ^
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/engine/base.py", line 1641, in _execute_clauseelement
    |     ret = self._execute_context(
    |         dialect,
    |     ...<8 lines>...
    |         cache_hit=cache_hit,
    |     )
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/engine/base.py", line 1846, in _execute_context
    |     return self._exec_single_context(
    |            ~~~~~~~~~~~~~~~~~~~~~~~~~^
    |         dialect, context, statement, parameters
    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |     )
    |     ^
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/engine/base.py", line 1986, in _exec_single_context
    |     self._handle_dbapi_exception(
    |     ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
    |         e, str_statement, effective_parameters, cursor, context
    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |     )
    |     ^
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/engine/base.py", line 2358, in _handle_dbapi_exception
    |     raise exc_info[1].with_traceback(exc_info[2])
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    |     self.dialect.do_execute(
    |     ~~~~~~~~~~~~~~~~~~~~~~~^
    |         cursor, str_statement, effective_parameters, context
    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |     )
    |     ^
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/engine/default.py", line 951, in do_execute
    |     cursor.execute(statement, parameters)
    |     ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 180, in execute
    |     self._adapt_connection._handle_exception(error)
    |     ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 340, in _handle_exception
    |     raise error
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 157, in execute
    |     _cursor: AsyncIODBAPICursor = self.await_(self._connection.cursor())  # type: ignore[arg-type] # noqa: E501
    |                                   ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 123, in await_only
    |     raise exc.MissingGreenlet(
    |     ...<2 lines>...
    |     )
    | sqlalchemy.exc.MissingGreenlet: greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place? (Background on this error at: https://sqlalche.me/e/20/xd2s)
    +------------------------------------

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/home/rehack/PycharmProjects/solpro_backend/app/main.py", line 65, in log_requests
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/base.py", line 168, in call_next
    raise app_exc from app_exc.__cause__ or app_exc.__context__
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/base.py", line 144, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/base.py", line 191, in __call__
    with recv_stream, send_stream, collapse_excgroups():
                                   ~~~~~~~~~~~~~~~~~~^^
  File "/home/rehack/anaconda3/lib/python3.13/contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    ~~~~~~~~~~~~~~^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/_utils.py", line 85, in collapse_excgroups
    raise exc
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/base.py", line 193, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/slowapi/middleware.py", line 136, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/base.py", line 168, in call_next
    raise app_exc from app_exc.__cause__ or app_exc.__context__
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/base.py", line 144, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/gzip.py", line 29, in __call__
    await responder(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/gzip.py", line 130, in __call__
    await super().__call__(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/gzip.py", line 46, in __call__
    await self.app(scope, receive, self.send_with_compression)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/trustedhost.py", line 36, in __call__
    await self.app(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/fastapi/routing.py", line 125, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/fastapi/routing.py", line 111, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/fastapi/routing.py", line 391, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/fastapi/routing.py", line 290, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rehack/PycharmProjects/solpro_backend/app/api/v1/endpoints/prop_firm.py", line 36, in create_propfirm_registration
    user_id=current_user.id,
            ^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/orm/attributes.py", line 569, in __get__
    return self.impl.get(state, dict_)  # type: ignore[no-any-return]
           ~~~~~~~~~~~~~^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/orm/attributes.py", line 1096, in get
    value = self._fire_loader_callables(state, key, passive)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/orm/attributes.py", line 1126, in _fire_loader_callables
    return state._load_expired(state, passive)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/orm/state.py", line 803, in _load_expired
    self.manager.expired_attribute_loader(self, toload, passive)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/orm/loading.py", line 1674, in load_scalar_attributes
    result = load_on_ident(
        session,
    ...<4 lines>...
        no_autoflush=no_autoflush,
    )
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/orm/loading.py", line 510, in load_on_ident
    return load_on_pk_identity(
        session,
    ...<11 lines>...
        is_user_refresh=is_user_refresh,
    )
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/orm/loading.py", line 695, in load_on_pk_identity
    session.execute(
    ~~~~~~~~~~~~~~~^
        q,
        ^^
    ...<2 lines>...
        bind_arguments=bind_arguments,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlmodel/orm/session.py", line 144, in execute
    return super().execute(
           ~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
    ...<4 lines>...
        _add_event=_add_event,
        ^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/orm/session.py", line 2351, in execute
    return self._execute_internal(
           ~~~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
    ...<4 lines>...
        _add_event=_add_event,
        ^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/orm/session.py", line 2249, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self,
        ^^^^^
    ...<4 lines>...
        conn,
        ^^^^^
    )
    ^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/orm/context.py", line 306, in orm_execute_statement
    result = conn.execute(
        statement, params or {}, execution_options=execution_options
    )
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/engine/base.py", line 1419, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/sql/elements.py", line 526, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/engine/base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
        dialect,
    ...<8 lines>...
        cache_hit=cache_hit,
    )
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/engine/base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ~~~~~~~~~~~~~~~~~~~~~~~~~^
        dialect, context, statement, parameters
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/engine/base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        e, str_statement, effective_parameters, cursor, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/engine/base.py", line 2358, in _handle_dbapi_exception
    raise exc_info[1].with_traceback(exc_info[2])
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/engine/default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 180, in execute
    self._adapt_connection._handle_exception(error)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 340, in _handle_exception
    raise error
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 157, in execute
    _cursor: AsyncIODBAPICursor = self.await_(self._connection.cursor())  # type: ignore[arg-type] # noqa: E501
                                  ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 123, in await_only
    raise exc.MissingGreenlet(
    ...<2 lines>...
    )
sqlalchemy.exc.MissingGreenlet: greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place? (Background on this error at: https://sqlalche.me/e/20/xd2s)

2026-01-15 11:05:53,074 - uvicorn.access - INFO - 127.0.0.1:41164 - "POST /api/v1/prop-firm HTTP/1.1" 500
2026-01-15 11:11:18,735 - uvicorn.error - INFO - Shutting down
2026-01-15 11:11:18,837 - uvicorn.error - INFO - Waiting for application shutdown.
2026-01-15 11:11:18,838 - app - INFO - Shutting down application...
2026-01-15 11:11:18,838 - uvicorn.error - INFO - Application shutdown complete.
2026-01-15 11:11:18,838 - uvicorn.error - INFO - Finished server process [203113]
2026-01-15 11:11:22,699 - uvicorn.error - INFO - Started server process [208008]
2026-01-15 11:11:22,700 - uvicorn.error - INFO - Waiting for application startup.
2026-01-15 11:11:22,700 - app - INFO - Starting up application...
2026-01-15 11:11:22,708 - uvicorn.error - INFO - Application startup complete.
2026-01-15 11:11:25,271 - app - INFO - Request: GET /api/v1/users/me - Status: 200 - Duration: 64.12ms
2026-01-15 11:11:25,272 - uvicorn.access - INFO - 127.0.0.1:33608 - "GET /api/v1/users/me HTTP/1.1" 200
2026-01-15 11:11:25,349 - app - ERROR - Request failed: POST /api/v1/prop-firm - Duration: 47.39ms - Error: greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place? (Background on this error at: https://sqlalche.me/e/20/xd2s)
2026-01-15 11:11:25,379 - app - ERROR -   + Exception Group Traceback (most recent call last):
  |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/_utils.py", line 79, in collapse_excgroups
  |     yield
  |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/base.py", line 192, in __call__
  |     async with anyio.create_task_group() as task_group:
  |                ~~~~~~~~~~~~~~~~~~~~~~~^^
  |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/anyio/_backends/_asyncio.py", line 815, in __aexit__
  |     raise BaseExceptionGroup(
  |         "unhandled errors in a TaskGroup", self._exceptions
  |     )
  | ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)
  +-+---------------- 1 ----------------
    | Traceback (most recent call last):
    |   File "/home/rehack/PycharmProjects/solpro_backend/app/main.py", line 65, in log_requests
    |     response = await call_next(request)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/base.py", line 168, in call_next
    |     raise app_exc from app_exc.__cause__ or app_exc.__context__
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/base.py", line 144, in coro
    |     await self.app(scope, receive_or_disconnect, send_no_error)
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/base.py", line 191, in __call__
    |     with recv_stream, send_stream, collapse_excgroups():
    |                                    ~~~~~~~~~~~~~~~~~~^^
    |   File "/home/rehack/anaconda3/lib/python3.13/contextlib.py", line 162, in __exit__
    |     self.gen.throw(value)
    |     ~~~~~~~~~~~~~~^^^^^^^
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/_utils.py", line 85, in collapse_excgroups
    |     raise exc
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/base.py", line 193, in __call__
    |     response = await self.dispatch_func(request, call_next)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/slowapi/middleware.py", line 136, in dispatch
    |     response = await call_next(request)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/base.py", line 168, in call_next
    |     raise app_exc from app_exc.__cause__ or app_exc.__context__
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/base.py", line 144, in coro
    |     await self.app(scope, receive_or_disconnect, send_no_error)
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/gzip.py", line 29, in __call__
    |     await responder(scope, receive, send)
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/gzip.py", line 130, in __call__
    |     await super().__call__(scope, receive, send)
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/gzip.py", line 46, in __call__
    |     await self.app(scope, receive, self.send_with_compression)
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/trustedhost.py", line 36, in __call__
    |     await self.app(scope, receive, send)
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/cors.py", line 93, in __call__
    |     await self.simple_response(scope, receive, send, request_headers=headers)
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    |     await self.app(scope, receive, send)
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    |     await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    |     raise exc
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    |     await app(scope, receive, sender)
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    |     await self.app(scope, receive, send)
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/routing.py", line 716, in __call__
    |     await self.middleware_stack(scope, receive, send)
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/routing.py", line 736, in app
    |     await route.handle(scope, receive, send)
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/routing.py", line 290, in handle
    |     await self.app(scope, receive, send)
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/fastapi/routing.py", line 125, in app
    |     await wrap_app_handling_exceptions(app, request)(scope, receive, send)
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    |     raise exc
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    |     await app(scope, receive, sender)
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/fastapi/routing.py", line 111, in app
    |     response = await f(request)
    |                ^^^^^^^^^^^^^^^^
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/fastapi/routing.py", line 391, in app
    |     raw_response = await run_endpoint_function(
    |                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |     ...<3 lines>...
    |     )
    |     ^
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/fastapi/routing.py", line 290, in run_endpoint_function
    |     return await dependant.call(**values)
    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/home/rehack/PycharmProjects/solpro_backend/app/api/v1/endpoints/prop_firm.py", line 36, in create_propfirm_registration
    |     user_id=current_user.id,
    |             ^^^^^^^^^^^^^^^
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/orm/attributes.py", line 569, in __get__
    |     return self.impl.get(state, dict_)  # type: ignore[no-any-return]
    |            ~~~~~~~~~~~~~^^^^^^^^^^^^^^
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/orm/attributes.py", line 1096, in get
    |     value = self._fire_loader_callables(state, key, passive)
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/orm/attributes.py", line 1126, in _fire_loader_callables
    |     return state._load_expired(state, passive)
    |            ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/orm/state.py", line 803, in _load_expired
    |     self.manager.expired_attribute_loader(self, toload, passive)
    |     ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/orm/loading.py", line 1674, in load_scalar_attributes
    |     result = load_on_ident(
    |         session,
    |     ...<4 lines>...
    |         no_autoflush=no_autoflush,
    |     )
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/orm/loading.py", line 510, in load_on_ident
    |     return load_on_pk_identity(
    |         session,
    |     ...<11 lines>...
    |         is_user_refresh=is_user_refresh,
    |     )
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/orm/loading.py", line 695, in load_on_pk_identity
    |     session.execute(
    |     ~~~~~~~~~~~~~~~^
    |         q,
    |         ^^
    |     ...<2 lines>...
    |         bind_arguments=bind_arguments,
    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |     )
    |     ^
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlmodel/orm/session.py", line 144, in execute
    |     return super().execute(
    |            ~~~~~~~~~~~~~~~^
    |         statement,
    |         ^^^^^^^^^^
    |     ...<4 lines>...
    |         _add_event=_add_event,
    |         ^^^^^^^^^^^^^^^^^^^^^^
    |     )
    |     ^
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/orm/session.py", line 2351, in execute
    |     return self._execute_internal(
    |            ~~~~~~~~~~~~~~~~~~~~~~^
    |         statement,
    |         ^^^^^^^^^^
    |     ...<4 lines>...
    |         _add_event=_add_event,
    |         ^^^^^^^^^^^^^^^^^^^^^^
    |     )
    |     ^
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/orm/session.py", line 2249, in _execute_internal
    |     result: Result[Any] = compile_state_cls.orm_execute_statement(
    |                           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
    |         self,
    |         ^^^^^
    |     ...<4 lines>...
    |         conn,
    |         ^^^^^
    |     )
    |     ^
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/orm/context.py", line 306, in orm_execute_statement
    |     result = conn.execute(
    |         statement, params or {}, execution_options=execution_options
    |     )
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/engine/base.py", line 1419, in execute
    |     return meth(
    |         self,
    |         distilled_parameters,
    |         execution_options or NO_OPTIONS,
    |     )
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/sql/elements.py", line 526, in _execute_on_connection
    |     return connection._execute_clauseelement(
    |            ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
    |         self, distilled_params, execution_options
    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |     )
    |     ^
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/engine/base.py", line 1641, in _execute_clauseelement
    |     ret = self._execute_context(
    |         dialect,
    |     ...<8 lines>...
    |         cache_hit=cache_hit,
    |     )
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/engine/base.py", line 1846, in _execute_context
    |     return self._exec_single_context(
    |            ~~~~~~~~~~~~~~~~~~~~~~~~~^
    |         dialect, context, statement, parameters
    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |     )
    |     ^
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/engine/base.py", line 1986, in _exec_single_context
    |     self._handle_dbapi_exception(
    |     ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
    |         e, str_statement, effective_parameters, cursor, context
    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |     )
    |     ^
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/engine/base.py", line 2358, in _handle_dbapi_exception
    |     raise exc_info[1].with_traceback(exc_info[2])
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    |     self.dialect.do_execute(
    |     ~~~~~~~~~~~~~~~~~~~~~~~^
    |         cursor, str_statement, effective_parameters, context
    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |     )
    |     ^
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/engine/default.py", line 951, in do_execute
    |     cursor.execute(statement, parameters)
    |     ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 180, in execute
    |     self._adapt_connection._handle_exception(error)
    |     ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 340, in _handle_exception
    |     raise error
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 157, in execute
    |     _cursor: AsyncIODBAPICursor = self.await_(self._connection.cursor())  # type: ignore[arg-type] # noqa: E501
    |                                   ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 123, in await_only
    |     raise exc.MissingGreenlet(
    |     ...<2 lines>...
    |     )
    | sqlalchemy.exc.MissingGreenlet: greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place? (Background on this error at: https://sqlalche.me/e/20/xd2s)
    +------------------------------------

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/home/rehack/PycharmProjects/solpro_backend/app/main.py", line 65, in log_requests
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/base.py", line 168, in call_next
    raise app_exc from app_exc.__cause__ or app_exc.__context__
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/base.py", line 144, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/base.py", line 191, in __call__
    with recv_stream, send_stream, collapse_excgroups():
                                   ~~~~~~~~~~~~~~~~~~^^
  File "/home/rehack/anaconda3/lib/python3.13/contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    ~~~~~~~~~~~~~~^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/_utils.py", line 85, in collapse_excgroups
    raise exc
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/base.py", line 193, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/slowapi/middleware.py", line 136, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/base.py", line 168, in call_next
    raise app_exc from app_exc.__cause__ or app_exc.__context__
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/base.py", line 144, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/gzip.py", line 29, in __call__
    await responder(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/gzip.py", line 130, in __call__
    await super().__call__(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/gzip.py", line 46, in __call__
    await self.app(scope, receive, self.send_with_compression)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/trustedhost.py", line 36, in __call__
    await self.app(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/fastapi/routing.py", line 125, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/fastapi/routing.py", line 111, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/fastapi/routing.py", line 391, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/fastapi/routing.py", line 290, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rehack/PycharmProjects/solpro_backend/app/api/v1/endpoints/prop_firm.py", line 36, in create_propfirm_registration
    user_id=current_user.id,
            ^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/orm/attributes.py", line 569, in __get__
    return self.impl.get(state, dict_)  # type: ignore[no-any-return]
           ~~~~~~~~~~~~~^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/orm/attributes.py", line 1096, in get
    value = self._fire_loader_callables(state, key, passive)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/orm/attributes.py", line 1126, in _fire_loader_callables
    return state._load_expired(state, passive)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/orm/state.py", line 803, in _load_expired
    self.manager.expired_attribute_loader(self, toload, passive)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/orm/loading.py", line 1674, in load_scalar_attributes
    result = load_on_ident(
        session,
    ...<4 lines>...
        no_autoflush=no_autoflush,
    )
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/orm/loading.py", line 510, in load_on_ident
    return load_on_pk_identity(
        session,
    ...<11 lines>...
        is_user_refresh=is_user_refresh,
    )
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/orm/loading.py", line 695, in load_on_pk_identity
    session.execute(
    ~~~~~~~~~~~~~~~^
        q,
        ^^
    ...<2 lines>...
        bind_arguments=bind_arguments,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlmodel/orm/session.py", line 144, in execute
    return super().execute(
           ~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
    ...<4 lines>...
        _add_event=_add_event,
        ^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/orm/session.py", line 2351, in execute
    return self._execute_internal(
           ~~~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
    ...<4 lines>...
        _add_event=_add_event,
        ^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/orm/session.py", line 2249, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self,
        ^^^^^
    ...<4 lines>...
        conn,
        ^^^^^
    )
    ^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/orm/context.py", line 306, in orm_execute_statement
    result = conn.execute(
        statement, params or {}, execution_options=execution_options
    )
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/engine/base.py", line 1419, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/sql/elements.py", line 526, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/engine/base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
        dialect,
    ...<8 lines>...
        cache_hit=cache_hit,
    )
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/engine/base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ~~~~~~~~~~~~~~~~~~~~~~~~~^
        dialect, context, statement, parameters
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/engine/base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        e, str_statement, effective_parameters, cursor, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/engine/base.py", line 2358, in _handle_dbapi_exception
    raise exc_info[1].with_traceback(exc_info[2])
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/engine/default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 180, in execute
    self._adapt_connection._handle_exception(error)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 340, in _handle_exception
    raise error
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 157, in execute
    _cursor: AsyncIODBAPICursor = self.await_(self._connection.cursor())  # type: ignore[arg-type] # noqa: E501
                                  ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 123, in await_only
    raise exc.MissingGreenlet(
    ...<2 lines>...
    )
sqlalchemy.exc.MissingGreenlet: greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place? (Background on this error at: https://sqlalche.me/e/20/xd2s)

2026-01-15 11:11:25,380 - uvicorn.access - INFO - 127.0.0.1:33624 - "POST /api/v1/prop-firm HTTP/1.1" 500
2026-01-15 11:11:27,017 - app - INFO - Request: GET /api/v1/users/me - Status: 200 - Duration: 17.58ms
2026-01-15 11:11:27,017 - uvicorn.access - INFO - 127.0.0.1:33630 - "GET /api/v1/users/me HTTP/1.1" 200
2026-01-15 11:11:27,060 - app - ERROR - Request failed: POST /api/v1/prop-firm - Duration: 22.38ms - Error: greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place? (Background on this error at: https://sqlalche.me/e/20/xd2s)
2026-01-15 11:11:27,076 - app - ERROR -   + Exception Group Traceback (most recent call last):
  |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/_utils.py", line 79, in collapse_excgroups
  |     yield
  |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/base.py", line 192, in __call__
  |     async with anyio.create_task_group() as task_group:
  |                ~~~~~~~~~~~~~~~~~~~~~~~^^
  |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/anyio/_backends/_asyncio.py", line 815, in __aexit__
  |     raise BaseExceptionGroup(
  |         "unhandled errors in a TaskGroup", self._exceptions
  |     )
  | ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)
  +-+---------------- 1 ----------------
    | Traceback (most recent call last):
    |   File "/home/rehack/PycharmProjects/solpro_backend/app/main.py", line 65, in log_requests
    |     response = await call_next(request)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/base.py", line 168, in call_next
    |     raise app_exc from app_exc.__cause__ or app_exc.__context__
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/base.py", line 144, in coro
    |     await self.app(scope, receive_or_disconnect, send_no_error)
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/base.py", line 191, in __call__
    |     with recv_stream, send_stream, collapse_excgroups():
    |                                    ~~~~~~~~~~~~~~~~~~^^
    |   File "/home/rehack/anaconda3/lib/python3.13/contextlib.py", line 162, in __exit__
    |     self.gen.throw(value)
    |     ~~~~~~~~~~~~~~^^^^^^^
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/_utils.py", line 85, in collapse_excgroups
    |     raise exc
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/base.py", line 193, in __call__
    |     response = await self.dispatch_func(request, call_next)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/slowapi/middleware.py", line 136, in dispatch
    |     response = await call_next(request)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/base.py", line 168, in call_next
    |     raise app_exc from app_exc.__cause__ or app_exc.__context__
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/base.py", line 144, in coro
    |     await self.app(scope, receive_or_disconnect, send_no_error)
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/gzip.py", line 29, in __call__
    |     await responder(scope, receive, send)
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/gzip.py", line 130, in __call__
    |     await super().__call__(scope, receive, send)
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/gzip.py", line 46, in __call__
    |     await self.app(scope, receive, self.send_with_compression)
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/trustedhost.py", line 36, in __call__
    |     await self.app(scope, receive, send)
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/cors.py", line 93, in __call__
    |     await self.simple_response(scope, receive, send, request_headers=headers)
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    |     await self.app(scope, receive, send)
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    |     await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    |     raise exc
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    |     await app(scope, receive, sender)
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    |     await self.app(scope, receive, send)
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/routing.py", line 716, in __call__
    |     await self.middleware_stack(scope, receive, send)
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/routing.py", line 736, in app
    |     await route.handle(scope, receive, send)
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/routing.py", line 290, in handle
    |     await self.app(scope, receive, send)
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/fastapi/routing.py", line 125, in app
    |     await wrap_app_handling_exceptions(app, request)(scope, receive, send)
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    |     raise exc
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    |     await app(scope, receive, sender)
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/fastapi/routing.py", line 111, in app
    |     response = await f(request)
    |                ^^^^^^^^^^^^^^^^
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/fastapi/routing.py", line 391, in app
    |     raw_response = await run_endpoint_function(
    |                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |     ...<3 lines>...
    |     )
    |     ^
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/fastapi/routing.py", line 290, in run_endpoint_function
    |     return await dependant.call(**values)
    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/home/rehack/PycharmProjects/solpro_backend/app/api/v1/endpoints/prop_firm.py", line 36, in create_propfirm_registration
    |     user_id=current_user.id,
    |             ^^^^^^^^^^^^^^^
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/orm/attributes.py", line 569, in __get__
    |     return self.impl.get(state, dict_)  # type: ignore[no-any-return]
    |            ~~~~~~~~~~~~~^^^^^^^^^^^^^^
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/orm/attributes.py", line 1096, in get
    |     value = self._fire_loader_callables(state, key, passive)
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/orm/attributes.py", line 1126, in _fire_loader_callables
    |     return state._load_expired(state, passive)
    |            ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/orm/state.py", line 803, in _load_expired
    |     self.manager.expired_attribute_loader(self, toload, passive)
    |     ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/orm/loading.py", line 1674, in load_scalar_attributes
    |     result = load_on_ident(
    |         session,
    |     ...<4 lines>...
    |         no_autoflush=no_autoflush,
    |     )
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/orm/loading.py", line 510, in load_on_ident
    |     return load_on_pk_identity(
    |         session,
    |     ...<11 lines>...
    |         is_user_refresh=is_user_refresh,
    |     )
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/orm/loading.py", line 695, in load_on_pk_identity
    |     session.execute(
    |     ~~~~~~~~~~~~~~~^
    |         q,
    |         ^^
    |     ...<2 lines>...
    |         bind_arguments=bind_arguments,
    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |     )
    |     ^
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlmodel/orm/session.py", line 144, in execute
    |     return super().execute(
    |            ~~~~~~~~~~~~~~~^
    |         statement,
    |         ^^^^^^^^^^
    |     ...<4 lines>...
    |         _add_event=_add_event,
    |         ^^^^^^^^^^^^^^^^^^^^^^
    |     )
    |     ^
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/orm/session.py", line 2351, in execute
    |     return self._execute_internal(
    |            ~~~~~~~~~~~~~~~~~~~~~~^
    |         statement,
    |         ^^^^^^^^^^
    |     ...<4 lines>...
    |         _add_event=_add_event,
    |         ^^^^^^^^^^^^^^^^^^^^^^
    |     )
    |     ^
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/orm/session.py", line 2249, in _execute_internal
    |     result: Result[Any] = compile_state_cls.orm_execute_statement(
    |                           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
    |         self,
    |         ^^^^^
    |     ...<4 lines>...
    |         conn,
    |         ^^^^^
    |     )
    |     ^
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/orm/context.py", line 306, in orm_execute_statement
    |     result = conn.execute(
    |         statement, params or {}, execution_options=execution_options
    |     )
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/engine/base.py", line 1419, in execute
    |     return meth(
    |         self,
    |         distilled_parameters,
    |         execution_options or NO_OPTIONS,
    |     )
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/sql/elements.py", line 526, in _execute_on_connection
    |     return connection._execute_clauseelement(
    |            ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
    |         self, distilled_params, execution_options
    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |     )
    |     ^
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/engine/base.py", line 1641, in _execute_clauseelement
    |     ret = self._execute_context(
    |         dialect,
    |     ...<8 lines>...
    |         cache_hit=cache_hit,
    |     )
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/engine/base.py", line 1846, in _execute_context
    |     return self._exec_single_context(
    |            ~~~~~~~~~~~~~~~~~~~~~~~~~^
    |         dialect, context, statement, parameters
    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |     )
    |     ^
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/engine/base.py", line 1986, in _exec_single_context
    |     self._handle_dbapi_exception(
    |     ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
    |         e, str_statement, effective_parameters, cursor, context
    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |     )
    |     ^
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/engine/base.py", line 2358, in _handle_dbapi_exception
    |     raise exc_info[1].with_traceback(exc_info[2])
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    |     self.dialect.do_execute(
    |     ~~~~~~~~~~~~~~~~~~~~~~~^
    |         cursor, str_statement, effective_parameters, context
    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |     )
    |     ^
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/engine/default.py", line 951, in do_execute
    |     cursor.execute(statement, parameters)
    |     ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 180, in execute
    |     self._adapt_connection._handle_exception(error)
    |     ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 340, in _handle_exception
    |     raise error
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 157, in execute
    |     _cursor: AsyncIODBAPICursor = self.await_(self._connection.cursor())  # type: ignore[arg-type] # noqa: E501
    |                                   ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 123, in await_only
    |     raise exc.MissingGreenlet(
    |     ...<2 lines>...
    |     )
    | sqlalchemy.exc.MissingGreenlet: greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place? (Background on this error at: https://sqlalche.me/e/20/xd2s)
    +------------------------------------

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/home/rehack/PycharmProjects/solpro_backend/app/main.py", line 65, in log_requests
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/base.py", line 168, in call_next
    raise app_exc from app_exc.__cause__ or app_exc.__context__
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/base.py", line 144, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/base.py", line 191, in __call__
    with recv_stream, send_stream, collapse_excgroups():
                                   ~~~~~~~~~~~~~~~~~~^^
  File "/home/rehack/anaconda3/lib/python3.13/contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    ~~~~~~~~~~~~~~^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/_utils.py", line 85, in collapse_excgroups
    raise exc
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/base.py", line 193, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/slowapi/middleware.py", line 136, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/base.py", line 168, in call_next
    raise app_exc from app_exc.__cause__ or app_exc.__context__
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/base.py", line 144, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/gzip.py", line 29, in __call__
    await responder(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/gzip.py", line 130, in __call__
    await super().__call__(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/gzip.py", line 46, in __call__
    await self.app(scope, receive, self.send_with_compression)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/trustedhost.py", line 36, in __call__
    await self.app(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/fastapi/routing.py", line 125, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/fastapi/routing.py", line 111, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/fastapi/routing.py", line 391, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/fastapi/routing.py", line 290, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rehack/PycharmProjects/solpro_backend/app/api/v1/endpoints/prop_firm.py", line 36, in create_propfirm_registration
    user_id=current_user.id,
            ^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/orm/attributes.py", line 569, in __get__
    return self.impl.get(state, dict_)  # type: ignore[no-any-return]
           ~~~~~~~~~~~~~^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/orm/attributes.py", line 1096, in get
    value = self._fire_loader_callables(state, key, passive)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/orm/attributes.py", line 1126, in _fire_loader_callables
    return state._load_expired(state, passive)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/orm/state.py", line 803, in _load_expired
    self.manager.expired_attribute_loader(self, toload, passive)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/orm/loading.py", line 1674, in load_scalar_attributes
    result = load_on_ident(
        session,
    ...<4 lines>...
        no_autoflush=no_autoflush,
    )
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/orm/loading.py", line 510, in load_on_ident
    return load_on_pk_identity(
        session,
    ...<11 lines>...
        is_user_refresh=is_user_refresh,
    )
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/orm/loading.py", line 695, in load_on_pk_identity
    session.execute(
    ~~~~~~~~~~~~~~~^
        q,
        ^^
    ...<2 lines>...
        bind_arguments=bind_arguments,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlmodel/orm/session.py", line 144, in execute
    return super().execute(
           ~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
    ...<4 lines>...
        _add_event=_add_event,
        ^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/orm/session.py", line 2351, in execute
    return self._execute_internal(
           ~~~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
    ...<4 lines>...
        _add_event=_add_event,
        ^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/orm/session.py", line 2249, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self,
        ^^^^^
    ...<4 lines>...
        conn,
        ^^^^^
    )
    ^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/orm/context.py", line 306, in orm_execute_statement
    result = conn.execute(
        statement, params or {}, execution_options=execution_options
    )
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/engine/base.py", line 1419, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/sql/elements.py", line 526, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/engine/base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
        dialect,
    ...<8 lines>...
        cache_hit=cache_hit,
    )
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/engine/base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ~~~~~~~~~~~~~~~~~~~~~~~~~^
        dialect, context, statement, parameters
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/engine/base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        e, str_statement, effective_parameters, cursor, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/engine/base.py", line 2358, in _handle_dbapi_exception
    raise exc_info[1].with_traceback(exc_info[2])
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/engine/default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 180, in execute
    self._adapt_connection._handle_exception(error)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 340, in _handle_exception
    raise error
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 157, in execute
    _cursor: AsyncIODBAPICursor = self.await_(self._connection.cursor())  # type: ignore[arg-type] # noqa: E501
                                  ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 123, in await_only
    raise exc.MissingGreenlet(
    ...<2 lines>...
    )
sqlalchemy.exc.MissingGreenlet: greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place? (Background on this error at: https://sqlalche.me/e/20/xd2s)

2026-01-15 11:11:27,079 - uvicorn.access - INFO - 127.0.0.1:33646 - "POST /api/v1/prop-firm HTTP/1.1" 500
2026-01-15 11:12:32,478 - uvicorn.error - INFO - Shutting down
2026-01-15 11:12:32,582 - uvicorn.error - INFO - Waiting for application shutdown.
2026-01-15 11:12:32,582 - app - INFO - Shutting down application...
2026-01-15 11:12:32,582 - uvicorn.error - INFO - Application shutdown complete.
2026-01-15 11:12:32,582 - uvicorn.error - INFO - Finished server process [208008]
2026-01-15 11:12:35,269 - uvicorn.error - INFO - Started server process [209031]
2026-01-15 11:12:35,270 - uvicorn.error - INFO - Waiting for application startup.
2026-01-15 11:12:35,271 - app - INFO - Starting up application...
2026-01-15 11:12:35,291 - uvicorn.error - INFO - Application startup complete.
2026-01-15 11:13:07,874 - app - INFO - Request: GET /api/v1/users/me - Status: 200 - Duration: 259.27ms
2026-01-15 11:13:07,877 - uvicorn.access - INFO - 127.0.0.1:58092 - "GET /api/v1/users/me HTTP/1.1" 200
2026-01-15 11:13:08,098 - app - ERROR - Request failed: POST /api/v1/prop-firm - Duration: 170.96ms - Error: 21 validation errors:
  {'type': 'get_attribute_error', 'loc': ('response', 'login_id'), 'msg': "Error extracting attribute: MissingGreenlet: greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place? (Background on this error at: https://sqlalche.me/e/20/xd2s)", 'input': PropFirmRegistration(), 'ctx': {'error': "MissingGreenlet: greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place? (Background on this error at: https://sqlalche.me/e/20/xd2s)"}}
  {'type': 'get_attribute_error', 'loc': ('response', 'password'), 'msg': "Error extracting attribute: MissingGreenlet: greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place? (Background on this error at: https://sqlalche.me/e/20/xd2s)", 'input': PropFirmRegistration(), 'ctx': {'error': "MissingGreenlet: greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place? (Background on this error at: https://sqlalche.me/e/20/xd2s)"}}
  {'type': 'get_attribute_error', 'loc': ('response', 'propfirm_name'), 'msg': "Error extracting attribute: MissingGreenlet: greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place? (Background on this error at: https://sqlalche.me/e/20/xd2s)", 'input': PropFirmRegistration(), 'ctx': {'error': "MissingGreenlet: greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place? (Background on this error at: https://sqlalche.me/e/20/xd2s)"}}
  {'type': 'get_attribute_error', 'loc': ('response', 'propfirm_website_link'), 'msg': "Error extracting attribute: MissingGreenlet: greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place? (Background on this error at: https://sqlalche.me/e/20/xd2s)", 'input': PropFirmRegistration(), 'ctx': {'error': "MissingGreenlet: greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place? (Background on this error at: https://sqlalche.me/e/20/xd2s)"}}
  {'type': 'get_attribute_error', 'loc': ('response', 'server_name'), 'msg': "Error extracting attribute: MissingGreenlet: greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place? (Background on this error at: https://sqlalche.me/e/20/xd2s)", 'input': PropFirmRegistration(), 'ctx': {'error': "MissingGreenlet: greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place? (Background on this error at: https://sqlalche.me/e/20/xd2s)"}}
  {'type': 'get_attribute_error', 'loc': ('response', 'server_type'), 'msg': "Error extracting attribute: MissingGreenlet: greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place? (Background on this error at: https://sqlalche.me/e/20/xd2s)", 'input': PropFirmRegistration(), 'ctx': {'error': "MissingGreenlet: greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place? (Background on this error at: https://sqlalche.me/e/20/xd2s)"}}
  {'type': 'get_attribute_error', 'loc': ('response', 'challenges_step'), 'msg': "Error extracting attribute: MissingGreenlet: greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place? (Background on this error at: https://sqlalche.me/e/20/xd2s)", 'input': PropFirmRegistration(), 'ctx': {'error': "MissingGreenlet: greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place? (Background on this error at: https://sqlalche.me/e/20/xd2s)"}}
  {'type': 'get_attribute_error', 'loc': ('response', 'propfirm_account_cost'), 'msg': "Error extracting attribute: MissingGreenlet: greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place? (Background on this error at: https://sqlalche.me/e/20/xd2s)", 'input': PropFirmRegistration(), 'ctx': {'error': "MissingGreenlet: greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place? (Background on this error at: https://sqlalche.me/e/20/xd2s)"}}
  {'type': 'get_attribute_error', 'loc': ('response', 'account_size'), 'msg': "Error extracting attribute: MissingGreenlet: greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place? (Background on this error at: https://sqlalche.me/e/20/xd2s)", 'input': PropFirmRegistration(), 'ctx': {'error': "MissingGreenlet: greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place? (Background on this error at: https://sqlalche.me/e/20/xd2s)"}}
  {'type': 'get_attribute_error', 'loc': ('response', 'account_phases'), 'msg': "Error extracting attribute: MissingGreenlet: greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place? (Background on this error at: https://sqlalche.me/e/20/xd2s)", 'input': PropFirmRegistration(), 'ctx': {'error': "MissingGreenlet: greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place? (Background on this error at: https://sqlalche.me/e/20/xd2s)"}}
  {'type': 'get_attribute_error', 'loc': ('response', 'trading_platform'), 'msg': "Error extracting attribute: MissingGreenlet: greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place? (Background on this error at: https://sqlalche.me/e/20/xd2s)", 'input': PropFirmRegistration(), 'ctx': {'error': "MissingGreenlet: greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place? (Background on this error at: https://sqlalche.me/e/20/xd2s)"}}
  {'type': 'get_attribute_error', 'loc': ('response', 'propfirm_rules'), 'msg': "Error extracting attribute: MissingGreenlet: greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place? (Background on this error at: https://sqlalche.me/e/20/xd2s)", 'input': PropFirmRegistration(), 'ctx': {'error': "MissingGreenlet: greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place? (Background on this error at: https://sqlalche.me/e/20/xd2s)"}}
  {'type': 'get_attribute_error', 'loc': ('response', 'whatsapp_no'), 'msg': "Error extracting attribute: MissingGreenlet: greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place? (Background on this error at: https://sqlalche.me/e/20/xd2s)", 'input': PropFirmRegistration(), 'ctx': {'error': "MissingGreenlet: greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place? (Background on this error at: https://sqlalche.me/e/20/xd2s)"}}
  {'type': 'get_attribute_error', 'loc': ('response', 'telegram_username'), 'msg': "Error extracting attribute: MissingGreenlet: greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place? (Background on this error at: https://sqlalche.me/e/20/xd2s)", 'input': PropFirmRegistration(), 'ctx': {'error': "MissingGreenlet: greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place? (Background on this error at: https://sqlalche.me/e/20/xd2s)"}}
  {'type': 'get_attribute_error', 'loc': ('response', 'account_status'), 'msg': "Error extracting attribute: MissingGreenlet: greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place? (Background on this error at: https://sqlalche.me/e/20/xd2s)", 'input': PropFirmRegistration(), 'ctx': {'error': "MissingGreenlet: greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place? (Background on this error at: https://sqlalche.me/e/20/xd2s)"}}
  {'type': 'get_attribute_error', 'loc': ('response', 'payment_status'), 'msg': "Error extracting attribute: MissingGreenlet: greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place? (Background on this error at: https://sqlalche.me/e/20/xd2s)", 'input': PropFirmRegistration(), 'ctx': {'error': "MissingGreenlet: greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place? (Background on this error at: https://sqlalche.me/e/20/xd2s)"}}
  {'type': 'get_attribute_error', 'loc': ('response', 'id'), 'msg': "Error extracting attribute: MissingGreenlet: greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place? (Background on this error at: https://sqlalche.me/e/20/xd2s)", 'input': PropFirmRegistration(), 'ctx': {'error': "MissingGreenlet: greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place? (Background on this error at: https://sqlalche.me/e/20/xd2s)"}}
  {'type': 'get_attribute_error', 'loc': ('response', 'user_id'), 'msg': "Error extracting attribute: MissingGreenlet: greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place? (Background on this error at: https://sqlalche.me/e/20/xd2s)", 'input': PropFirmRegistration(), 'ctx': {'error': "MissingGreenlet: greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place? (Background on this error at: https://sqlalche.me/e/20/xd2s)"}}
  {'type': 'get_attribute_error', 'loc': ('response', 'order_id'), 'msg': "Error extracting attribute: MissingGreenlet: greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place? (Background on this error at: https://sqlalche.me/e/20/xd2s)", 'input': PropFirmRegistration(), 'ctx': {'error': "MissingGreenlet: greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place? (Background on this error at: https://sqlalche.me/e/20/xd2s)"}}
  {'type': 'get_attribute_error', 'loc': ('response', 'created_at'), 'msg': "Error extracting attribute: MissingGreenlet: greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place? (Background on this error at: https://sqlalche.me/e/20/xd2s)", 'input': PropFirmRegistration(), 'ctx': {'error': "MissingGreenlet: greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place? (Background on this error at: https://sqlalche.me/e/20/xd2s)"}}
  {'type': 'get_attribute_error', 'loc': ('response', 'updated_at'), 'msg': "Error extracting attribute: MissingGreenlet: greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place? (Background on this error at: https://sqlalche.me/e/20/xd2s)", 'input': PropFirmRegistration(), 'ctx': {'error': "MissingGreenlet: greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place? (Background on this error at: https://sqlalche.me/e/20/xd2s)"}}

2026-01-15 11:13:08,143 - app - ERROR -   + Exception Group Traceback (most recent call last):
  |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/_utils.py", line 79, in collapse_excgroups
  |     yield
  |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/base.py", line 192, in __call__
  |     async with anyio.create_task_group() as task_group:
  |                ~~~~~~~~~~~~~~~~~~~~~~~^^
  |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/anyio/_backends/_asyncio.py", line 815, in __aexit__
  |     raise BaseExceptionGroup(
  |         "unhandled errors in a TaskGroup", self._exceptions
  |     )
  | ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)
  +-+---------------- 1 ----------------
    | Traceback (most recent call last):
    |   File "/home/rehack/PycharmProjects/solpro_backend/app/main.py", line 65, in log_requests
    |     response = await call_next(request)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/base.py", line 168, in call_next
    |     raise app_exc from app_exc.__cause__ or app_exc.__context__
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/base.py", line 144, in coro
    |     await self.app(scope, receive_or_disconnect, send_no_error)
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/base.py", line 191, in __call__
    |     with recv_stream, send_stream, collapse_excgroups():
    |                                    ~~~~~~~~~~~~~~~~~~^^
    |   File "/home/rehack/anaconda3/lib/python3.13/contextlib.py", line 162, in __exit__
    |     self.gen.throw(value)
    |     ~~~~~~~~~~~~~~^^^^^^^
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/_utils.py", line 85, in collapse_excgroups
    |     raise exc
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/base.py", line 193, in __call__
    |     response = await self.dispatch_func(request, call_next)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/slowapi/middleware.py", line 136, in dispatch
    |     response = await call_next(request)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/base.py", line 168, in call_next
    |     raise app_exc from app_exc.__cause__ or app_exc.__context__
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/base.py", line 144, in coro
    |     await self.app(scope, receive_or_disconnect, send_no_error)
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/gzip.py", line 29, in __call__
    |     await responder(scope, receive, send)
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/gzip.py", line 130, in __call__
    |     await super().__call__(scope, receive, send)
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/gzip.py", line 46, in __call__
    |     await self.app(scope, receive, self.send_with_compression)
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/trustedhost.py", line 36, in __call__
    |     await self.app(scope, receive, send)
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/cors.py", line 93, in __call__
    |     await self.simple_response(scope, receive, send, request_headers=headers)
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    |     await self.app(scope, receive, send)
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    |     await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    |     raise exc
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    |     await app(scope, receive, sender)
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    |     await self.app(scope, receive, send)
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/routing.py", line 716, in __call__
    |     await self.middleware_stack(scope, receive, send)
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/routing.py", line 736, in app
    |     await route.handle(scope, receive, send)
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/routing.py", line 290, in handle
    |     await self.app(scope, receive, send)
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/fastapi/routing.py", line 125, in app
    |     await wrap_app_handling_exceptions(app, request)(scope, receive, send)
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    |     raise exc
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    |     await app(scope, receive, sender)
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/fastapi/routing.py", line 111, in app
    |     response = await f(request)
    |                ^^^^^^^^^^^^^^^^
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/fastapi/routing.py", line 413, in app
    |     content = await serialize_response(
    |               ^^^^^^^^^^^^^^^^^^^^^^^^^
    |     ...<9 lines>...
    |     )
    |     ^
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/fastapi/routing.py", line 254, in serialize_response
    |     raise ResponseValidationError(
    |         errors=_normalize_errors(errors), body=response_content
    |     )
    | fastapi.exceptions.ResponseValidationError: 21 validation errors:
    |   {'type': 'get_attribute_error', 'loc': ('response', 'login_id'), 'msg': "Error extracting attribute: MissingGreenlet: greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place? (Background on this error at: https://sqlalche.me/e/20/xd2s)", 'input': PropFirmRegistration(), 'ctx': {'error': "MissingGreenlet: greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place? (Background on this error at: https://sqlalche.me/e/20/xd2s)"}}
    |   {'type': 'get_attribute_error', 'loc': ('response', 'password'), 'msg': "Error extracting attribute: MissingGreenlet: greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place? (Background on this error at: https://sqlalche.me/e/20/xd2s)", 'input': PropFirmRegistration(), 'ctx': {'error': "MissingGreenlet: greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place? (Background on this error at: https://sqlalche.me/e/20/xd2s)"}}
    |   {'type': 'get_attribute_error', 'loc': ('response', 'propfirm_name'), 'msg': "Error extracting attribute: MissingGreenlet: greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place? (Background on this error at: https://sqlalche.me/e/20/xd2s)", 'input': PropFirmRegistration(), 'ctx': {'error': "MissingGreenlet: greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place? (Background on this error at: https://sqlalche.me/e/20/xd2s)"}}
    |   {'type': 'get_attribute_error', 'loc': ('response', 'propfirm_website_link'), 'msg': "Error extracting attribute: MissingGreenlet: greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place? (Background on this error at: https://sqlalche.me/e/20/xd2s)", 'input': PropFirmRegistration(), 'ctx': {'error': "MissingGreenlet: greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place? (Background on this error at: https://sqlalche.me/e/20/xd2s)"}}
    |   {'type': 'get_attribute_error', 'loc': ('response', 'server_name'), 'msg': "Error extracting attribute: MissingGreenlet: greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place? (Background on this error at: https://sqlalche.me/e/20/xd2s)", 'input': PropFirmRegistration(), 'ctx': {'error': "MissingGreenlet: greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place? (Background on this error at: https://sqlalche.me/e/20/xd2s)"}}
    |   {'type': 'get_attribute_error', 'loc': ('response', 'server_type'), 'msg': "Error extracting attribute: MissingGreenlet: greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place? (Background on this error at: https://sqlalche.me/e/20/xd2s)", 'input': PropFirmRegistration(), 'ctx': {'error': "MissingGreenlet: greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place? (Background on this error at: https://sqlalche.me/e/20/xd2s)"}}
    |   {'type': 'get_attribute_error', 'loc': ('response', 'challenges_step'), 'msg': "Error extracting attribute: MissingGreenlet: greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place? (Background on this error at: https://sqlalche.me/e/20/xd2s)", 'input': PropFirmRegistration(), 'ctx': {'error': "MissingGreenlet: greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place? (Background on this error at: https://sqlalche.me/e/20/xd2s)"}}
    |   {'type': 'get_attribute_error', 'loc': ('response', 'propfirm_account_cost'), 'msg': "Error extracting attribute: MissingGreenlet: greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place? (Background on this error at: https://sqlalche.me/e/20/xd2s)", 'input': PropFirmRegistration(), 'ctx': {'error': "MissingGreenlet: greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place? (Background on this error at: https://sqlalche.me/e/20/xd2s)"}}
    |   {'type': 'get_attribute_error', 'loc': ('response', 'account_size'), 'msg': "Error extracting attribute: MissingGreenlet: greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place? (Background on this error at: https://sqlalche.me/e/20/xd2s)", 'input': PropFirmRegistration(), 'ctx': {'error': "MissingGreenlet: greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place? (Background on this error at: https://sqlalche.me/e/20/xd2s)"}}
    |   {'type': 'get_attribute_error', 'loc': ('response', 'account_phases'), 'msg': "Error extracting attribute: MissingGreenlet: greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place? (Background on this error at: https://sqlalche.me/e/20/xd2s)", 'input': PropFirmRegistration(), 'ctx': {'error': "MissingGreenlet: greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place? (Background on this error at: https://sqlalche.me/e/20/xd2s)"}}
    |   {'type': 'get_attribute_error', 'loc': ('response', 'trading_platform'), 'msg': "Error extracting attribute: MissingGreenlet: greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place? (Background on this error at: https://sqlalche.me/e/20/xd2s)", 'input': PropFirmRegistration(), 'ctx': {'error': "MissingGreenlet: greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place? (Background on this error at: https://sqlalche.me/e/20/xd2s)"}}
    |   {'type': 'get_attribute_error', 'loc': ('response', 'propfirm_rules'), 'msg': "Error extracting attribute: MissingGreenlet: greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place? (Background on this error at: https://sqlalche.me/e/20/xd2s)", 'input': PropFirmRegistration(), 'ctx': {'error': "MissingGreenlet: greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place? (Background on this error at: https://sqlalche.me/e/20/xd2s)"}}
    |   {'type': 'get_attribute_error', 'loc': ('response', 'whatsapp_no'), 'msg': "Error extracting attribute: MissingGreenlet: greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place? (Background on this error at: https://sqlalche.me/e/20/xd2s)", 'input': PropFirmRegistration(), 'ctx': {'error': "MissingGreenlet: greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place? (Background on this error at: https://sqlalche.me/e/20/xd2s)"}}
    |   {'type': 'get_attribute_error', 'loc': ('response', 'telegram_username'), 'msg': "Error extracting attribute: MissingGreenlet: greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place? (Background on this error at: https://sqlalche.me/e/20/xd2s)", 'input': PropFirmRegistration(), 'ctx': {'error': "MissingGreenlet: greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place? (Background on this error at: https://sqlalche.me/e/20/xd2s)"}}
    |   {'type': 'get_attribute_error', 'loc': ('response', 'account_status'), 'msg': "Error extracting attribute: MissingGreenlet: greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place? (Background on this error at: https://sqlalche.me/e/20/xd2s)", 'input': PropFirmRegistration(), 'ctx': {'error': "MissingGreenlet: greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place? (Background on this error at: https://sqlalche.me/e/20/xd2s)"}}
    |   {'type': 'get_attribute_error', 'loc': ('response', 'payment_status'), 'msg': "Error extracting attribute: MissingGreenlet: greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place? (Background on this error at: https://sqlalche.me/e/20/xd2s)", 'input': PropFirmRegistration(), 'ctx': {'error': "MissingGreenlet: greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place? (Background on this error at: https://sqlalche.me/e/20/xd2s)"}}
    |   {'type': 'get_attribute_error', 'loc': ('response', 'id'), 'msg': "Error extracting attribute: MissingGreenlet: greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place? (Background on this error at: https://sqlalche.me/e/20/xd2s)", 'input': PropFirmRegistration(), 'ctx': {'error': "MissingGreenlet: greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place? (Background on this error at: https://sqlalche.me/e/20/xd2s)"}}
    |   {'type': 'get_attribute_error', 'loc': ('response', 'user_id'), 'msg': "Error extracting attribute: MissingGreenlet: greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place? (Background on this error at: https://sqlalche.me/e/20/xd2s)", 'input': PropFirmRegistration(), 'ctx': {'error': "MissingGreenlet: greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place? (Background on this error at: https://sqlalche.me/e/20/xd2s)"}}
    |   {'type': 'get_attribute_error', 'loc': ('response', 'order_id'), 'msg': "Error extracting attribute: MissingGreenlet: greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place? (Background on this error at: https://sqlalche.me/e/20/xd2s)", 'input': PropFirmRegistration(), 'ctx': {'error': "MissingGreenlet: greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place? (Background on this error at: https://sqlalche.me/e/20/xd2s)"}}
    |   {'type': 'get_attribute_error', 'loc': ('response', 'created_at'), 'msg': "Error extracting attribute: MissingGreenlet: greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place? (Background on this error at: https://sqlalche.me/e/20/xd2s)", 'input': PropFirmRegistration(), 'ctx': {'error': "MissingGreenlet: greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place? (Background on this error at: https://sqlalche.me/e/20/xd2s)"}}
    |   {'type': 'get_attribute_error', 'loc': ('response', 'updated_at'), 'msg': "Error extracting attribute: MissingGreenlet: greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place? (Background on this error at: https://sqlalche.me/e/20/xd2s)", 'input': PropFirmRegistration(), 'ctx': {'error': "MissingGreenlet: greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place? (Background on this error at: https://sqlalche.me/e/20/xd2s)"}}
    | 
    +------------------------------------

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/home/rehack/PycharmProjects/solpro_backend/app/main.py", line 65, in log_requests
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/base.py", line 168, in call_next
    raise app_exc from app_exc.__cause__ or app_exc.__context__
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/base.py", line 144, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/base.py", line 191, in __call__
    with recv_stream, send_stream, collapse_excgroups():
                                   ~~~~~~~~~~~~~~~~~~^^
  File "/home/rehack/anaconda3/lib/python3.13/contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    ~~~~~~~~~~~~~~^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/_utils.py", line 85, in collapse_excgroups
    raise exc
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/base.py", line 193, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/slowapi/middleware.py", line 136, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/base.py", line 168, in call_next
    raise app_exc from app_exc.__cause__ or app_exc.__context__
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/base.py", line 144, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/gzip.py", line 29, in __call__
    await responder(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/gzip.py", line 130, in __call__
    await super().__call__(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/gzip.py", line 46, in __call__
    await self.app(scope, receive, self.send_with_compression)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/trustedhost.py", line 36, in __call__
    await self.app(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/fastapi/routing.py", line 125, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/fastapi/routing.py", line 111, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/fastapi/routing.py", line 413, in app
    content = await serialize_response(
              ^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<9 lines>...
    )
    ^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/fastapi/routing.py", line 254, in serialize_response
    raise ResponseValidationError(
        errors=_normalize_errors(errors), body=response_content
    )
fastapi.exceptions.ResponseValidationError: 21 validation errors:
  {'type': 'get_attribute_error', 'loc': ('response', 'login_id'), 'msg': "Error extracting attribute: MissingGreenlet: greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place? (Background on this error at: https://sqlalche.me/e/20/xd2s)", 'input': PropFirmRegistration(), 'ctx': {'error': "MissingGreenlet: greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place? (Background on this error at: https://sqlalche.me/e/20/xd2s)"}}
  {'type': 'get_attribute_error', 'loc': ('response', 'password'), 'msg': "Error extracting attribute: MissingGreenlet: greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place? (Background on this error at: https://sqlalche.me/e/20/xd2s)", 'input': PropFirmRegistration(), 'ctx': {'error': "MissingGreenlet: greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place? (Background on this error at: https://sqlalche.me/e/20/xd2s)"}}
  {'type': 'get_attribute_error', 'loc': ('response', 'propfirm_name'), 'msg': "Error extracting attribute: MissingGreenlet: greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place? (Background on this error at: https://sqlalche.me/e/20/xd2s)", 'input': PropFirmRegistration(), 'ctx': {'error': "MissingGreenlet: greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place? (Background on this error at: https://sqlalche.me/e/20/xd2s)"}}
  {'type': 'get_attribute_error', 'loc': ('response', 'propfirm_website_link'), 'msg': "Error extracting attribute: MissingGreenlet: greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place? (Background on this error at: https://sqlalche.me/e/20/xd2s)", 'input': PropFirmRegistration(), 'ctx': {'error': "MissingGreenlet: greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place? (Background on this error at: https://sqlalche.me/e/20/xd2s)"}}
  {'type': 'get_attribute_error', 'loc': ('response', 'server_name'), 'msg': "Error extracting attribute: MissingGreenlet: greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place? (Background on this error at: https://sqlalche.me/e/20/xd2s)", 'input': PropFirmRegistration(), 'ctx': {'error': "MissingGreenlet: greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place? (Background on this error at: https://sqlalche.me/e/20/xd2s)"}}
  {'type': 'get_attribute_error', 'loc': ('response', 'server_type'), 'msg': "Error extracting attribute: MissingGreenlet: greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place? (Background on this error at: https://sqlalche.me/e/20/xd2s)", 'input': PropFirmRegistration(), 'ctx': {'error': "MissingGreenlet: greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place? (Background on this error at: https://sqlalche.me/e/20/xd2s)"}}
  {'type': 'get_attribute_error', 'loc': ('response', 'challenges_step'), 'msg': "Error extracting attribute: MissingGreenlet: greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place? (Background on this error at: https://sqlalche.me/e/20/xd2s)", 'input': PropFirmRegistration(), 'ctx': {'error': "MissingGreenlet: greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place? (Background on this error at: https://sqlalche.me/e/20/xd2s)"}}
  {'type': 'get_attribute_error', 'loc': ('response', 'propfirm_account_cost'), 'msg': "Error extracting attribute: MissingGreenlet: greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place? (Background on this error at: https://sqlalche.me/e/20/xd2s)", 'input': PropFirmRegistration(), 'ctx': {'error': "MissingGreenlet: greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place? (Background on this error at: https://sqlalche.me/e/20/xd2s)"}}
  {'type': 'get_attribute_error', 'loc': ('response', 'account_size'), 'msg': "Error extracting attribute: MissingGreenlet: greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place? (Background on this error at: https://sqlalche.me/e/20/xd2s)", 'input': PropFirmRegistration(), 'ctx': {'error': "MissingGreenlet: greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place? (Background on this error at: https://sqlalche.me/e/20/xd2s)"}}
  {'type': 'get_attribute_error', 'loc': ('response', 'account_phases'), 'msg': "Error extracting attribute: MissingGreenlet: greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place? (Background on this error at: https://sqlalche.me/e/20/xd2s)", 'input': PropFirmRegistration(), 'ctx': {'error': "MissingGreenlet: greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place? (Background on this error at: https://sqlalche.me/e/20/xd2s)"}}
  {'type': 'get_attribute_error', 'loc': ('response', 'trading_platform'), 'msg': "Error extracting attribute: MissingGreenlet: greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place? (Background on this error at: https://sqlalche.me/e/20/xd2s)", 'input': PropFirmRegistration(), 'ctx': {'error': "MissingGreenlet: greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place? (Background on this error at: https://sqlalche.me/e/20/xd2s)"}}
  {'type': 'get_attribute_error', 'loc': ('response', 'propfirm_rules'), 'msg': "Error extracting attribute: MissingGreenlet: greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place? (Background on this error at: https://sqlalche.me/e/20/xd2s)", 'input': PropFirmRegistration(), 'ctx': {'error': "MissingGreenlet: greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place? (Background on this error at: https://sqlalche.me/e/20/xd2s)"}}
  {'type': 'get_attribute_error', 'loc': ('response', 'whatsapp_no'), 'msg': "Error extracting attribute: MissingGreenlet: greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place? (Background on this error at: https://sqlalche.me/e/20/xd2s)", 'input': PropFirmRegistration(), 'ctx': {'error': "MissingGreenlet: greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place? (Background on this error at: https://sqlalche.me/e/20/xd2s)"}}
  {'type': 'get_attribute_error', 'loc': ('response', 'telegram_username'), 'msg': "Error extracting attribute: MissingGreenlet: greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place? (Background on this error at: https://sqlalche.me/e/20/xd2s)", 'input': PropFirmRegistration(), 'ctx': {'error': "MissingGreenlet: greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place? (Background on this error at: https://sqlalche.me/e/20/xd2s)"}}
  {'type': 'get_attribute_error', 'loc': ('response', 'account_status'), 'msg': "Error extracting attribute: MissingGreenlet: greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place? (Background on this error at: https://sqlalche.me/e/20/xd2s)", 'input': PropFirmRegistration(), 'ctx': {'error': "MissingGreenlet: greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place? (Background on this error at: https://sqlalche.me/e/20/xd2s)"}}
  {'type': 'get_attribute_error', 'loc': ('response', 'payment_status'), 'msg': "Error extracting attribute: MissingGreenlet: greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place? (Background on this error at: https://sqlalche.me/e/20/xd2s)", 'input': PropFirmRegistration(), 'ctx': {'error': "MissingGreenlet: greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place? (Background on this error at: https://sqlalche.me/e/20/xd2s)"}}
  {'type': 'get_attribute_error', 'loc': ('response', 'id'), 'msg': "Error extracting attribute: MissingGreenlet: greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place? (Background on this error at: https://sqlalche.me/e/20/xd2s)", 'input': PropFirmRegistration(), 'ctx': {'error': "MissingGreenlet: greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place? (Background on this error at: https://sqlalche.me/e/20/xd2s)"}}
  {'type': 'get_attribute_error', 'loc': ('response', 'user_id'), 'msg': "Error extracting attribute: MissingGreenlet: greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place? (Background on this error at: https://sqlalche.me/e/20/xd2s)", 'input': PropFirmRegistration(), 'ctx': {'error': "MissingGreenlet: greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place? (Background on this error at: https://sqlalche.me/e/20/xd2s)"}}
  {'type': 'get_attribute_error', 'loc': ('response', 'order_id'), 'msg': "Error extracting attribute: MissingGreenlet: greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place? (Background on this error at: https://sqlalche.me/e/20/xd2s)", 'input': PropFirmRegistration(), 'ctx': {'error': "MissingGreenlet: greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place? (Background on this error at: https://sqlalche.me/e/20/xd2s)"}}
  {'type': 'get_attribute_error', 'loc': ('response', 'created_at'), 'msg': "Error extracting attribute: MissingGreenlet: greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place? (Background on this error at: https://sqlalche.me/e/20/xd2s)", 'input': PropFirmRegistration(), 'ctx': {'error': "MissingGreenlet: greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place? (Background on this error at: https://sqlalche.me/e/20/xd2s)"}}
  {'type': 'get_attribute_error', 'loc': ('response', 'updated_at'), 'msg': "Error extracting attribute: MissingGreenlet: greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place? (Background on this error at: https://sqlalche.me/e/20/xd2s)", 'input': PropFirmRegistration(), 'ctx': {'error': "MissingGreenlet: greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place? (Background on this error at: https://sqlalche.me/e/20/xd2s)"}}


2026-01-15 11:13:08,156 - uvicorn.access - INFO - 127.0.0.1:58102 - "POST /api/v1/prop-firm HTTP/1.1" 500
2026-01-15 11:13:09,763 - app - INFO - Request: GET /api/v1/users/me - Status: 200 - Duration: 16.93ms
2026-01-15 11:13:09,764 - uvicorn.access - INFO - 127.0.0.1:46956 - "GET /api/v1/users/me HTTP/1.1" 200
2026-01-15 11:13:10,301 - app - ERROR - Request failed: POST /api/v1/prop-firm - Duration: 507.38ms - Error: 21 validation errors:
  {'type': 'get_attribute_error', 'loc': ('response', 'login_id'), 'msg': "Error extracting attribute: MissingGreenlet: greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place? (Background on this error at: https://sqlalche.me/e/20/xd2s)", 'input': PropFirmRegistration(), 'ctx': {'error': "MissingGreenlet: greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place? (Background on this error at: https://sqlalche.me/e/20/xd2s)"}}
  {'type': 'get_attribute_error', 'loc': ('response', 'password'), 'msg': "Error extracting attribute: MissingGreenlet: greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place? (Background on this error at: https://sqlalche.me/e/20/xd2s)", 'input': PropFirmRegistration(), 'ctx': {'error': "MissingGreenlet: greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place? (Background on this error at: https://sqlalche.me/e/20/xd2s)"}}
  {'type': 'get_attribute_error', 'loc': ('response', 'propfirm_name'), 'msg': "Error extracting attribute: MissingGreenlet: greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place? (Background on this error at: https://sqlalche.me/e/20/xd2s)", 'input': PropFirmRegistration(), 'ctx': {'error': "MissingGreenlet: greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place? (Background on this error at: https://sqlalche.me/e/20/xd2s)"}}
  {'type': 'get_attribute_error', 'loc': ('response', 'propfirm_website_link'), 'msg': "Error extracting attribute: MissingGreenlet: greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place? (Background on this error at: https://sqlalche.me/e/20/xd2s)", 'input': PropFirmRegistration(), 'ctx': {'error': "MissingGreenlet: greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place? (Background on this error at: https://sqlalche.me/e/20/xd2s)"}}
  {'type': 'get_attribute_error', 'loc': ('response', 'server_name'), 'msg': "Error extracting attribute: MissingGreenlet: greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place? (Background on this error at: https://sqlalche.me/e/20/xd2s)", 'input': PropFirmRegistration(), 'ctx': {'error': "MissingGreenlet: greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place? (Background on this error at: https://sqlalche.me/e/20/xd2s)"}}
  {'type': 'get_attribute_error', 'loc': ('response', 'server_type'), 'msg': "Error extracting attribute: MissingGreenlet: greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place? (Background on this error at: https://sqlalche.me/e/20/xd2s)", 'input': PropFirmRegistration(), 'ctx': {'error': "MissingGreenlet: greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place? (Background on this error at: https://sqlalche.me/e/20/xd2s)"}}
  {'type': 'get_attribute_error', 'loc': ('response', 'challenges_step'), 'msg': "Error extracting attribute: MissingGreenlet: greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place? (Background on this error at: https://sqlalche.me/e/20/xd2s)", 'input': PropFirmRegistration(), 'ctx': {'error': "MissingGreenlet: greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place? (Background on this error at: https://sqlalche.me/e/20/xd2s)"}}
  {'type': 'get_attribute_error', 'loc': ('response', 'propfirm_account_cost'), 'msg': "Error extracting attribute: MissingGreenlet: greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place? (Background on this error at: https://sqlalche.me/e/20/xd2s)", 'input': PropFirmRegistration(), 'ctx': {'error': "MissingGreenlet: greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place? (Background on this error at: https://sqlalche.me/e/20/xd2s)"}}
  {'type': 'get_attribute_error', 'loc': ('response', 'account_size'), 'msg': "Error extracting attribute: MissingGreenlet: greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place? (Background on this error at: https://sqlalche.me/e/20/xd2s)", 'input': PropFirmRegistration(), 'ctx': {'error': "MissingGreenlet: greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place? (Background on this error at: https://sqlalche.me/e/20/xd2s)"}}
  {'type': 'get_attribute_error', 'loc': ('response', 'account_phases'), 'msg': "Error extracting attribute: MissingGreenlet: greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place? (Background on this error at: https://sqlalche.me/e/20/xd2s)", 'input': PropFirmRegistration(), 'ctx': {'error': "MissingGreenlet: greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place? (Background on this error at: https://sqlalche.me/e/20/xd2s)"}}
  {'type': 'get_attribute_error', 'loc': ('response', 'trading_platform'), 'msg': "Error extracting attribute: MissingGreenlet: greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place? (Background on this error at: https://sqlalche.me/e/20/xd2s)", 'input': PropFirmRegistration(), 'ctx': {'error': "MissingGreenlet: greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place? (Background on this error at: https://sqlalche.me/e/20/xd2s)"}}
  {'type': 'get_attribute_error', 'loc': ('response', 'propfirm_rules'), 'msg': "Error extracting attribute: MissingGreenlet: greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place? (Background on this error at: https://sqlalche.me/e/20/xd2s)", 'input': PropFirmRegistration(), 'ctx': {'error': "MissingGreenlet: greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place? (Background on this error at: https://sqlalche.me/e/20/xd2s)"}}
  {'type': 'get_attribute_error', 'loc': ('response', 'whatsapp_no'), 'msg': "Error extracting attribute: MissingGreenlet: greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place? (Background on this error at: https://sqlalche.me/e/20/xd2s)", 'input': PropFirmRegistration(), 'ctx': {'error': "MissingGreenlet: greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place? (Background on this error at: https://sqlalche.me/e/20/xd2s)"}}
  {'type': 'get_attribute_error', 'loc': ('response', 'telegram_username'), 'msg': "Error extracting attribute: MissingGreenlet: greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place? (Background on this error at: https://sqlalche.me/e/20/xd2s)", 'input': PropFirmRegistration(), 'ctx': {'error': "MissingGreenlet: greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place? (Background on this error at: https://sqlalche.me/e/20/xd2s)"}}
  {'type': 'get_attribute_error', 'loc': ('response', 'account_status'), 'msg': "Error extracting attribute: MissingGreenlet: greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place? (Background on this error at: https://sqlalche.me/e/20/xd2s)", 'input': PropFirmRegistration(), 'ctx': {'error': "MissingGreenlet: greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place? (Background on this error at: https://sqlalche.me/e/20/xd2s)"}}
  {'type': 'get_attribute_error', 'loc': ('response', 'payment_status'), 'msg': "Error extracting attribute: MissingGreenlet: greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place? (Background on this error at: https://sqlalche.me/e/20/xd2s)", 'input': PropFirmRegistration(), 'ctx': {'error': "MissingGreenlet: greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place? (Background on this error at: https://sqlalche.me/e/20/xd2s)"}}
  {'type': 'get_attribute_error', 'loc': ('response', 'id'), 'msg': "Error extracting attribute: MissingGreenlet: greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place? (Background on this error at: https://sqlalche.me/e/20/xd2s)", 'input': PropFirmRegistration(), 'ctx': {'error': "MissingGreenlet: greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place? (Background on this error at: https://sqlalche.me/e/20/xd2s)"}}
  {'type': 'get_attribute_error', 'loc': ('response', 'user_id'), 'msg': "Error extracting attribute: MissingGreenlet: greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place? (Background on this error at: https://sqlalche.me/e/20/xd2s)", 'input': PropFirmRegistration(), 'ctx': {'error': "MissingGreenlet: greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place? (Background on this error at: https://sqlalche.me/e/20/xd2s)"}}
  {'type': 'get_attribute_error', 'loc': ('response', 'order_id'), 'msg': "Error extracting attribute: MissingGreenlet: greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place? (Background on this error at: https://sqlalche.me/e/20/xd2s)", 'input': PropFirmRegistration(), 'ctx': {'error': "MissingGreenlet: greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place? (Background on this error at: https://sqlalche.me/e/20/xd2s)"}}
  {'type': 'get_attribute_error', 'loc': ('response', 'created_at'), 'msg': "Error extracting attribute: MissingGreenlet: greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place? (Background on this error at: https://sqlalche.me/e/20/xd2s)", 'input': PropFirmRegistration(), 'ctx': {'error': "MissingGreenlet: greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place? (Background on this error at: https://sqlalche.me/e/20/xd2s)"}}
  {'type': 'get_attribute_error', 'loc': ('response', 'updated_at'), 'msg': "Error extracting attribute: MissingGreenlet: greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place? (Background on this error at: https://sqlalche.me/e/20/xd2s)", 'input': PropFirmRegistration(), 'ctx': {'error': "MissingGreenlet: greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place? (Background on this error at: https://sqlalche.me/e/20/xd2s)"}}

2026-01-15 11:13:10,314 - app - ERROR -   + Exception Group Traceback (most recent call last):
  |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/_utils.py", line 79, in collapse_excgroups
  |     yield
  |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/base.py", line 192, in __call__
  |     async with anyio.create_task_group() as task_group:
  |                ~~~~~~~~~~~~~~~~~~~~~~~^^
  |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/anyio/_backends/_asyncio.py", line 815, in __aexit__
  |     raise BaseExceptionGroup(
  |         "unhandled errors in a TaskGroup", self._exceptions
  |     )
  | ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)
  +-+---------------- 1 ----------------
    | Traceback (most recent call last):
    |   File "/home/rehack/PycharmProjects/solpro_backend/app/main.py", line 65, in log_requests
    |     response = await call_next(request)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/base.py", line 168, in call_next
    |     raise app_exc from app_exc.__cause__ or app_exc.__context__
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/base.py", line 144, in coro
    |     await self.app(scope, receive_or_disconnect, send_no_error)
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/base.py", line 191, in __call__
    |     with recv_stream, send_stream, collapse_excgroups():
    |                                    ~~~~~~~~~~~~~~~~~~^^
    |   File "/home/rehack/anaconda3/lib/python3.13/contextlib.py", line 162, in __exit__
    |     self.gen.throw(value)
    |     ~~~~~~~~~~~~~~^^^^^^^
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/_utils.py", line 85, in collapse_excgroups
    |     raise exc
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/base.py", line 193, in __call__
    |     response = await self.dispatch_func(request, call_next)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/slowapi/middleware.py", line 136, in dispatch
    |     response = await call_next(request)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/base.py", line 168, in call_next
    |     raise app_exc from app_exc.__cause__ or app_exc.__context__
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/base.py", line 144, in coro
    |     await self.app(scope, receive_or_disconnect, send_no_error)
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/gzip.py", line 29, in __call__
    |     await responder(scope, receive, send)
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/gzip.py", line 130, in __call__
    |     await super().__call__(scope, receive, send)
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/gzip.py", line 46, in __call__
    |     await self.app(scope, receive, self.send_with_compression)
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/trustedhost.py", line 36, in __call__
    |     await self.app(scope, receive, send)
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/cors.py", line 93, in __call__
    |     await self.simple_response(scope, receive, send, request_headers=headers)
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    |     await self.app(scope, receive, send)
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    |     await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    |     raise exc
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    |     await app(scope, receive, sender)
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    |     await self.app(scope, receive, send)
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/routing.py", line 716, in __call__
    |     await self.middleware_stack(scope, receive, send)
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/routing.py", line 736, in app
    |     await route.handle(scope, receive, send)
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/routing.py", line 290, in handle
    |     await self.app(scope, receive, send)
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/fastapi/routing.py", line 125, in app
    |     await wrap_app_handling_exceptions(app, request)(scope, receive, send)
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    |     raise exc
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    |     await app(scope, receive, sender)
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/fastapi/routing.py", line 111, in app
    |     response = await f(request)
    |                ^^^^^^^^^^^^^^^^
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/fastapi/routing.py", line 413, in app
    |     content = await serialize_response(
    |               ^^^^^^^^^^^^^^^^^^^^^^^^^
    |     ...<9 lines>...
    |     )
    |     ^
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/fastapi/routing.py", line 254, in serialize_response
    |     raise ResponseValidationError(
    |         errors=_normalize_errors(errors), body=response_content
    |     )
    | fastapi.exceptions.ResponseValidationError: 21 validation errors:
    |   {'type': 'get_attribute_error', 'loc': ('response', 'login_id'), 'msg': "Error extracting attribute: MissingGreenlet: greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place? (Background on this error at: https://sqlalche.me/e/20/xd2s)", 'input': PropFirmRegistration(), 'ctx': {'error': "MissingGreenlet: greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place? (Background on this error at: https://sqlalche.me/e/20/xd2s)"}}
    |   {'type': 'get_attribute_error', 'loc': ('response', 'password'), 'msg': "Error extracting attribute: MissingGreenlet: greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place? (Background on this error at: https://sqlalche.me/e/20/xd2s)", 'input': PropFirmRegistration(), 'ctx': {'error': "MissingGreenlet: greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place? (Background on this error at: https://sqlalche.me/e/20/xd2s)"}}
    |   {'type': 'get_attribute_error', 'loc': ('response', 'propfirm_name'), 'msg': "Error extracting attribute: MissingGreenlet: greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place? (Background on this error at: https://sqlalche.me/e/20/xd2s)", 'input': PropFirmRegistration(), 'ctx': {'error': "MissingGreenlet: greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place? (Background on this error at: https://sqlalche.me/e/20/xd2s)"}}
    |   {'type': 'get_attribute_error', 'loc': ('response', 'propfirm_website_link'), 'msg': "Error extracting attribute: MissingGreenlet: greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place? (Background on this error at: https://sqlalche.me/e/20/xd2s)", 'input': PropFirmRegistration(), 'ctx': {'error': "MissingGreenlet: greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place? (Background on this error at: https://sqlalche.me/e/20/xd2s)"}}
    |   {'type': 'get_attribute_error', 'loc': ('response', 'server_name'), 'msg': "Error extracting attribute: MissingGreenlet: greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place? (Background on this error at: https://sqlalche.me/e/20/xd2s)", 'input': PropFirmRegistration(), 'ctx': {'error': "MissingGreenlet: greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place? (Background on this error at: https://sqlalche.me/e/20/xd2s)"}}
    |   {'type': 'get_attribute_error', 'loc': ('response', 'server_type'), 'msg': "Error extracting attribute: MissingGreenlet: greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place? (Background on this error at: https://sqlalche.me/e/20/xd2s)", 'input': PropFirmRegistration(), 'ctx': {'error': "MissingGreenlet: greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place? (Background on this error at: https://sqlalche.me/e/20/xd2s)"}}
    |   {'type': 'get_attribute_error', 'loc': ('response', 'challenges_step'), 'msg': "Error extracting attribute: MissingGreenlet: greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place? (Background on this error at: https://sqlalche.me/e/20/xd2s)", 'input': PropFirmRegistration(), 'ctx': {'error': "MissingGreenlet: greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place? (Background on this error at: https://sqlalche.me/e/20/xd2s)"}}
    |   {'type': 'get_attribute_error', 'loc': ('response', 'propfirm_account_cost'), 'msg': "Error extracting attribute: MissingGreenlet: greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place? (Background on this error at: https://sqlalche.me/e/20/xd2s)", 'input': PropFirmRegistration(), 'ctx': {'error': "MissingGreenlet: greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place? (Background on this error at: https://sqlalche.me/e/20/xd2s)"}}
    |   {'type': 'get_attribute_error', 'loc': ('response', 'account_size'), 'msg': "Error extracting attribute: MissingGreenlet: greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place? (Background on this error at: https://sqlalche.me/e/20/xd2s)", 'input': PropFirmRegistration(), 'ctx': {'error': "MissingGreenlet: greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place? (Background on this error at: https://sqlalche.me/e/20/xd2s)"}}
    |   {'type': 'get_attribute_error', 'loc': ('response', 'account_phases'), 'msg': "Error extracting attribute: MissingGreenlet: greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place? (Background on this error at: https://sqlalche.me/e/20/xd2s)", 'input': PropFirmRegistration(), 'ctx': {'error': "MissingGreenlet: greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place? (Background on this error at: https://sqlalche.me/e/20/xd2s)"}}
    |   {'type': 'get_attribute_error', 'loc': ('response', 'trading_platform'), 'msg': "Error extracting attribute: MissingGreenlet: greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place? (Background on this error at: https://sqlalche.me/e/20/xd2s)", 'input': PropFirmRegistration(), 'ctx': {'error': "MissingGreenlet: greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place? (Background on this error at: https://sqlalche.me/e/20/xd2s)"}}
    |   {'type': 'get_attribute_error', 'loc': ('response', 'propfirm_rules'), 'msg': "Error extracting attribute: MissingGreenlet: greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place? (Background on this error at: https://sqlalche.me/e/20/xd2s)", 'input': PropFirmRegistration(), 'ctx': {'error': "MissingGreenlet: greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place? (Background on this error at: https://sqlalche.me/e/20/xd2s)"}}
    |   {'type': 'get_attribute_error', 'loc': ('response', 'whatsapp_no'), 'msg': "Error extracting attribute: MissingGreenlet: greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place? (Background on this error at: https://sqlalche.me/e/20/xd2s)", 'input': PropFirmRegistration(), 'ctx': {'error': "MissingGreenlet: greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place? (Background on this error at: https://sqlalche.me/e/20/xd2s)"}}
    |   {'type': 'get_attribute_error', 'loc': ('response', 'telegram_username'), 'msg': "Error extracting attribute: MissingGreenlet: greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place? (Background on this error at: https://sqlalche.me/e/20/xd2s)", 'input': PropFirmRegistration(), 'ctx': {'error': "MissingGreenlet: greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place? (Background on this error at: https://sqlalche.me/e/20/xd2s)"}}
    |   {'type': 'get_attribute_error', 'loc': ('response', 'account_status'), 'msg': "Error extracting attribute: MissingGreenlet: greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place? (Background on this error at: https://sqlalche.me/e/20/xd2s)", 'input': PropFirmRegistration(), 'ctx': {'error': "MissingGreenlet: greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place? (Background on this error at: https://sqlalche.me/e/20/xd2s)"}}
    |   {'type': 'get_attribute_error', 'loc': ('response', 'payment_status'), 'msg': "Error extracting attribute: MissingGreenlet: greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place? (Background on this error at: https://sqlalche.me/e/20/xd2s)", 'input': PropFirmRegistration(), 'ctx': {'error': "MissingGreenlet: greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place? (Background on this error at: https://sqlalche.me/e/20/xd2s)"}}
    |   {'type': 'get_attribute_error', 'loc': ('response', 'id'), 'msg': "Error extracting attribute: MissingGreenlet: greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place? (Background on this error at: https://sqlalche.me/e/20/xd2s)", 'input': PropFirmRegistration(), 'ctx': {'error': "MissingGreenlet: greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place? (Background on this error at: https://sqlalche.me/e/20/xd2s)"}}
    |   {'type': 'get_attribute_error', 'loc': ('response', 'user_id'), 'msg': "Error extracting attribute: MissingGreenlet: greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place? (Background on this error at: https://sqlalche.me/e/20/xd2s)", 'input': PropFirmRegistration(), 'ctx': {'error': "MissingGreenlet: greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place? (Background on this error at: https://sqlalche.me/e/20/xd2s)"}}
    |   {'type': 'get_attribute_error', 'loc': ('response', 'order_id'), 'msg': "Error extracting attribute: MissingGreenlet: greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place? (Background on this error at: https://sqlalche.me/e/20/xd2s)", 'input': PropFirmRegistration(), 'ctx': {'error': "MissingGreenlet: greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place? (Background on this error at: https://sqlalche.me/e/20/xd2s)"}}
    |   {'type': 'get_attribute_error', 'loc': ('response', 'created_at'), 'msg': "Error extracting attribute: MissingGreenlet: greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place? (Background on this error at: https://sqlalche.me/e/20/xd2s)", 'input': PropFirmRegistration(), 'ctx': {'error': "MissingGreenlet: greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place? (Background on this error at: https://sqlalche.me/e/20/xd2s)"}}
    |   {'type': 'get_attribute_error', 'loc': ('response', 'updated_at'), 'msg': "Error extracting attribute: MissingGreenlet: greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place? (Background on this error at: https://sqlalche.me/e/20/xd2s)", 'input': PropFirmRegistration(), 'ctx': {'error': "MissingGreenlet: greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place? (Background on this error at: https://sqlalche.me/e/20/xd2s)"}}
    | 
    +------------------------------------

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/home/rehack/PycharmProjects/solpro_backend/app/main.py", line 65, in log_requests
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/base.py", line 168, in call_next
    raise app_exc from app_exc.__cause__ or app_exc.__context__
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/base.py", line 144, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/base.py", line 191, in __call__
    with recv_stream, send_stream, collapse_excgroups():
                                   ~~~~~~~~~~~~~~~~~~^^
  File "/home/rehack/anaconda3/lib/python3.13/contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    ~~~~~~~~~~~~~~^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/_utils.py", line 85, in collapse_excgroups
    raise exc
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/base.py", line 193, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/slowapi/middleware.py", line 136, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/base.py", line 168, in call_next
    raise app_exc from app_exc.__cause__ or app_exc.__context__
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/base.py", line 144, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/gzip.py", line 29, in __call__
    await responder(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/gzip.py", line 130, in __call__
    await super().__call__(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/gzip.py", line 46, in __call__
    await self.app(scope, receive, self.send_with_compression)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/trustedhost.py", line 36, in __call__
    await self.app(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/fastapi/routing.py", line 125, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/fastapi/routing.py", line 111, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/fastapi/routing.py", line 413, in app
    content = await serialize_response(
              ^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<9 lines>...
    )
    ^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/fastapi/routing.py", line 254, in serialize_response
    raise ResponseValidationError(
        errors=_normalize_errors(errors), body=response_content
    )
fastapi.exceptions.ResponseValidationError: 21 validation errors:
  {'type': 'get_attribute_error', 'loc': ('response', 'login_id'), 'msg': "Error extracting attribute: MissingGreenlet: greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place? (Background on this error at: https://sqlalche.me/e/20/xd2s)", 'input': PropFirmRegistration(), 'ctx': {'error': "MissingGreenlet: greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place? (Background on this error at: https://sqlalche.me/e/20/xd2s)"}}
  {'type': 'get_attribute_error', 'loc': ('response', 'password'), 'msg': "Error extracting attribute: MissingGreenlet: greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place? (Background on this error at: https://sqlalche.me/e/20/xd2s)", 'input': PropFirmRegistration(), 'ctx': {'error': "MissingGreenlet: greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place? (Background on this error at: https://sqlalche.me/e/20/xd2s)"}}
  {'type': 'get_attribute_error', 'loc': ('response', 'propfirm_name'), 'msg': "Error extracting attribute: MissingGreenlet: greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place? (Background on this error at: https://sqlalche.me/e/20/xd2s)", 'input': PropFirmRegistration(), 'ctx': {'error': "MissingGreenlet: greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place? (Background on this error at: https://sqlalche.me/e/20/xd2s)"}}
  {'type': 'get_attribute_error', 'loc': ('response', 'propfirm_website_link'), 'msg': "Error extracting attribute: MissingGreenlet: greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place? (Background on this error at: https://sqlalche.me/e/20/xd2s)", 'input': PropFirmRegistration(), 'ctx': {'error': "MissingGreenlet: greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place? (Background on this error at: https://sqlalche.me/e/20/xd2s)"}}
  {'type': 'get_attribute_error', 'loc': ('response', 'server_name'), 'msg': "Error extracting attribute: MissingGreenlet: greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place? (Background on this error at: https://sqlalche.me/e/20/xd2s)", 'input': PropFirmRegistration(), 'ctx': {'error': "MissingGreenlet: greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place? (Background on this error at: https://sqlalche.me/e/20/xd2s)"}}
  {'type': 'get_attribute_error', 'loc': ('response', 'server_type'), 'msg': "Error extracting attribute: MissingGreenlet: greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place? (Background on this error at: https://sqlalche.me/e/20/xd2s)", 'input': PropFirmRegistration(), 'ctx': {'error': "MissingGreenlet: greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place? (Background on this error at: https://sqlalche.me/e/20/xd2s)"}}
  {'type': 'get_attribute_error', 'loc': ('response', 'challenges_step'), 'msg': "Error extracting attribute: MissingGreenlet: greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place? (Background on this error at: https://sqlalche.me/e/20/xd2s)", 'input': PropFirmRegistration(), 'ctx': {'error': "MissingGreenlet: greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place? (Background on this error at: https://sqlalche.me/e/20/xd2s)"}}
  {'type': 'get_attribute_error', 'loc': ('response', 'propfirm_account_cost'), 'msg': "Error extracting attribute: MissingGreenlet: greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place? (Background on this error at: https://sqlalche.me/e/20/xd2s)", 'input': PropFirmRegistration(), 'ctx': {'error': "MissingGreenlet: greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place? (Background on this error at: https://sqlalche.me/e/20/xd2s)"}}
  {'type': 'get_attribute_error', 'loc': ('response', 'account_size'), 'msg': "Error extracting attribute: MissingGreenlet: greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place? (Background on this error at: https://sqlalche.me/e/20/xd2s)", 'input': PropFirmRegistration(), 'ctx': {'error': "MissingGreenlet: greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place? (Background on this error at: https://sqlalche.me/e/20/xd2s)"}}
  {'type': 'get_attribute_error', 'loc': ('response', 'account_phases'), 'msg': "Error extracting attribute: MissingGreenlet: greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place? (Background on this error at: https://sqlalche.me/e/20/xd2s)", 'input': PropFirmRegistration(), 'ctx': {'error': "MissingGreenlet: greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place? (Background on this error at: https://sqlalche.me/e/20/xd2s)"}}
  {'type': 'get_attribute_error', 'loc': ('response', 'trading_platform'), 'msg': "Error extracting attribute: MissingGreenlet: greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place? (Background on this error at: https://sqlalche.me/e/20/xd2s)", 'input': PropFirmRegistration(), 'ctx': {'error': "MissingGreenlet: greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place? (Background on this error at: https://sqlalche.me/e/20/xd2s)"}}
  {'type': 'get_attribute_error', 'loc': ('response', 'propfirm_rules'), 'msg': "Error extracting attribute: MissingGreenlet: greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place? (Background on this error at: https://sqlalche.me/e/20/xd2s)", 'input': PropFirmRegistration(), 'ctx': {'error': "MissingGreenlet: greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place? (Background on this error at: https://sqlalche.me/e/20/xd2s)"}}
  {'type': 'get_attribute_error', 'loc': ('response', 'whatsapp_no'), 'msg': "Error extracting attribute: MissingGreenlet: greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place? (Background on this error at: https://sqlalche.me/e/20/xd2s)", 'input': PropFirmRegistration(), 'ctx': {'error': "MissingGreenlet: greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place? (Background on this error at: https://sqlalche.me/e/20/xd2s)"}}
  {'type': 'get_attribute_error', 'loc': ('response', 'telegram_username'), 'msg': "Error extracting attribute: MissingGreenlet: greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place? (Background on this error at: https://sqlalche.me/e/20/xd2s)", 'input': PropFirmRegistration(), 'ctx': {'error': "MissingGreenlet: greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place? (Background on this error at: https://sqlalche.me/e/20/xd2s)"}}
  {'type': 'get_attribute_error', 'loc': ('response', 'account_status'), 'msg': "Error extracting attribute: MissingGreenlet: greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place? (Background on this error at: https://sqlalche.me/e/20/xd2s)", 'input': PropFirmRegistration(), 'ctx': {'error': "MissingGreenlet: greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place? (Background on this error at: https://sqlalche.me/e/20/xd2s)"}}
  {'type': 'get_attribute_error', 'loc': ('response', 'payment_status'), 'msg': "Error extracting attribute: MissingGreenlet: greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place? (Background on this error at: https://sqlalche.me/e/20/xd2s)", 'input': PropFirmRegistration(), 'ctx': {'error': "MissingGreenlet: greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place? (Background on this error at: https://sqlalche.me/e/20/xd2s)"}}
  {'type': 'get_attribute_error', 'loc': ('response', 'id'), 'msg': "Error extracting attribute: MissingGreenlet: greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place? (Background on this error at: https://sqlalche.me/e/20/xd2s)", 'input': PropFirmRegistration(), 'ctx': {'error': "MissingGreenlet: greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place? (Background on this error at: https://sqlalche.me/e/20/xd2s)"}}
  {'type': 'get_attribute_error', 'loc': ('response', 'user_id'), 'msg': "Error extracting attribute: MissingGreenlet: greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place? (Background on this error at: https://sqlalche.me/e/20/xd2s)", 'input': PropFirmRegistration(), 'ctx': {'error': "MissingGreenlet: greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place? (Background on this error at: https://sqlalche.me/e/20/xd2s)"}}
  {'type': 'get_attribute_error', 'loc': ('response', 'order_id'), 'msg': "Error extracting attribute: MissingGreenlet: greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place? (Background on this error at: https://sqlalche.me/e/20/xd2s)", 'input': PropFirmRegistration(), 'ctx': {'error': "MissingGreenlet: greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place? (Background on this error at: https://sqlalche.me/e/20/xd2s)"}}
  {'type': 'get_attribute_error', 'loc': ('response', 'created_at'), 'msg': "Error extracting attribute: MissingGreenlet: greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place? (Background on this error at: https://sqlalche.me/e/20/xd2s)", 'input': PropFirmRegistration(), 'ctx': {'error': "MissingGreenlet: greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place? (Background on this error at: https://sqlalche.me/e/20/xd2s)"}}
  {'type': 'get_attribute_error', 'loc': ('response', 'updated_at'), 'msg': "Error extracting attribute: MissingGreenlet: greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place? (Background on this error at: https://sqlalche.me/e/20/xd2s)", 'input': PropFirmRegistration(), 'ctx': {'error': "MissingGreenlet: greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place? (Background on this error at: https://sqlalche.me/e/20/xd2s)"}}


2026-01-15 11:13:10,328 - uvicorn.access - INFO - 127.0.0.1:46964 - "POST /api/v1/prop-firm HTTP/1.1" 500
2026-01-15 11:15:07,293 - uvicorn.error - INFO - Shutting down
2026-01-15 11:15:07,395 - uvicorn.error - INFO - Waiting for application shutdown.
2026-01-15 11:15:07,396 - app - INFO - Shutting down application...
2026-01-15 11:15:07,396 - uvicorn.error - INFO - Application shutdown complete.
2026-01-15 11:15:07,397 - uvicorn.error - INFO - Finished server process [209031]
2026-01-15 11:15:09,127 - uvicorn.error - INFO - Started server process [211174]
2026-01-15 11:15:09,128 - uvicorn.error - INFO - Waiting for application startup.
2026-01-15 11:15:09,128 - app - INFO - Starting up application...
2026-01-15 11:15:09,137 - uvicorn.error - INFO - Application startup complete.
2026-01-15 11:16:54,149 - uvicorn.error - INFO - Shutting down
2026-01-15 11:16:54,252 - uvicorn.error - INFO - Waiting for application shutdown.
2026-01-15 11:16:54,254 - app - INFO - Shutting down application...
2026-01-15 11:16:54,255 - uvicorn.error - INFO - Application shutdown complete.
2026-01-15 11:16:54,256 - uvicorn.error - INFO - Finished server process [211174]
2026-01-15 11:16:57,232 - uvicorn.error - INFO - Started server process [213437]
2026-01-15 11:16:57,233 - uvicorn.error - INFO - Waiting for application startup.
2026-01-15 11:16:57,233 - app - INFO - Starting up application...
2026-01-15 11:16:57,271 - uvicorn.error - INFO - Application startup complete.
2026-01-15 11:17:32,155 - app - INFO - Request: GET /api/v1/users/me - Status: 200 - Duration: 65.83ms
2026-01-15 11:17:32,155 - uvicorn.access - INFO - 127.0.0.1:52744 - "GET /api/v1/users/me HTTP/1.1" 200
2026-01-15 11:17:32,221 - app - INFO - Request: POST /api/v1/prop-firm - Status: 200 - Duration: 41.95ms
2026-01-15 11:17:32,221 - uvicorn.access - INFO - 127.0.0.1:52756 - "POST /api/v1/prop-firm HTTP/1.1" 200
2026-01-15 11:17:32,224 - uvicorn.error - ERROR - Exception in ASGI application
Traceback (most recent call last):
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/uvicorn/protocols/http/httptools_impl.py", line 409, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        self.scope, self.receive, self.send
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/fastapi/applications.py", line 1134, in __call__
    await super().__call__(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/applications.py", line 113, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/errors.py", line 186, in __call__
    raise exc
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/base.py", line 198, in __call__
    raise app_exc
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/base.py", line 144, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/base.py", line 198, in __call__
    raise app_exc
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/base.py", line 144, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/gzip.py", line 29, in __call__
    await responder(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/gzip.py", line 130, in __call__
    await super().__call__(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/gzip.py", line 46, in __call__
    await self.app(scope, receive, self.send_with_compression)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/trustedhost.py", line 36, in __call__
    await self.app(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/fastapi/routing.py", line 125, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/fastapi/routing.py", line 112, in app
    await response(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/responses.py", line 167, in __call__
    await self.background()
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/background.py", line 42, in __call__
    await task()
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/background.py", line 27, in __call__
    await self.func(*self.args, **self.kwargs)
  File "/home/rehack/PycharmProjects/solpro_backend/app/api/v1/endpoints/prop_firm.py", line 17, in create_registration_notification
    from app.db.session import async_session_maker
ImportError: cannot import name 'async_session_maker' from 'app.db.session' (/home/rehack/PycharmProjects/solpro_backend/app/db/session.py)
2026-01-15 11:17:37,483 - app - ERROR - Request failed: POST /api/v1/crypto-payments/payment - Duration: 5234.37ms - Error: 
2026-01-15 11:17:37,498 - app - ERROR - Traceback (most recent call last):
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/httpx/_transports/default.py", line 101, in map_httpcore_exceptions
    yield
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/httpx/_transports/default.py", line 394, in handle_async_request
    resp = await self._pool.handle_async_request(req)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/httpcore/_async/connection_pool.py", line 256, in handle_async_request
    raise exc from None
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/httpcore/_async/connection_pool.py", line 236, in handle_async_request
    response = await connection.handle_async_request(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        pool_request.request
        ^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/httpcore/_async/connection.py", line 101, in handle_async_request
    raise exc
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/httpcore/_async/connection.py", line 78, in handle_async_request
    stream = await self._connect(request)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/httpcore/_async/connection.py", line 124, in _connect
    stream = await self._network_backend.connect_tcp(**kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/httpcore/_backends/auto.py", line 31, in connect_tcp
    return await self._backend.connect_tcp(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<5 lines>...
    )
    ^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/httpcore/_backends/anyio.py", line 113, in connect_tcp
    with map_exceptions(exc_map):
         ~~~~~~~~~~~~~~^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    ~~~~~~~~~~~~~~^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/httpcore/_exceptions.py", line 14, in map_exceptions
    raise to_exc(exc) from exc
httpcore.ConnectTimeout

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/home/rehack/PycharmProjects/solpro_backend/app/main.py", line 65, in log_requests
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/base.py", line 168, in call_next
    raise app_exc from app_exc.__cause__ or app_exc.__context__
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/base.py", line 144, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/base.py", line 191, in __call__
    with recv_stream, send_stream, collapse_excgroups():
                                   ~~~~~~~~~~~~~~~~~~^^
  File "/home/rehack/anaconda3/lib/python3.13/contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    ~~~~~~~~~~~~~~^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/_utils.py", line 85, in collapse_excgroups
    raise exc
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/base.py", line 193, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/slowapi/middleware.py", line 136, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/base.py", line 168, in call_next
    raise app_exc from app_exc.__cause__ or app_exc.__context__
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/base.py", line 144, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/gzip.py", line 29, in __call__
    await responder(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/gzip.py", line 130, in __call__
    await super().__call__(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/gzip.py", line 46, in __call__
    await self.app(scope, receive, self.send_with_compression)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/trustedhost.py", line 36, in __call__
    await self.app(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/fastapi/routing.py", line 125, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/fastapi/routing.py", line 111, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/fastapi/routing.py", line 391, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/fastapi/routing.py", line 290, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rehack/PycharmProjects/solpro_backend/app/api/v1/endpoints/crypto_payments.py", line 93, in create_payment
    return await service.create_payment(payment_data, current_user.id)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rehack/PycharmProjects/solpro_backend/app/service/nowpayments_service.py", line 147, in create_payment
    response = await client.post(
               ^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/httpx/_client.py", line 1859, in post
    return await self.request(
           ^^^^^^^^^^^^^^^^^^^
    ...<13 lines>...
    )
    ^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/httpx/_client.py", line 1540, in request
    return await self.send(request, auth=auth, follow_redirects=follow_redirects)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/httpx/_client.py", line 1629, in send
    response = await self._send_handling_auth(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<4 lines>...
    )
    ^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/httpx/_client.py", line 1657, in _send_handling_auth
    response = await self._send_handling_redirects(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/httpx/_client.py", line 1694, in _send_handling_redirects
    response = await self._send_single_request(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/httpx/_client.py", line 1730, in _send_single_request
    response = await transport.handle_async_request(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/httpx/_transports/default.py", line 393, in handle_async_request
    with map_httpcore_exceptions():
         ~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/home/rehack/anaconda3/lib/python3.13/contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    ~~~~~~~~~~~~~~^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/httpx/_transports/default.py", line 118, in map_httpcore_exceptions
    raise mapped_exc(message) from exc
httpx.ConnectTimeout

2026-01-15 11:17:37,498 - uvicorn.access - INFO - 127.0.0.1:52770 - "POST /api/v1/crypto-payments/payment HTTP/1.1" 500
2026-01-15 11:19:01,844 - app - INFO - Request: GET /api/v1/users/me - Status: 200 - Duration: 36.86ms
2026-01-15 11:19:01,846 - uvicorn.access - INFO - 127.0.0.1:39810 - "GET /api/v1/users/me HTTP/1.1" 200
2026-01-15 11:19:01,976 - app - INFO - Request: POST /api/v1/prop-firm - Status: 200 - Duration: 73.55ms
2026-01-15 11:19:01,977 - uvicorn.access - INFO - 127.0.0.1:39820 - "POST /api/v1/prop-firm HTTP/1.1" 200
2026-01-15 11:19:01,983 - uvicorn.error - ERROR - Exception in ASGI application
Traceback (most recent call last):
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/uvicorn/protocols/http/httptools_impl.py", line 409, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        self.scope, self.receive, self.send
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/fastapi/applications.py", line 1134, in __call__
    await super().__call__(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/applications.py", line 113, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/errors.py", line 186, in __call__
    raise exc
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/base.py", line 198, in __call__
    raise app_exc
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/base.py", line 144, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/base.py", line 198, in __call__
    raise app_exc
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/base.py", line 144, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/gzip.py", line 29, in __call__
    await responder(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/gzip.py", line 130, in __call__
    await super().__call__(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/gzip.py", line 46, in __call__
    await self.app(scope, receive, self.send_with_compression)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/trustedhost.py", line 36, in __call__
    await self.app(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/fastapi/routing.py", line 125, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/fastapi/routing.py", line 112, in app
    await response(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/responses.py", line 167, in __call__
    await self.background()
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/background.py", line 42, in __call__
    await task()
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/background.py", line 27, in __call__
    await self.func(*self.args, **self.kwargs)
  File "/home/rehack/PycharmProjects/solpro_backend/app/api/v1/endpoints/prop_firm.py", line 17, in create_registration_notification
    from app.db.session import async_session_maker
ImportError: cannot import name 'async_session_maker' from 'app.db.session' (/home/rehack/PycharmProjects/solpro_backend/app/db/session.py)
2026-01-15 11:19:05,169 - app - INFO - Request: POST /api/v1/crypto-payments/payment - Status: 200 - Duration: 3144.23ms
2026-01-15 11:19:05,171 - uvicorn.access - INFO - 127.0.0.1:39832 - "POST /api/v1/crypto-payments/payment HTTP/1.1" 200
2026-01-15 11:19:17,792 - app - INFO - Request: GET /api/v1/crypto-payments/payment/4447228163/status - Status: 200 - Duration: 570.38ms
2026-01-15 11:19:17,795 - uvicorn.access - INFO - 127.0.0.1:57588 - "GET /api/v1/crypto-payments/payment/4447228163/status HTTP/1.1" 200
2026-01-15 11:19:29,173 - app - INFO - Request: GET /api/v1/users/me - Status: 200 - Duration: 74.65ms
2026-01-15 11:19:29,173 - uvicorn.access - INFO - 127.0.0.1:45042 - "GET /api/v1/users/me HTTP/1.1" 200
2026-01-15 11:19:29,297 - app - INFO - Request: GET /api/v1/users/me - Status: 200 - Duration: 47.45ms
2026-01-15 11:19:29,298 - uvicorn.access - INFO - 127.0.0.1:45050 - "GET /api/v1/users/me HTTP/1.1" 200
2026-01-15 11:19:29,326 - app - INFO - Request: GET /api/v1/prop-firm - Status: 200 - Duration: 51.07ms
2026-01-15 11:19:29,327 - uvicorn.access - INFO - 127.0.0.1:45066 - "GET /api/v1/prop-firm HTTP/1.1" 200
2026-01-15 11:19:29,389 - app - INFO - Request: GET /api/v1/prop-firm - Status: 200 - Duration: 33.08ms
2026-01-15 11:19:29,393 - uvicorn.access - INFO - 127.0.0.1:45078 - "GET /api/v1/prop-firm HTTP/1.1" 200
2026-01-15 11:19:32,651 - app - INFO - Request: GET /api/v1/prop-firm - Status: 200 - Duration: 20.21ms
2026-01-15 11:19:32,652 - uvicorn.access - INFO - 127.0.0.1:45086 - "GET /api/v1/prop-firm?status=passed HTTP/1.1" 200
2026-01-15 11:19:32,720 - app - INFO - Request: GET /api/v1/prop-firm - Status: 200 - Duration: 34.55ms
2026-01-15 11:19:32,721 - uvicorn.access - INFO - 127.0.0.1:45092 - "GET /api/v1/prop-firm?status=passed HTTP/1.1" 200
2026-01-15 11:19:33,648 - app - INFO - Request: GET /api/v1/notifications/my-notifications - Status: 200 - Duration: 44.85ms
2026-01-15 11:19:33,648 - uvicorn.access - INFO - 127.0.0.1:45108 - "GET /api/v1/notifications/my-notifications HTTP/1.1" 200
2026-01-15 11:19:33,749 - app - INFO - Request: GET /api/v1/notifications/my-notifications - Status: 200 - Duration: 65.00ms
2026-01-15 11:19:33,752 - uvicorn.access - INFO - 127.0.0.1:45120 - "GET /api/v1/notifications/my-notifications HTTP/1.1" 200
2026-01-15 11:19:55,864 - app - INFO - Request: GET /api/v1/users/referrals - Status: 200 - Duration: 13.51ms
2026-01-15 11:19:55,864 - uvicorn.access - INFO - 127.0.0.1:51464 - "GET /api/v1/users/referrals HTTP/1.1" 200
2026-01-15 11:19:55,888 - app - INFO - Request: GET /api/v1/users/referrals - Status: 200 - Duration: 12.07ms
2026-01-15 11:19:55,888 - uvicorn.access - INFO - 127.0.0.1:51474 - "GET /api/v1/users/referrals HTTP/1.1" 200
2026-01-15 11:20:01,132 - app - INFO - Request: GET /api/v1/users/me - Status: 200 - Duration: 17.18ms
2026-01-15 11:20:01,132 - uvicorn.access - INFO - 127.0.0.1:33384 - "GET /api/v1/users/me HTTP/1.1" 200
2026-01-15 11:20:01,166 - app - INFO - Request: GET /api/v1/prop-firm - Status: 200 - Duration: 18.91ms
2026-01-15 11:20:01,166 - uvicorn.access - INFO - 127.0.0.1:33392 - "GET /api/v1/prop-firm HTTP/1.1" 200
2026-01-15 11:20:04,338 - app - INFO - Request: GET /api/v1/prop-firm - Status: 200 - Duration: 8.60ms
2026-01-15 11:20:04,338 - uvicorn.access - INFO - 127.0.0.1:33402 - "GET /api/v1/prop-firm?status=passed HTTP/1.1" 200
2026-01-15 11:20:04,434 - app - INFO - Request: GET /api/v1/prop-firm - Status: 200 - Duration: 79.65ms
2026-01-15 11:20:04,434 - uvicorn.access - INFO - 127.0.0.1:33404 - "GET /api/v1/prop-firm?status=passed HTTP/1.1" 200
2026-01-15 11:20:05,718 - app - INFO - Request: GET /api/v1/notifications/my-notifications - Status: 200 - Duration: 9.72ms
2026-01-15 11:20:05,718 - uvicorn.access - INFO - 127.0.0.1:33416 - "GET /api/v1/notifications/my-notifications HTTP/1.1" 200
2026-01-15 11:20:05,753 - app - INFO - Request: GET /api/v1/notifications/my-notifications - Status: 200 - Duration: 24.04ms
2026-01-15 11:20:05,754 - uvicorn.access - INFO - 127.0.0.1:33430 - "GET /api/v1/notifications/my-notifications HTTP/1.1" 200
2026-01-15 11:20:07,047 - app - INFO - Request: GET /api/v1/users/referrals - Status: 200 - Duration: 11.46ms
2026-01-15 11:20:07,047 - uvicorn.access - INFO - 127.0.0.1:33444 - "GET /api/v1/users/referrals HTTP/1.1" 200
2026-01-15 11:20:07,075 - app - INFO - Request: GET /api/v1/users/referrals - Status: 200 - Duration: 21.53ms
2026-01-15 11:20:07,075 - uvicorn.access - INFO - 127.0.0.1:33458 - "GET /api/v1/users/referrals HTTP/1.1" 200
2026-01-17 06:30:37,514 - uvicorn.error - INFO - Started server process [190464]
2026-01-17 06:30:37,516 - uvicorn.error - INFO - Waiting for application startup.
2026-01-17 06:30:37,518 - app - INFO - Starting up application...
2026-01-17 06:30:37,533 - uvicorn.error - INFO - Application startup complete.
2026-01-17 06:49:20,377 - app - INFO - Request: POST /api/v1/auth/login/access-token - Status: 200 - Duration: 386.62ms
2026-01-17 06:49:20,378 - uvicorn.access - INFO - 127.0.0.1:35038 - "POST /api/v1/auth/login/access-token HTTP/1.1" 200
2026-01-17 06:49:21,838 - app - INFO - Request: GET /api/v1/users/me - Status: 200 - Duration: 85.80ms
2026-01-17 06:49:21,841 - uvicorn.access - INFO - 127.0.0.1:35048 - "GET /api/v1/users/me HTTP/1.1" 200
2026-01-17 06:49:21,920 - app - INFO - Request: GET /api/v1/users/me - Status: 200 - Duration: 36.43ms
2026-01-17 06:49:21,920 - uvicorn.access - INFO - 127.0.0.1:35052 - "GET /api/v1/users/me HTTP/1.1" 200
2026-01-17 06:49:22,132 - app - INFO - Request: GET /api/v1/prop-firm - Status: 200 - Duration: 74.37ms
2026-01-17 06:49:22,133 - uvicorn.access - INFO - 127.0.0.1:35068 - "GET /api/v1/prop-firm HTTP/1.1" 200
2026-01-17 06:49:22,237 - app - INFO - Request: GET /api/v1/prop-firm - Status: 200 - Duration: 52.24ms
2026-01-17 06:49:22,237 - uvicorn.access - INFO - 127.0.0.1:35076 - "GET /api/v1/prop-firm HTTP/1.1" 200
2026-01-17 07:03:12,270 - app - INFO - Request: POST /api/v1/users - Status: 400 - Duration: 4.06ms
2026-01-17 07:03:12,270 - uvicorn.access - INFO - 127.0.0.1:55530 - "POST /api/v1/users HTTP/1.1" 400
2026-01-17 07:04:08,169 - app - INFO - Request: POST /api/v1/users - Status: 200 - Duration: 336.64ms
2026-01-17 07:04:08,169 - uvicorn.access - INFO - 127.0.0.1:58482 - "POST /api/v1/users HTTP/1.1" 200
2026-01-17 07:04:12,488 - app - INFO - Request: POST /api/v1/auth/login/access-token - Status: 400 - Duration: 267.33ms
2026-01-17 07:04:12,488 - uvicorn.access - INFO - 127.0.0.1:58494 - "POST /api/v1/auth/login/access-token HTTP/1.1" 400
2026-01-17 07:04:23,630 - app - INFO - Request: POST /api/v1/auth/login/access-token - Status: 200 - Duration: 313.82ms
2026-01-17 07:04:23,630 - uvicorn.access - INFO - 127.0.0.1:52404 - "POST /api/v1/auth/login/access-token HTTP/1.1" 200
2026-01-17 07:04:25,017 - app - INFO - Request: GET /api/v1/users/me - Status: 200 - Duration: 54.77ms
2026-01-17 07:04:25,022 - uvicorn.access - INFO - 127.0.0.1:56836 - "GET /api/v1/users/me HTTP/1.1" 200
2026-01-17 07:04:25,096 - app - INFO - Request: GET /api/v1/users/me - Status: 200 - Duration: 43.45ms
2026-01-17 07:04:25,097 - uvicorn.access - INFO - 127.0.0.1:56844 - "GET /api/v1/users/me HTTP/1.1" 200
2026-01-17 07:04:25,165 - app - INFO - Request: GET /api/v1/prop-firm - Status: 200 - Duration: 46.58ms
2026-01-17 07:04:25,166 - uvicorn.access - INFO - 127.0.0.1:56860 - "GET /api/v1/prop-firm HTTP/1.1" 200
2026-01-17 07:04:25,255 - app - INFO - Request: GET /api/v1/prop-firm - Status: 200 - Duration: 59.43ms
2026-01-17 07:04:25,255 - uvicorn.access - INFO - 127.0.0.1:56868 - "GET /api/v1/prop-firm HTTP/1.1" 200
2026-01-17 07:05:06,048 - app - INFO - Request: POST /api/v1/auth/login/access-token - Status: 400 - Duration: 259.85ms
2026-01-17 07:05:06,048 - uvicorn.access - INFO - 127.0.0.1:37766 - "POST /api/v1/auth/login/access-token HTTP/1.1" 400
2026-01-17 07:05:17,783 - app - INFO - Request: POST /api/v1/auth/login/access-token - Status: 200 - Duration: 304.10ms
2026-01-17 07:05:17,783 - uvicorn.access - INFO - 127.0.0.1:42492 - "POST /api/v1/auth/login/access-token HTTP/1.1" 200
2026-01-17 07:05:18,934 - app - INFO - Request: GET /api/v1/users/me - Status: 200 - Duration: 43.62ms
2026-01-17 07:05:18,937 - uvicorn.access - INFO - 127.0.0.1:42508 - "GET /api/v1/users/me HTTP/1.1" 200
2026-01-17 07:05:19,063 - app - INFO - Request: GET /api/v1/users/me - Status: 200 - Duration: 74.88ms
2026-01-17 07:05:19,063 - uvicorn.access - INFO - 127.0.0.1:42510 - "GET /api/v1/users/me HTTP/1.1" 200
2026-01-17 07:05:19,085 - app - INFO - Request: GET /api/v1/prop-firm - Status: 200 - Duration: 68.64ms
2026-01-17 07:05:19,085 - uvicorn.access - INFO - 127.0.0.1:42520 - "GET /api/v1/prop-firm HTTP/1.1" 200
2026-01-17 07:05:19,187 - app - INFO - Request: GET /api/v1/prop-firm - Status: 200 - Duration: 60.85ms
2026-01-17 07:05:19,189 - uvicorn.access - INFO - 127.0.0.1:42536 - "GET /api/v1/prop-firm HTTP/1.1" 200
2026-01-17 07:11:29,456 - app - INFO - Request: GET /api/v1/users/me - Status: 200 - Duration: 93.07ms
2026-01-17 07:11:32,508 - app - INFO - Request: GET /api/v1/users/me - Status: 200 - Duration: 104.44ms
2026-01-17 07:11:32,518 - uvicorn.access - INFO - 127.0.0.1:48200 - "GET /api/v1/users/me HTTP/1.1" 200
2026-01-17 07:11:32,825 - app - INFO - Request: GET /api/v1/prop-firm - Status: 200 - Duration: 132.25ms
2026-01-17 07:11:32,825 - uvicorn.access - INFO - 127.0.0.1:48210 - "GET /api/v1/prop-firm HTTP/1.1" 200
2026-01-17 07:14:28,898 - app - INFO - Request: GET /api/v1/users/me - Status: 200 - Duration: 20.94ms
2026-01-17 07:14:28,898 - uvicorn.access - INFO - 127.0.0.1:35708 - "GET /api/v1/users/me HTTP/1.1" 200
2026-01-17 07:14:28,975 - app - INFO - Request: GET /api/v1/users/me - Status: 200 - Duration: 48.82ms
2026-01-17 07:14:28,976 - uvicorn.access - INFO - 127.0.0.1:35710 - "GET /api/v1/users/me HTTP/1.1" 200
2026-01-17 07:14:28,993 - app - INFO - Request: GET /api/v1/prop-firm - Status: 200 - Duration: 45.94ms
2026-01-17 07:14:28,994 - uvicorn.access - INFO - 127.0.0.1:35716 - "GET /api/v1/prop-firm HTTP/1.1" 200
2026-01-17 07:14:29,116 - app - INFO - Request: GET /api/v1/prop-firm - Status: 200 - Duration: 51.94ms
2026-01-17 07:14:29,117 - uvicorn.access - INFO - 127.0.0.1:35720 - "GET /api/v1/prop-firm HTTP/1.1" 200
2026-01-17 07:19:38,188 - app - INFO - Request: GET /api/v1/users/me - Status: 200 - Duration: 75.63ms
2026-01-17 07:19:40,120 - app - INFO - Request: GET /api/v1/users/me - Status: 200 - Duration: 33.32ms
2026-01-17 07:19:40,127 - uvicorn.access - INFO - 127.0.0.1:33088 - "GET /api/v1/users/me HTTP/1.1" 200
2026-01-17 07:19:40,630 - app - INFO - Request: GET /api/v1/prop-firm - Status: 200 - Duration: 57.48ms
2026-01-17 07:19:40,630 - uvicorn.access - INFO - 127.0.0.1:33100 - "GET /api/v1/prop-firm HTTP/1.1" 200
2026-01-17 07:25:29,710 - app - INFO - Request: GET /api/v1/users/me - Status: 200 - Duration: 34.05ms
2026-01-17 07:25:29,712 - uvicorn.access - INFO - 127.0.0.1:41864 - "GET /api/v1/users/me HTTP/1.1" 200
2026-01-17 07:25:29,760 - app - INFO - Request: GET /api/v1/users/me - Status: 200 - Duration: 34.44ms
2026-01-17 07:25:29,760 - uvicorn.access - INFO - 127.0.0.1:41876 - "GET /api/v1/users/me HTTP/1.1" 200
2026-01-17 07:25:29,768 - app - INFO - Request: GET /api/v1/prop-firm - Status: 200 - Duration: 32.28ms
2026-01-17 07:25:29,768 - uvicorn.access - INFO - 127.0.0.1:41886 - "GET /api/v1/prop-firm HTTP/1.1" 200
2026-01-17 07:25:29,839 - app - INFO - Request: GET /api/v1/prop-firm - Status: 200 - Duration: 14.42ms
2026-01-17 07:25:29,840 - uvicorn.access - INFO - 127.0.0.1:41894 - "GET /api/v1/prop-firm HTTP/1.1" 200
2026-01-17 07:28:03,546 - app - INFO - Request: GET /api/v1/users/me - Status: 200 - Duration: 18.03ms
2026-01-17 07:28:03,546 - uvicorn.access - INFO - 127.0.0.1:54506 - "GET /api/v1/users/me HTTP/1.1" 200
2026-01-17 07:28:03,572 - app - INFO - Request: GET /api/v1/users/me - Status: 200 - Duration: 16.20ms
2026-01-17 07:28:03,573 - uvicorn.access - INFO - 127.0.0.1:54516 - "GET /api/v1/users/me HTTP/1.1" 200
2026-01-17 07:28:03,606 - app - INFO - Request: GET /api/v1/prop-firm - Status: 200 - Duration: 32.57ms
2026-01-17 07:28:03,607 - uvicorn.access - INFO - 127.0.0.1:54524 - "GET /api/v1/prop-firm HTTP/1.1" 200
2026-01-17 07:28:03,652 - app - INFO - Request: GET /api/v1/prop-firm - Status: 200 - Duration: 34.77ms
2026-01-17 07:28:03,652 - uvicorn.access - INFO - 127.0.0.1:54540 - "GET /api/v1/prop-firm HTTP/1.1" 200
2026-01-17 07:30:18,408 - app - INFO - Request: GET /api/v1/users/me - Status: 200 - Duration: 11.99ms
2026-01-17 07:30:18,409 - uvicorn.access - INFO - 127.0.0.1:55052 - "GET /api/v1/users/me HTTP/1.1" 200
2026-01-17 07:30:18,458 - app - INFO - Request: GET /api/v1/users/me - Status: 200 - Duration: 36.78ms
2026-01-17 07:30:18,458 - uvicorn.access - INFO - 127.0.0.1:55066 - "GET /api/v1/users/me HTTP/1.1" 200
2026-01-17 07:30:18,474 - app - INFO - Request: GET /api/v1/prop-firm - Status: 200 - Duration: 39.27ms
2026-01-17 07:30:18,475 - uvicorn.access - INFO - 127.0.0.1:55068 - "GET /api/v1/prop-firm HTTP/1.1" 200
2026-01-17 07:30:18,561 - app - INFO - Request: GET /api/v1/prop-firm - Status: 200 - Duration: 34.37ms
2026-01-17 07:30:18,562 - uvicorn.access - INFO - 127.0.0.1:55084 - "GET /api/v1/prop-firm HTTP/1.1" 200
2026-01-17 07:40:12,271 - app - INFO - Request: GET /api/v1/users/me - Status: 403 - Duration: 2.97ms
2026-01-17 07:40:12,272 - uvicorn.access - INFO - 127.0.0.1:48260 - "GET /api/v1/users/me HTTP/1.1" 403
2026-01-17 07:40:12,320 - app - INFO - Request: GET /api/v1/users/me - Status: 403 - Duration: 4.49ms
2026-01-17 07:40:12,320 - uvicorn.access - INFO - 127.0.0.1:48264 - "GET /api/v1/users/me HTTP/1.1" 403
2026-01-17 07:40:12,478 - app - INFO - Request: GET /api/v1/prop-firm - Status: 401 - Duration: 6.03ms
2026-01-17 07:40:12,478 - uvicorn.access - INFO - 127.0.0.1:48270 - "GET /api/v1/prop-firm HTTP/1.1" 401
2026-01-17 07:40:12,627 - app - INFO - Request: GET /api/v1/prop-firm - Status: 401 - Duration: 10.39ms
2026-01-17 07:40:12,628 - uvicorn.access - INFO - 127.0.0.1:48282 - "GET /api/v1/prop-firm HTTP/1.1" 401
2026-01-17 07:40:18,231 - app - INFO - Request: POST /api/v1/auth/login/access-token - Status: 400 - Duration: 369.82ms
2026-01-17 07:40:18,231 - uvicorn.access - INFO - 127.0.0.1:34300 - "POST /api/v1/auth/login/access-token HTTP/1.1" 400
2026-01-17 07:40:26,031 - app - INFO - Request: POST /api/v1/auth/login/access-token - Status: 200 - Duration: 427.11ms
2026-01-17 07:40:26,033 - uvicorn.access - INFO - 127.0.0.1:36142 - "POST /api/v1/auth/login/access-token HTTP/1.1" 200
2026-01-17 07:40:27,640 - app - INFO - Request: GET /api/v1/users/me - Status: 200 - Duration: 59.51ms
2026-01-17 07:40:27,642 - uvicorn.access - INFO - 127.0.0.1:36158 - "GET /api/v1/users/me HTTP/1.1" 200
2026-01-17 07:40:27,718 - app - INFO - Request: GET /api/v1/users/me - Status: 200 - Duration: 49.98ms
2026-01-17 07:40:27,718 - uvicorn.access - INFO - 127.0.0.1:36172 - "GET /api/v1/users/me HTTP/1.1" 200
2026-01-17 07:40:27,736 - app - INFO - Request: GET /api/v1/prop-firm - Status: 200 - Duration: 29.49ms
2026-01-17 07:40:27,736 - uvicorn.access - INFO - 127.0.0.1:36184 - "GET /api/v1/prop-firm HTTP/1.1" 200
2026-01-17 07:40:27,773 - app - INFO - Request: GET /api/v1/prop-firm - Status: 200 - Duration: 23.16ms
2026-01-17 07:40:27,773 - uvicorn.access - INFO - 127.0.0.1:36198 - "GET /api/v1/prop-firm HTTP/1.1" 200
2026-01-17 07:40:30,846 - app - INFO - Request: GET /api/v1/users/referrals - Status: 200 - Duration: 29.57ms
2026-01-17 07:40:30,847 - uvicorn.access - INFO - 127.0.0.1:36208 - "GET /api/v1/users/referrals HTTP/1.1" 200
2026-01-17 07:40:30,918 - app - INFO - Request: GET /api/v1/users/referrals - Status: 200 - Duration: 40.74ms
2026-01-17 07:40:30,918 - uvicorn.access - INFO - 127.0.0.1:36218 - "GET /api/v1/users/referrals HTTP/1.1" 200
2026-01-17 08:30:04,868 - app - INFO - Request: GET /api/v1/users/me - Status: 403 - Duration: 5.35ms
2026-01-17 08:30:04,869 - uvicorn.access - INFO - 127.0.0.1:52648 - "GET /api/v1/users/me HTTP/1.1" 403
2026-01-17 08:30:04,882 - app - INFO - Request: GET /api/v1/users/me - Status: 403 - Duration: 3.28ms
2026-01-17 08:30:04,883 - uvicorn.access - INFO - 127.0.0.1:52656 - "GET /api/v1/users/me HTTP/1.1" 403
2026-01-17 08:30:05,073 - app - INFO - Request: GET /api/v1/prop-firm - Status: 401 - Duration: 1.81ms
2026-01-17 08:30:05,073 - uvicorn.access - INFO - 127.0.0.1:52658 - "GET /api/v1/prop-firm HTTP/1.1" 401
2026-01-17 08:30:05,202 - app - INFO - Request: GET /api/v1/prop-firm - Status: 401 - Duration: 4.16ms
2026-01-17 08:30:05,203 - uvicorn.access - INFO - 127.0.0.1:52660 - "GET /api/v1/prop-firm HTTP/1.1" 401
2026-01-17 08:30:09,204 - app - INFO - Request: GET /api/v1/users/me - Status: 401 - Duration: 5.80ms
2026-01-17 08:30:09,204 - uvicorn.access - INFO - 127.0.0.1:52664 - "GET /api/v1/users/me HTTP/1.1" 401
2026-01-17 08:30:09,254 - app - INFO - Request: GET /api/v1/users/me - Status: 401 - Duration: 8.45ms
2026-01-17 08:30:09,256 - uvicorn.access - INFO - 127.0.0.1:52674 - "GET /api/v1/users/me HTTP/1.1" 401
2026-01-17 08:30:09,493 - app - INFO - Request: GET /api/v1/prop-firm - Status: 401 - Duration: 2.89ms
2026-01-17 08:30:09,497 - uvicorn.access - INFO - 127.0.0.1:52678 - "GET /api/v1/prop-firm HTTP/1.1" 401
2026-01-17 08:30:09,561 - app - INFO - Request: GET /api/v1/prop-firm - Status: 401 - Duration: 5.35ms
2026-01-17 08:30:09,561 - uvicorn.access - INFO - 127.0.0.1:52688 - "GET /api/v1/prop-firm HTTP/1.1" 401
2026-01-17 08:30:13,356 - app - INFO - Request: POST /api/v1/auth/login/access-token - Status: 400 - Duration: 327.47ms
2026-01-17 08:30:13,356 - uvicorn.access - INFO - 127.0.0.1:52698 - "POST /api/v1/auth/login/access-token HTTP/1.1" 400
2026-01-17 08:30:18,689 - app - INFO - Request: POST /api/v1/auth/login/access-token - Status: 200 - Duration: 374.37ms
2026-01-17 08:30:18,689 - uvicorn.access - INFO - 127.0.0.1:40730 - "POST /api/v1/auth/login/access-token HTTP/1.1" 200
2026-01-17 08:30:20,006 - app - INFO - Request: GET /api/v1/users/me - Status: 200 - Duration: 50.82ms
2026-01-17 08:30:20,006 - uvicorn.access - INFO - 127.0.0.1:40732 - "GET /api/v1/users/me HTTP/1.1" 200
2026-01-17 08:30:20,048 - app - INFO - Request: GET /api/v1/users/me - Status: 200 - Duration: 28.23ms
2026-01-17 08:30:20,049 - uvicorn.access - INFO - 127.0.0.1:40744 - "GET /api/v1/users/me HTTP/1.1" 200
2026-01-17 08:30:20,053 - app - INFO - Request: GET /api/v1/prop-firm - Status: 200 - Duration: 26.43ms
2026-01-17 08:30:20,053 - uvicorn.access - INFO - 127.0.0.1:40752 - "GET /api/v1/prop-firm HTTP/1.1" 200
2026-01-17 08:30:20,105 - app - INFO - Request: GET /api/v1/prop-firm - Status: 200 - Duration: 34.44ms
2026-01-17 08:30:20,105 - uvicorn.access - INFO - 127.0.0.1:40762 - "GET /api/v1/prop-firm HTTP/1.1" 200
2026-01-17 08:41:52,702 - uvicorn.error - INFO - Shutting down
2026-01-17 08:41:52,803 - uvicorn.error - INFO - Waiting for application shutdown.
2026-01-17 08:41:52,803 - app - INFO - Shutting down application...
2026-01-17 08:41:52,803 - uvicorn.error - INFO - Application shutdown complete.
2026-01-17 08:41:52,804 - uvicorn.error - INFO - Finished server process [190464]
2026-01-17 12:22:48,654 - uvicorn.error - INFO - Started server process [486610]
2026-01-17 12:22:48,655 - uvicorn.error - INFO - Waiting for application startup.
2026-01-17 12:22:48,656 - app - INFO - Starting up application...
2026-01-17 12:22:48,780 - uvicorn.error - INFO - Application startup complete.
2026-01-17 12:22:48,782 - uvicorn.error - INFO - Uvicorn running on http://0.0.0.0:8000 (Press CTRL+C to quit)
2026-01-17 12:22:56,110 - uvicorn.error - INFO - Shutting down
2026-01-17 12:22:56,211 - uvicorn.error - INFO - Waiting for application shutdown.
2026-01-17 12:22:56,211 - app - INFO - Shutting down application...
2026-01-17 12:22:56,211 - uvicorn.error - INFO - Application shutdown complete.
2026-01-17 12:22:56,211 - uvicorn.error - INFO - Finished server process [486610]
2026-01-17 12:25:46,723 - uvicorn.error - INFO - Started server process [489015]
2026-01-17 12:25:46,723 - uvicorn.error - INFO - Waiting for application startup.
2026-01-17 12:25:46,723 - app - INFO - Starting up application...
2026-01-17 12:25:46,733 - uvicorn.error - INFO - Application startup complete.
2026-01-17 12:27:24,634 - app - INFO - Request: GET /api/v1/users/me - Status: 403 - Duration: 11.80ms
2026-01-17 12:27:24,634 - uvicorn.access - INFO - 127.0.0.1:50810 - "GET /api/v1/users/me HTTP/1.1" 403
2026-01-17 12:27:24,683 - app - INFO - Request: GET /api/v1/prop-firm - Status: 401 - Duration: 4.59ms
2026-01-17 12:27:24,684 - uvicorn.access - INFO - 127.0.0.1:50812 - "GET /api/v1/prop-firm HTTP/1.1" 401
2026-01-17 12:27:34,466 - app - INFO - Request: POST /api/v1/auth/login/access-token - Status: 400 - Duration: 294.01ms
2026-01-17 12:27:34,466 - uvicorn.access - INFO - 127.0.0.1:45842 - "POST /api/v1/auth/login/access-token HTTP/1.1" 400
2026-01-17 12:27:49,673 - app - INFO - Request: POST /api/v1/auth/login/access-token - Status: 200 - Duration: 302.67ms
2026-01-17 12:27:49,673 - uvicorn.access - INFO - 127.0.0.1:41084 - "POST /api/v1/auth/login/access-token HTTP/1.1" 200
2026-01-17 12:27:50,899 - app - ERROR - Request failed: GET /api/v1/users/me - Duration: 37.09ms - Error: (sqlite3.OperationalError) no such column: prop_firm_registration.pass_type
[SQL: SELECT prop_firm_registration.user_id AS prop_firm_registration_user_id, prop_firm_registration.id AS prop_firm_registration_id, prop_firm_registration.login_id AS prop_firm_registration_login_id, prop_firm_registration.password AS prop_firm_registration_password, prop_firm_registration.propfirm_name AS prop_firm_registration_propfirm_name, prop_firm_registration.propfirm_website_link AS prop_firm_registration_propfirm_website_link, prop_firm_registration.server_name AS prop_firm_registration_server_name, prop_firm_registration.server_type AS prop_firm_registration_server_type, prop_firm_registration.challenges_step AS prop_firm_registration_challenges_step, prop_firm_registration.service_scope AS prop_firm_registration_service_scope, prop_firm_registration.order_id AS prop_firm_registration_order_id, prop_firm_registration.propfirm_account_cost AS prop_firm_registration_propfirm_account_cost, prop_firm_registration.account_size AS prop_firm_registration_account_size, prop_firm_registration.account_phases AS prop_firm_registration_account_phases, prop_firm_registration.trading_platform AS prop_firm_registration_trading_platform, prop_firm_registration.propfirm_rules AS prop_firm_registration_propfirm_rules, prop_firm_registration.whatsapp_no AS prop_firm_registration_whatsapp_no, prop_firm_registration.telegram_username AS prop_firm_registration_telegram_username, prop_firm_registration.pass_type AS prop_firm_registration_pass_type, prop_firm_registration.account_status AS prop_firm_registration_account_status, prop_firm_registration.payment_status AS prop_firm_registration_payment_status, prop_firm_registration.created_at AS prop_firm_registration_created_at, prop_firm_registration.updated_at AS prop_firm_registration_updated_at 
FROM prop_firm_registration 
WHERE prop_firm_registration.user_id IN (?)]
[parameters: ('6affb04777824af5acc7646740ae90f3',)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2026-01-17 12:27:50,943 - app - ERROR - Traceback (most recent call last):
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/engine/default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 180, in execute
    self._adapt_connection._handle_exception(error)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 340, in _handle_exception
    raise error
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 162, in execute
    self.await_(_cursor.execute(operation, parameters))
    ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 132, in await_only
    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501
           ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 196, in greenlet_spawn
    value = await result
            ^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/aiosqlite/cursor.py", line 40, in execute
    await self._execute(self._cursor.execute, sql, parameters)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/aiosqlite/cursor.py", line 32, in _execute
    return await self._conn._execute(fn, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
sqlite3.OperationalError: no such column: prop_firm_registration.pass_type

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/home/rehack/PycharmProjects/solpro_backend/app/main.py", line 65, in log_requests
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/base.py", line 168, in call_next
    raise app_exc from app_exc.__cause__ or app_exc.__context__
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/base.py", line 144, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/base.py", line 191, in __call__
    with recv_stream, send_stream, collapse_excgroups():
                                   ~~~~~~~~~~~~~~~~~~^^
  File "/home/rehack/anaconda3/lib/python3.13/contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    ~~~~~~~~~~~~~~^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/_utils.py", line 85, in collapse_excgroups
    raise exc
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/base.py", line 193, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/slowapi/middleware.py", line 136, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/base.py", line 168, in call_next
    raise app_exc from app_exc.__cause__ or app_exc.__context__
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/base.py", line 144, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/gzip.py", line 29, in __call__
    await responder(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/gzip.py", line 130, in __call__
    await super().__call__(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/gzip.py", line 46, in __call__
    await self.app(scope, receive, self.send_with_compression)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/trustedhost.py", line 36, in __call__
    await self.app(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/fastapi/routing.py", line 125, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/fastapi/routing.py", line 111, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/fastapi/routing.py", line 381, in app
    solved_result = await solve_dependencies(
                    ^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<6 lines>...
    )
    ^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/fastapi/dependencies/utils.py", line 641, in solve_dependencies
    solved = await call(**solved_result.values)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rehack/PycharmProjects/solpro_backend/app/dependencies/auth.py", line 44, in get_current_user
    result = await session.exec(query)
             ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlmodel/ext/asyncio/session.py", line 98, in exec
    result = await greenlet_spawn(
             ^^^^^^^^^^^^^^^^^^^^^
    ...<7 lines>...
    )
    ^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 201, in greenlet_spawn
    result = context.throw(*sys.exc_info())
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlmodel/orm/session.py", line 83, in exec
    results = super().execute(
        statement,
    ...<4 lines>...
        _add_event=_add_event,
    )
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/orm/session.py", line 2351, in execute
    return self._execute_internal(
           ~~~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
    ...<4 lines>...
        _add_event=_add_event,
        ^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/orm/session.py", line 2249, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self,
        ^^^^^
    ...<4 lines>...
        conn,
        ^^^^^
    )
    ^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/orm/context.py", line 309, in orm_execute_statement
    return cls.orm_setup_cursor_result(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        session,
        ^^^^^^^^
    ...<4 lines>...
        result,
        ^^^^^^^
    )
    ^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/orm/context.py", line 616, in orm_setup_cursor_result
    return loading.instances(result, querycontext)
           ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/orm/loading.py", line 262, in instances
    _prebuffered = list(chunks(None))
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/orm/loading.py", line 247, in chunks
    post_load.invoke(context, path)
    ~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/orm/loading.py", line 1564, in invoke
    loader(
    ~~~~~~^
        effective_context, path, states, self.load_keys, *arg, **kw
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/orm/strategies.py", line 3338, in _load_for_path
    self._load_via_parent(
    ~~~~~~~~~~~~~~~~~~~~~^
        our_states, query_info, q, context, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/orm/strategies.py", line 3414, in _load_via_parent
    context.session.execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        q,
        ^^
        params={"primary_keys": primary_keys},
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        execution_options=execution_options,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ).unique(),
    ^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlmodel/orm/session.py", line 144, in execute
    return super().execute(
           ~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
    ...<4 lines>...
        _add_event=_add_event,
        ^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/orm/session.py", line 2351, in execute
    return self._execute_internal(
           ~~~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
    ...<4 lines>...
        _add_event=_add_event,
        ^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/orm/session.py", line 2249, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self,
        ^^^^^
    ...<4 lines>...
        conn,
        ^^^^^
    )
    ^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/orm/context.py", line 306, in orm_execute_statement
    result = conn.execute(
        statement, params or {}, execution_options=execution_options
    )
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/engine/base.py", line 1419, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/sql/elements.py", line 526, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/engine/base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
        dialect,
    ...<8 lines>...
        cache_hit=cache_hit,
    )
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/engine/base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ~~~~~~~~~~~~~~~~~~~~~~~~~^
        dialect, context, statement, parameters
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/engine/base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        e, str_statement, effective_parameters, cursor, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/engine/base.py", line 2355, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/engine/default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 180, in execute
    self._adapt_connection._handle_exception(error)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 340, in _handle_exception
    raise error
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 162, in execute
    self.await_(_cursor.execute(operation, parameters))
    ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 132, in await_only
    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501
           ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 196, in greenlet_spawn
    value = await result
            ^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/aiosqlite/cursor.py", line 40, in execute
    await self._execute(self._cursor.execute, sql, parameters)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/aiosqlite/cursor.py", line 32, in _execute
    return await self._conn._execute(fn, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such column: prop_firm_registration.pass_type
[SQL: SELECT prop_firm_registration.user_id AS prop_firm_registration_user_id, prop_firm_registration.id AS prop_firm_registration_id, prop_firm_registration.login_id AS prop_firm_registration_login_id, prop_firm_registration.password AS prop_firm_registration_password, prop_firm_registration.propfirm_name AS prop_firm_registration_propfirm_name, prop_firm_registration.propfirm_website_link AS prop_firm_registration_propfirm_website_link, prop_firm_registration.server_name AS prop_firm_registration_server_name, prop_firm_registration.server_type AS prop_firm_registration_server_type, prop_firm_registration.challenges_step AS prop_firm_registration_challenges_step, prop_firm_registration.service_scope AS prop_firm_registration_service_scope, prop_firm_registration.order_id AS prop_firm_registration_order_id, prop_firm_registration.propfirm_account_cost AS prop_firm_registration_propfirm_account_cost, prop_firm_registration.account_size AS prop_firm_registration_account_size, prop_firm_registration.account_phases AS prop_firm_registration_account_phases, prop_firm_registration.trading_platform AS prop_firm_registration_trading_platform, prop_firm_registration.propfirm_rules AS prop_firm_registration_propfirm_rules, prop_firm_registration.whatsapp_no AS prop_firm_registration_whatsapp_no, prop_firm_registration.telegram_username AS prop_firm_registration_telegram_username, prop_firm_registration.pass_type AS prop_firm_registration_pass_type, prop_firm_registration.account_status AS prop_firm_registration_account_status, prop_firm_registration.payment_status AS prop_firm_registration_payment_status, prop_firm_registration.created_at AS prop_firm_registration_created_at, prop_firm_registration.updated_at AS prop_firm_registration_updated_at 
FROM prop_firm_registration 
WHERE prop_firm_registration.user_id IN (?)]
[parameters: ('6affb04777824af5acc7646740ae90f3',)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)

2026-01-17 12:27:50,946 - uvicorn.access - INFO - 127.0.0.1:41098 - "GET /api/v1/users/me HTTP/1.1" 500
2026-01-17 12:27:50,992 - app - ERROR - Request failed: GET /api/v1/users/me - Duration: 26.85ms - Error: (sqlite3.OperationalError) no such column: prop_firm_registration.pass_type
[SQL: SELECT prop_firm_registration.user_id AS prop_firm_registration_user_id, prop_firm_registration.id AS prop_firm_registration_id, prop_firm_registration.login_id AS prop_firm_registration_login_id, prop_firm_registration.password AS prop_firm_registration_password, prop_firm_registration.propfirm_name AS prop_firm_registration_propfirm_name, prop_firm_registration.propfirm_website_link AS prop_firm_registration_propfirm_website_link, prop_firm_registration.server_name AS prop_firm_registration_server_name, prop_firm_registration.server_type AS prop_firm_registration_server_type, prop_firm_registration.challenges_step AS prop_firm_registration_challenges_step, prop_firm_registration.service_scope AS prop_firm_registration_service_scope, prop_firm_registration.order_id AS prop_firm_registration_order_id, prop_firm_registration.propfirm_account_cost AS prop_firm_registration_propfirm_account_cost, prop_firm_registration.account_size AS prop_firm_registration_account_size, prop_firm_registration.account_phases AS prop_firm_registration_account_phases, prop_firm_registration.trading_platform AS prop_firm_registration_trading_platform, prop_firm_registration.propfirm_rules AS prop_firm_registration_propfirm_rules, prop_firm_registration.whatsapp_no AS prop_firm_registration_whatsapp_no, prop_firm_registration.telegram_username AS prop_firm_registration_telegram_username, prop_firm_registration.pass_type AS prop_firm_registration_pass_type, prop_firm_registration.account_status AS prop_firm_registration_account_status, prop_firm_registration.payment_status AS prop_firm_registration_payment_status, prop_firm_registration.created_at AS prop_firm_registration_created_at, prop_firm_registration.updated_at AS prop_firm_registration_updated_at 
FROM prop_firm_registration 
WHERE prop_firm_registration.user_id IN (?)]
[parameters: ('6affb04777824af5acc7646740ae90f3',)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2026-01-17 12:27:51,007 - app - ERROR - Traceback (most recent call last):
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/engine/default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 180, in execute
    self._adapt_connection._handle_exception(error)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 340, in _handle_exception
    raise error
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 162, in execute
    self.await_(_cursor.execute(operation, parameters))
    ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 132, in await_only
    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501
           ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 196, in greenlet_spawn
    value = await result
            ^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/aiosqlite/cursor.py", line 40, in execute
    await self._execute(self._cursor.execute, sql, parameters)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/aiosqlite/cursor.py", line 32, in _execute
    return await self._conn._execute(fn, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
sqlite3.OperationalError: no such column: prop_firm_registration.pass_type

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/home/rehack/PycharmProjects/solpro_backend/app/main.py", line 65, in log_requests
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/base.py", line 168, in call_next
    raise app_exc from app_exc.__cause__ or app_exc.__context__
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/base.py", line 144, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/base.py", line 191, in __call__
    with recv_stream, send_stream, collapse_excgroups():
                                   ~~~~~~~~~~~~~~~~~~^^
  File "/home/rehack/anaconda3/lib/python3.13/contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    ~~~~~~~~~~~~~~^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/_utils.py", line 85, in collapse_excgroups
    raise exc
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/base.py", line 193, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/slowapi/middleware.py", line 136, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/base.py", line 168, in call_next
    raise app_exc from app_exc.__cause__ or app_exc.__context__
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/base.py", line 144, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/gzip.py", line 29, in __call__
    await responder(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/gzip.py", line 130, in __call__
    await super().__call__(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/gzip.py", line 46, in __call__
    await self.app(scope, receive, self.send_with_compression)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/trustedhost.py", line 36, in __call__
    await self.app(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/fastapi/routing.py", line 125, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/fastapi/routing.py", line 111, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/fastapi/routing.py", line 381, in app
    solved_result = await solve_dependencies(
                    ^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<6 lines>...
    )
    ^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/fastapi/dependencies/utils.py", line 641, in solve_dependencies
    solved = await call(**solved_result.values)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rehack/PycharmProjects/solpro_backend/app/dependencies/auth.py", line 44, in get_current_user
    result = await session.exec(query)
             ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlmodel/ext/asyncio/session.py", line 98, in exec
    result = await greenlet_spawn(
             ^^^^^^^^^^^^^^^^^^^^^
    ...<7 lines>...
    )
    ^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 201, in greenlet_spawn
    result = context.throw(*sys.exc_info())
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlmodel/orm/session.py", line 83, in exec
    results = super().execute(
        statement,
    ...<4 lines>...
        _add_event=_add_event,
    )
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/orm/session.py", line 2351, in execute
    return self._execute_internal(
           ~~~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
    ...<4 lines>...
        _add_event=_add_event,
        ^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/orm/session.py", line 2249, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self,
        ^^^^^
    ...<4 lines>...
        conn,
        ^^^^^
    )
    ^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/orm/context.py", line 309, in orm_execute_statement
    return cls.orm_setup_cursor_result(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        session,
        ^^^^^^^^
    ...<4 lines>...
        result,
        ^^^^^^^
    )
    ^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/orm/context.py", line 616, in orm_setup_cursor_result
    return loading.instances(result, querycontext)
           ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/orm/loading.py", line 262, in instances
    _prebuffered = list(chunks(None))
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/orm/loading.py", line 247, in chunks
    post_load.invoke(context, path)
    ~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/orm/loading.py", line 1564, in invoke
    loader(
    ~~~~~~^
        effective_context, path, states, self.load_keys, *arg, **kw
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/orm/strategies.py", line 3338, in _load_for_path
    self._load_via_parent(
    ~~~~~~~~~~~~~~~~~~~~~^
        our_states, query_info, q, context, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/orm/strategies.py", line 3414, in _load_via_parent
    context.session.execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        q,
        ^^
        params={"primary_keys": primary_keys},
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        execution_options=execution_options,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ).unique(),
    ^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlmodel/orm/session.py", line 144, in execute
    return super().execute(
           ~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
    ...<4 lines>...
        _add_event=_add_event,
        ^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/orm/session.py", line 2351, in execute
    return self._execute_internal(
           ~~~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
    ...<4 lines>...
        _add_event=_add_event,
        ^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/orm/session.py", line 2249, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self,
        ^^^^^
    ...<4 lines>...
        conn,
        ^^^^^
    )
    ^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/orm/context.py", line 306, in orm_execute_statement
    result = conn.execute(
        statement, params or {}, execution_options=execution_options
    )
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/engine/base.py", line 1419, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/sql/elements.py", line 526, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/engine/base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
        dialect,
    ...<8 lines>...
        cache_hit=cache_hit,
    )
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/engine/base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ~~~~~~~~~~~~~~~~~~~~~~~~~^
        dialect, context, statement, parameters
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/engine/base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        e, str_statement, effective_parameters, cursor, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/engine/base.py", line 2355, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/engine/default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 180, in execute
    self._adapt_connection._handle_exception(error)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 340, in _handle_exception
    raise error
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 162, in execute
    self.await_(_cursor.execute(operation, parameters))
    ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 132, in await_only
    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501
           ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 196, in greenlet_spawn
    value = await result
            ^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/aiosqlite/cursor.py", line 40, in execute
    await self._execute(self._cursor.execute, sql, parameters)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/aiosqlite/cursor.py", line 32, in _execute
    return await self._conn._execute(fn, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such column: prop_firm_registration.pass_type
[SQL: SELECT prop_firm_registration.user_id AS prop_firm_registration_user_id, prop_firm_registration.id AS prop_firm_registration_id, prop_firm_registration.login_id AS prop_firm_registration_login_id, prop_firm_registration.password AS prop_firm_registration_password, prop_firm_registration.propfirm_name AS prop_firm_registration_propfirm_name, prop_firm_registration.propfirm_website_link AS prop_firm_registration_propfirm_website_link, prop_firm_registration.server_name AS prop_firm_registration_server_name, prop_firm_registration.server_type AS prop_firm_registration_server_type, prop_firm_registration.challenges_step AS prop_firm_registration_challenges_step, prop_firm_registration.service_scope AS prop_firm_registration_service_scope, prop_firm_registration.order_id AS prop_firm_registration_order_id, prop_firm_registration.propfirm_account_cost AS prop_firm_registration_propfirm_account_cost, prop_firm_registration.account_size AS prop_firm_registration_account_size, prop_firm_registration.account_phases AS prop_firm_registration_account_phases, prop_firm_registration.trading_platform AS prop_firm_registration_trading_platform, prop_firm_registration.propfirm_rules AS prop_firm_registration_propfirm_rules, prop_firm_registration.whatsapp_no AS prop_firm_registration_whatsapp_no, prop_firm_registration.telegram_username AS prop_firm_registration_telegram_username, prop_firm_registration.pass_type AS prop_firm_registration_pass_type, prop_firm_registration.account_status AS prop_firm_registration_account_status, prop_firm_registration.payment_status AS prop_firm_registration_payment_status, prop_firm_registration.created_at AS prop_firm_registration_created_at, prop_firm_registration.updated_at AS prop_firm_registration_updated_at 
FROM prop_firm_registration 
WHERE prop_firm_registration.user_id IN (?)]
[parameters: ('6affb04777824af5acc7646740ae90f3',)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)

2026-01-17 12:27:51,009 - uvicorn.access - INFO - 127.0.0.1:41114 - "GET /api/v1/users/me HTTP/1.1" 500
2026-01-17 12:27:51,025 - app - ERROR - Request failed: GET /api/v1/prop-firm - Duration: 44.57ms - Error: (sqlite3.OperationalError) no such column: prop_firm_registration.pass_type
[SQL: SELECT prop_firm_registration.user_id AS prop_firm_registration_user_id, prop_firm_registration.id AS prop_firm_registration_id, prop_firm_registration.login_id AS prop_firm_registration_login_id, prop_firm_registration.password AS prop_firm_registration_password, prop_firm_registration.propfirm_name AS prop_firm_registration_propfirm_name, prop_firm_registration.propfirm_website_link AS prop_firm_registration_propfirm_website_link, prop_firm_registration.server_name AS prop_firm_registration_server_name, prop_firm_registration.server_type AS prop_firm_registration_server_type, prop_firm_registration.challenges_step AS prop_firm_registration_challenges_step, prop_firm_registration.service_scope AS prop_firm_registration_service_scope, prop_firm_registration.order_id AS prop_firm_registration_order_id, prop_firm_registration.propfirm_account_cost AS prop_firm_registration_propfirm_account_cost, prop_firm_registration.account_size AS prop_firm_registration_account_size, prop_firm_registration.account_phases AS prop_firm_registration_account_phases, prop_firm_registration.trading_platform AS prop_firm_registration_trading_platform, prop_firm_registration.propfirm_rules AS prop_firm_registration_propfirm_rules, prop_firm_registration.whatsapp_no AS prop_firm_registration_whatsapp_no, prop_firm_registration.telegram_username AS prop_firm_registration_telegram_username, prop_firm_registration.pass_type AS prop_firm_registration_pass_type, prop_firm_registration.account_status AS prop_firm_registration_account_status, prop_firm_registration.payment_status AS prop_firm_registration_payment_status, prop_firm_registration.created_at AS prop_firm_registration_created_at, prop_firm_registration.updated_at AS prop_firm_registration_updated_at 
FROM prop_firm_registration 
WHERE prop_firm_registration.user_id IN (?)]
[parameters: ('6affb04777824af5acc7646740ae90f3',)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2026-01-17 12:27:51,046 - app - ERROR - Traceback (most recent call last):
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/engine/default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 180, in execute
    self._adapt_connection._handle_exception(error)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 340, in _handle_exception
    raise error
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 162, in execute
    self.await_(_cursor.execute(operation, parameters))
    ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 132, in await_only
    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501
           ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 196, in greenlet_spawn
    value = await result
            ^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/aiosqlite/cursor.py", line 40, in execute
    await self._execute(self._cursor.execute, sql, parameters)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/aiosqlite/cursor.py", line 32, in _execute
    return await self._conn._execute(fn, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
sqlite3.OperationalError: no such column: prop_firm_registration.pass_type

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/home/rehack/PycharmProjects/solpro_backend/app/main.py", line 65, in log_requests
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/base.py", line 168, in call_next
    raise app_exc from app_exc.__cause__ or app_exc.__context__
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/base.py", line 144, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/base.py", line 191, in __call__
    with recv_stream, send_stream, collapse_excgroups():
                                   ~~~~~~~~~~~~~~~~~~^^
  File "/home/rehack/anaconda3/lib/python3.13/contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    ~~~~~~~~~~~~~~^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/_utils.py", line 85, in collapse_excgroups
    raise exc
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/base.py", line 193, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/slowapi/middleware.py", line 136, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/base.py", line 168, in call_next
    raise app_exc from app_exc.__cause__ or app_exc.__context__
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/base.py", line 144, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/gzip.py", line 29, in __call__
    await responder(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/gzip.py", line 130, in __call__
    await super().__call__(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/gzip.py", line 46, in __call__
    await self.app(scope, receive, self.send_with_compression)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/trustedhost.py", line 36, in __call__
    await self.app(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/fastapi/routing.py", line 125, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/fastapi/routing.py", line 111, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/fastapi/routing.py", line 381, in app
    solved_result = await solve_dependencies(
                    ^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<6 lines>...
    )
    ^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/fastapi/dependencies/utils.py", line 641, in solve_dependencies
    solved = await call(**solved_result.values)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rehack/PycharmProjects/solpro_backend/app/dependencies/auth.py", line 44, in get_current_user
    result = await session.exec(query)
             ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlmodel/ext/asyncio/session.py", line 98, in exec
    result = await greenlet_spawn(
             ^^^^^^^^^^^^^^^^^^^^^
    ...<7 lines>...
    )
    ^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 201, in greenlet_spawn
    result = context.throw(*sys.exc_info())
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlmodel/orm/session.py", line 83, in exec
    results = super().execute(
        statement,
    ...<4 lines>...
        _add_event=_add_event,
    )
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/orm/session.py", line 2351, in execute
    return self._execute_internal(
           ~~~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
    ...<4 lines>...
        _add_event=_add_event,
        ^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/orm/session.py", line 2249, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self,
        ^^^^^
    ...<4 lines>...
        conn,
        ^^^^^
    )
    ^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/orm/context.py", line 309, in orm_execute_statement
    return cls.orm_setup_cursor_result(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        session,
        ^^^^^^^^
    ...<4 lines>...
        result,
        ^^^^^^^
    )
    ^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/orm/context.py", line 616, in orm_setup_cursor_result
    return loading.instances(result, querycontext)
           ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/orm/loading.py", line 262, in instances
    _prebuffered = list(chunks(None))
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/orm/loading.py", line 247, in chunks
    post_load.invoke(context, path)
    ~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/orm/loading.py", line 1564, in invoke
    loader(
    ~~~~~~^
        effective_context, path, states, self.load_keys, *arg, **kw
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/orm/strategies.py", line 3338, in _load_for_path
    self._load_via_parent(
    ~~~~~~~~~~~~~~~~~~~~~^
        our_states, query_info, q, context, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/orm/strategies.py", line 3414, in _load_via_parent
    context.session.execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        q,
        ^^
        params={"primary_keys": primary_keys},
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        execution_options=execution_options,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ).unique(),
    ^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlmodel/orm/session.py", line 144, in execute
    return super().execute(
           ~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
    ...<4 lines>...
        _add_event=_add_event,
        ^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/orm/session.py", line 2351, in execute
    return self._execute_internal(
           ~~~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
    ...<4 lines>...
        _add_event=_add_event,
        ^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/orm/session.py", line 2249, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self,
        ^^^^^
    ...<4 lines>...
        conn,
        ^^^^^
    )
    ^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/orm/context.py", line 306, in orm_execute_statement
    result = conn.execute(
        statement, params or {}, execution_options=execution_options
    )
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/engine/base.py", line 1419, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/sql/elements.py", line 526, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/engine/base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
        dialect,
    ...<8 lines>...
        cache_hit=cache_hit,
    )
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/engine/base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ~~~~~~~~~~~~~~~~~~~~~~~~~^
        dialect, context, statement, parameters
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/engine/base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        e, str_statement, effective_parameters, cursor, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/engine/base.py", line 2355, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/engine/default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 180, in execute
    self._adapt_connection._handle_exception(error)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 340, in _handle_exception
    raise error
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 162, in execute
    self.await_(_cursor.execute(operation, parameters))
    ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 132, in await_only
    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501
           ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 196, in greenlet_spawn
    value = await result
            ^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/aiosqlite/cursor.py", line 40, in execute
    await self._execute(self._cursor.execute, sql, parameters)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/aiosqlite/cursor.py", line 32, in _execute
    return await self._conn._execute(fn, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such column: prop_firm_registration.pass_type
[SQL: SELECT prop_firm_registration.user_id AS prop_firm_registration_user_id, prop_firm_registration.id AS prop_firm_registration_id, prop_firm_registration.login_id AS prop_firm_registration_login_id, prop_firm_registration.password AS prop_firm_registration_password, prop_firm_registration.propfirm_name AS prop_firm_registration_propfirm_name, prop_firm_registration.propfirm_website_link AS prop_firm_registration_propfirm_website_link, prop_firm_registration.server_name AS prop_firm_registration_server_name, prop_firm_registration.server_type AS prop_firm_registration_server_type, prop_firm_registration.challenges_step AS prop_firm_registration_challenges_step, prop_firm_registration.service_scope AS prop_firm_registration_service_scope, prop_firm_registration.order_id AS prop_firm_registration_order_id, prop_firm_registration.propfirm_account_cost AS prop_firm_registration_propfirm_account_cost, prop_firm_registration.account_size AS prop_firm_registration_account_size, prop_firm_registration.account_phases AS prop_firm_registration_account_phases, prop_firm_registration.trading_platform AS prop_firm_registration_trading_platform, prop_firm_registration.propfirm_rules AS prop_firm_registration_propfirm_rules, prop_firm_registration.whatsapp_no AS prop_firm_registration_whatsapp_no, prop_firm_registration.telegram_username AS prop_firm_registration_telegram_username, prop_firm_registration.pass_type AS prop_firm_registration_pass_type, prop_firm_registration.account_status AS prop_firm_registration_account_status, prop_firm_registration.payment_status AS prop_firm_registration_payment_status, prop_firm_registration.created_at AS prop_firm_registration_created_at, prop_firm_registration.updated_at AS prop_firm_registration_updated_at 
FROM prop_firm_registration 
WHERE prop_firm_registration.user_id IN (?)]
[parameters: ('6affb04777824af5acc7646740ae90f3',)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)

2026-01-17 12:27:51,047 - uvicorn.access - INFO - 127.0.0.1:41126 - "GET /api/v1/prop-firm HTTP/1.1" 500
2026-01-17 12:27:51,095 - app - ERROR - Request failed: GET /api/v1/prop-firm - Duration: 30.26ms - Error: (sqlite3.OperationalError) no such column: prop_firm_registration.pass_type
[SQL: SELECT prop_firm_registration.user_id AS prop_firm_registration_user_id, prop_firm_registration.id AS prop_firm_registration_id, prop_firm_registration.login_id AS prop_firm_registration_login_id, prop_firm_registration.password AS prop_firm_registration_password, prop_firm_registration.propfirm_name AS prop_firm_registration_propfirm_name, prop_firm_registration.propfirm_website_link AS prop_firm_registration_propfirm_website_link, prop_firm_registration.server_name AS prop_firm_registration_server_name, prop_firm_registration.server_type AS prop_firm_registration_server_type, prop_firm_registration.challenges_step AS prop_firm_registration_challenges_step, prop_firm_registration.service_scope AS prop_firm_registration_service_scope, prop_firm_registration.order_id AS prop_firm_registration_order_id, prop_firm_registration.propfirm_account_cost AS prop_firm_registration_propfirm_account_cost, prop_firm_registration.account_size AS prop_firm_registration_account_size, prop_firm_registration.account_phases AS prop_firm_registration_account_phases, prop_firm_registration.trading_platform AS prop_firm_registration_trading_platform, prop_firm_registration.propfirm_rules AS prop_firm_registration_propfirm_rules, prop_firm_registration.whatsapp_no AS prop_firm_registration_whatsapp_no, prop_firm_registration.telegram_username AS prop_firm_registration_telegram_username, prop_firm_registration.pass_type AS prop_firm_registration_pass_type, prop_firm_registration.account_status AS prop_firm_registration_account_status, prop_firm_registration.payment_status AS prop_firm_registration_payment_status, prop_firm_registration.created_at AS prop_firm_registration_created_at, prop_firm_registration.updated_at AS prop_firm_registration_updated_at 
FROM prop_firm_registration 
WHERE prop_firm_registration.user_id IN (?)]
[parameters: ('6affb04777824af5acc7646740ae90f3',)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2026-01-17 12:27:51,110 - app - ERROR - Traceback (most recent call last):
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/engine/default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 180, in execute
    self._adapt_connection._handle_exception(error)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 340, in _handle_exception
    raise error
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 162, in execute
    self.await_(_cursor.execute(operation, parameters))
    ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 132, in await_only
    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501
           ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 196, in greenlet_spawn
    value = await result
            ^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/aiosqlite/cursor.py", line 40, in execute
    await self._execute(self._cursor.execute, sql, parameters)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/aiosqlite/cursor.py", line 32, in _execute
    return await self._conn._execute(fn, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
sqlite3.OperationalError: no such column: prop_firm_registration.pass_type

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/home/rehack/PycharmProjects/solpro_backend/app/main.py", line 65, in log_requests
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/base.py", line 168, in call_next
    raise app_exc from app_exc.__cause__ or app_exc.__context__
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/base.py", line 144, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/base.py", line 191, in __call__
    with recv_stream, send_stream, collapse_excgroups():
                                   ~~~~~~~~~~~~~~~~~~^^
  File "/home/rehack/anaconda3/lib/python3.13/contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    ~~~~~~~~~~~~~~^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/_utils.py", line 85, in collapse_excgroups
    raise exc
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/base.py", line 193, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/slowapi/middleware.py", line 136, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/base.py", line 168, in call_next
    raise app_exc from app_exc.__cause__ or app_exc.__context__
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/base.py", line 144, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/gzip.py", line 29, in __call__
    await responder(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/gzip.py", line 130, in __call__
    await super().__call__(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/gzip.py", line 46, in __call__
    await self.app(scope, receive, self.send_with_compression)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/trustedhost.py", line 36, in __call__
    await self.app(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/fastapi/routing.py", line 125, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/fastapi/routing.py", line 111, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/fastapi/routing.py", line 381, in app
    solved_result = await solve_dependencies(
                    ^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<6 lines>...
    )
    ^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/fastapi/dependencies/utils.py", line 641, in solve_dependencies
    solved = await call(**solved_result.values)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rehack/PycharmProjects/solpro_backend/app/dependencies/auth.py", line 44, in get_current_user
    result = await session.exec(query)
             ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlmodel/ext/asyncio/session.py", line 98, in exec
    result = await greenlet_spawn(
             ^^^^^^^^^^^^^^^^^^^^^
    ...<7 lines>...
    )
    ^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 201, in greenlet_spawn
    result = context.throw(*sys.exc_info())
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlmodel/orm/session.py", line 83, in exec
    results = super().execute(
        statement,
    ...<4 lines>...
        _add_event=_add_event,
    )
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/orm/session.py", line 2351, in execute
    return self._execute_internal(
           ~~~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
    ...<4 lines>...
        _add_event=_add_event,
        ^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/orm/session.py", line 2249, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self,
        ^^^^^
    ...<4 lines>...
        conn,
        ^^^^^
    )
    ^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/orm/context.py", line 309, in orm_execute_statement
    return cls.orm_setup_cursor_result(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        session,
        ^^^^^^^^
    ...<4 lines>...
        result,
        ^^^^^^^
    )
    ^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/orm/context.py", line 616, in orm_setup_cursor_result
    return loading.instances(result, querycontext)
           ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/orm/loading.py", line 262, in instances
    _prebuffered = list(chunks(None))
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/orm/loading.py", line 247, in chunks
    post_load.invoke(context, path)
    ~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/orm/loading.py", line 1564, in invoke
    loader(
    ~~~~~~^
        effective_context, path, states, self.load_keys, *arg, **kw
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/orm/strategies.py", line 3338, in _load_for_path
    self._load_via_parent(
    ~~~~~~~~~~~~~~~~~~~~~^
        our_states, query_info, q, context, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/orm/strategies.py", line 3414, in _load_via_parent
    context.session.execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        q,
        ^^
        params={"primary_keys": primary_keys},
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        execution_options=execution_options,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ).unique(),
    ^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlmodel/orm/session.py", line 144, in execute
    return super().execute(
           ~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
    ...<4 lines>...
        _add_event=_add_event,
        ^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/orm/session.py", line 2351, in execute
    return self._execute_internal(
           ~~~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
    ...<4 lines>...
        _add_event=_add_event,
        ^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/orm/session.py", line 2249, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self,
        ^^^^^
    ...<4 lines>...
        conn,
        ^^^^^
    )
    ^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/orm/context.py", line 306, in orm_execute_statement
    result = conn.execute(
        statement, params or {}, execution_options=execution_options
    )
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/engine/base.py", line 1419, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/sql/elements.py", line 526, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/engine/base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
        dialect,
    ...<8 lines>...
        cache_hit=cache_hit,
    )
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/engine/base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ~~~~~~~~~~~~~~~~~~~~~~~~~^
        dialect, context, statement, parameters
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/engine/base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        e, str_statement, effective_parameters, cursor, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/engine/base.py", line 2355, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/engine/default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 180, in execute
    self._adapt_connection._handle_exception(error)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 340, in _handle_exception
    raise error
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 162, in execute
    self.await_(_cursor.execute(operation, parameters))
    ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 132, in await_only
    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501
           ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 196, in greenlet_spawn
    value = await result
            ^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/aiosqlite/cursor.py", line 40, in execute
    await self._execute(self._cursor.execute, sql, parameters)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/aiosqlite/cursor.py", line 32, in _execute
    return await self._conn._execute(fn, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such column: prop_firm_registration.pass_type
[SQL: SELECT prop_firm_registration.user_id AS prop_firm_registration_user_id, prop_firm_registration.id AS prop_firm_registration_id, prop_firm_registration.login_id AS prop_firm_registration_login_id, prop_firm_registration.password AS prop_firm_registration_password, prop_firm_registration.propfirm_name AS prop_firm_registration_propfirm_name, prop_firm_registration.propfirm_website_link AS prop_firm_registration_propfirm_website_link, prop_firm_registration.server_name AS prop_firm_registration_server_name, prop_firm_registration.server_type AS prop_firm_registration_server_type, prop_firm_registration.challenges_step AS prop_firm_registration_challenges_step, prop_firm_registration.service_scope AS prop_firm_registration_service_scope, prop_firm_registration.order_id AS prop_firm_registration_order_id, prop_firm_registration.propfirm_account_cost AS prop_firm_registration_propfirm_account_cost, prop_firm_registration.account_size AS prop_firm_registration_account_size, prop_firm_registration.account_phases AS prop_firm_registration_account_phases, prop_firm_registration.trading_platform AS prop_firm_registration_trading_platform, prop_firm_registration.propfirm_rules AS prop_firm_registration_propfirm_rules, prop_firm_registration.whatsapp_no AS prop_firm_registration_whatsapp_no, prop_firm_registration.telegram_username AS prop_firm_registration_telegram_username, prop_firm_registration.pass_type AS prop_firm_registration_pass_type, prop_firm_registration.account_status AS prop_firm_registration_account_status, prop_firm_registration.payment_status AS prop_firm_registration_payment_status, prop_firm_registration.created_at AS prop_firm_registration_created_at, prop_firm_registration.updated_at AS prop_firm_registration_updated_at 
FROM prop_firm_registration 
WHERE prop_firm_registration.user_id IN (?)]
[parameters: ('6affb04777824af5acc7646740ae90f3',)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)

2026-01-17 12:27:51,113 - uvicorn.access - INFO - 127.0.0.1:41138 - "GET /api/v1/prop-firm HTTP/1.1" 500
2026-01-17 12:27:59,184 - app - ERROR - Request failed: GET /api/v1/wallet/summary - Duration: 43.07ms - Error: (sqlite3.OperationalError) no such column: prop_firm_registration.pass_type
[SQL: SELECT prop_firm_registration.user_id AS prop_firm_registration_user_id, prop_firm_registration.id AS prop_firm_registration_id, prop_firm_registration.login_id AS prop_firm_registration_login_id, prop_firm_registration.password AS prop_firm_registration_password, prop_firm_registration.propfirm_name AS prop_firm_registration_propfirm_name, prop_firm_registration.propfirm_website_link AS prop_firm_registration_propfirm_website_link, prop_firm_registration.server_name AS prop_firm_registration_server_name, prop_firm_registration.server_type AS prop_firm_registration_server_type, prop_firm_registration.challenges_step AS prop_firm_registration_challenges_step, prop_firm_registration.service_scope AS prop_firm_registration_service_scope, prop_firm_registration.order_id AS prop_firm_registration_order_id, prop_firm_registration.propfirm_account_cost AS prop_firm_registration_propfirm_account_cost, prop_firm_registration.account_size AS prop_firm_registration_account_size, prop_firm_registration.account_phases AS prop_firm_registration_account_phases, prop_firm_registration.trading_platform AS prop_firm_registration_trading_platform, prop_firm_registration.propfirm_rules AS prop_firm_registration_propfirm_rules, prop_firm_registration.whatsapp_no AS prop_firm_registration_whatsapp_no, prop_firm_registration.telegram_username AS prop_firm_registration_telegram_username, prop_firm_registration.pass_type AS prop_firm_registration_pass_type, prop_firm_registration.account_status AS prop_firm_registration_account_status, prop_firm_registration.payment_status AS prop_firm_registration_payment_status, prop_firm_registration.created_at AS prop_firm_registration_created_at, prop_firm_registration.updated_at AS prop_firm_registration_updated_at 
FROM prop_firm_registration 
WHERE prop_firm_registration.user_id IN (?)]
[parameters: ('6affb04777824af5acc7646740ae90f3',)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2026-01-17 12:27:59,195 - app - ERROR - Traceback (most recent call last):
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/engine/default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 180, in execute
    self._adapt_connection._handle_exception(error)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 340, in _handle_exception
    raise error
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 162, in execute
    self.await_(_cursor.execute(operation, parameters))
    ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 132, in await_only
    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501
           ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 196, in greenlet_spawn
    value = await result
            ^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/aiosqlite/cursor.py", line 40, in execute
    await self._execute(self._cursor.execute, sql, parameters)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/aiosqlite/cursor.py", line 32, in _execute
    return await self._conn._execute(fn, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
sqlite3.OperationalError: no such column: prop_firm_registration.pass_type

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/home/rehack/PycharmProjects/solpro_backend/app/main.py", line 65, in log_requests
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/base.py", line 168, in call_next
    raise app_exc from app_exc.__cause__ or app_exc.__context__
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/base.py", line 144, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/base.py", line 191, in __call__
    with recv_stream, send_stream, collapse_excgroups():
                                   ~~~~~~~~~~~~~~~~~~^^
  File "/home/rehack/anaconda3/lib/python3.13/contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    ~~~~~~~~~~~~~~^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/_utils.py", line 85, in collapse_excgroups
    raise exc
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/base.py", line 193, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/slowapi/middleware.py", line 136, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/base.py", line 168, in call_next
    raise app_exc from app_exc.__cause__ or app_exc.__context__
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/base.py", line 144, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/gzip.py", line 29, in __call__
    await responder(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/gzip.py", line 130, in __call__
    await super().__call__(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/gzip.py", line 46, in __call__
    await self.app(scope, receive, self.send_with_compression)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/trustedhost.py", line 36, in __call__
    await self.app(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/fastapi/routing.py", line 125, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/fastapi/routing.py", line 111, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/fastapi/routing.py", line 381, in app
    solved_result = await solve_dependencies(
                    ^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<6 lines>...
    )
    ^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/fastapi/dependencies/utils.py", line 641, in solve_dependencies
    solved = await call(**solved_result.values)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rehack/PycharmProjects/solpro_backend/app/dependencies/auth.py", line 44, in get_current_user
    result = await session.exec(query)
             ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlmodel/ext/asyncio/session.py", line 98, in exec
    result = await greenlet_spawn(
             ^^^^^^^^^^^^^^^^^^^^^
    ...<7 lines>...
    )
    ^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 201, in greenlet_spawn
    result = context.throw(*sys.exc_info())
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlmodel/orm/session.py", line 83, in exec
    results = super().execute(
        statement,
    ...<4 lines>...
        _add_event=_add_event,
    )
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/orm/session.py", line 2351, in execute
    return self._execute_internal(
           ~~~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
    ...<4 lines>...
        _add_event=_add_event,
        ^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/orm/session.py", line 2249, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self,
        ^^^^^
    ...<4 lines>...
        conn,
        ^^^^^
    )
    ^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/orm/context.py", line 309, in orm_execute_statement
    return cls.orm_setup_cursor_result(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        session,
        ^^^^^^^^
    ...<4 lines>...
        result,
        ^^^^^^^
    )
    ^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/orm/context.py", line 616, in orm_setup_cursor_result
    return loading.instances(result, querycontext)
           ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/orm/loading.py", line 262, in instances
    _prebuffered = list(chunks(None))
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/orm/loading.py", line 247, in chunks
    post_load.invoke(context, path)
    ~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/orm/loading.py", line 1564, in invoke
    loader(
    ~~~~~~^
        effective_context, path, states, self.load_keys, *arg, **kw
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/orm/strategies.py", line 3338, in _load_for_path
    self._load_via_parent(
    ~~~~~~~~~~~~~~~~~~~~~^
        our_states, query_info, q, context, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/orm/strategies.py", line 3414, in _load_via_parent
    context.session.execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        q,
        ^^
        params={"primary_keys": primary_keys},
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        execution_options=execution_options,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ).unique(),
    ^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlmodel/orm/session.py", line 144, in execute
    return super().execute(
           ~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
    ...<4 lines>...
        _add_event=_add_event,
        ^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/orm/session.py", line 2351, in execute
    return self._execute_internal(
           ~~~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
    ...<4 lines>...
        _add_event=_add_event,
        ^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/orm/session.py", line 2249, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self,
        ^^^^^
    ...<4 lines>...
        conn,
        ^^^^^
    )
    ^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/orm/context.py", line 306, in orm_execute_statement
    result = conn.execute(
        statement, params or {}, execution_options=execution_options
    )
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/engine/base.py", line 1419, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/sql/elements.py", line 526, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/engine/base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
        dialect,
    ...<8 lines>...
        cache_hit=cache_hit,
    )
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/engine/base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ~~~~~~~~~~~~~~~~~~~~~~~~~^
        dialect, context, statement, parameters
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/engine/base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        e, str_statement, effective_parameters, cursor, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/engine/base.py", line 2355, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/engine/default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 180, in execute
    self._adapt_connection._handle_exception(error)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 340, in _handle_exception
    raise error
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 162, in execute
    self.await_(_cursor.execute(operation, parameters))
    ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 132, in await_only
    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501
           ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 196, in greenlet_spawn
    value = await result
            ^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/aiosqlite/cursor.py", line 40, in execute
    await self._execute(self._cursor.execute, sql, parameters)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/aiosqlite/cursor.py", line 32, in _execute
    return await self._conn._execute(fn, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such column: prop_firm_registration.pass_type
[SQL: SELECT prop_firm_registration.user_id AS prop_firm_registration_user_id, prop_firm_registration.id AS prop_firm_registration_id, prop_firm_registration.login_id AS prop_firm_registration_login_id, prop_firm_registration.password AS prop_firm_registration_password, prop_firm_registration.propfirm_name AS prop_firm_registration_propfirm_name, prop_firm_registration.propfirm_website_link AS prop_firm_registration_propfirm_website_link, prop_firm_registration.server_name AS prop_firm_registration_server_name, prop_firm_registration.server_type AS prop_firm_registration_server_type, prop_firm_registration.challenges_step AS prop_firm_registration_challenges_step, prop_firm_registration.service_scope AS prop_firm_registration_service_scope, prop_firm_registration.order_id AS prop_firm_registration_order_id, prop_firm_registration.propfirm_account_cost AS prop_firm_registration_propfirm_account_cost, prop_firm_registration.account_size AS prop_firm_registration_account_size, prop_firm_registration.account_phases AS prop_firm_registration_account_phases, prop_firm_registration.trading_platform AS prop_firm_registration_trading_platform, prop_firm_registration.propfirm_rules AS prop_firm_registration_propfirm_rules, prop_firm_registration.whatsapp_no AS prop_firm_registration_whatsapp_no, prop_firm_registration.telegram_username AS prop_firm_registration_telegram_username, prop_firm_registration.pass_type AS prop_firm_registration_pass_type, prop_firm_registration.account_status AS prop_firm_registration_account_status, prop_firm_registration.payment_status AS prop_firm_registration_payment_status, prop_firm_registration.created_at AS prop_firm_registration_created_at, prop_firm_registration.updated_at AS prop_firm_registration_updated_at 
FROM prop_firm_registration 
WHERE prop_firm_registration.user_id IN (?)]
[parameters: ('6affb04777824af5acc7646740ae90f3',)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)

2026-01-17 12:27:59,195 - uvicorn.access - INFO - 127.0.0.1:59386 - "GET /api/v1/wallet/summary HTTP/1.1" 500
2026-01-17 12:27:59,198 - app - ERROR - Request failed: GET /api/v1/wallet/earnings - Duration: 52.16ms - Error: (sqlite3.OperationalError) no such column: prop_firm_registration.pass_type
[SQL: SELECT prop_firm_registration.user_id AS prop_firm_registration_user_id, prop_firm_registration.id AS prop_firm_registration_id, prop_firm_registration.login_id AS prop_firm_registration_login_id, prop_firm_registration.password AS prop_firm_registration_password, prop_firm_registration.propfirm_name AS prop_firm_registration_propfirm_name, prop_firm_registration.propfirm_website_link AS prop_firm_registration_propfirm_website_link, prop_firm_registration.server_name AS prop_firm_registration_server_name, prop_firm_registration.server_type AS prop_firm_registration_server_type, prop_firm_registration.challenges_step AS prop_firm_registration_challenges_step, prop_firm_registration.service_scope AS prop_firm_registration_service_scope, prop_firm_registration.order_id AS prop_firm_registration_order_id, prop_firm_registration.propfirm_account_cost AS prop_firm_registration_propfirm_account_cost, prop_firm_registration.account_size AS prop_firm_registration_account_size, prop_firm_registration.account_phases AS prop_firm_registration_account_phases, prop_firm_registration.trading_platform AS prop_firm_registration_trading_platform, prop_firm_registration.propfirm_rules AS prop_firm_registration_propfirm_rules, prop_firm_registration.whatsapp_no AS prop_firm_registration_whatsapp_no, prop_firm_registration.telegram_username AS prop_firm_registration_telegram_username, prop_firm_registration.pass_type AS prop_firm_registration_pass_type, prop_firm_registration.account_status AS prop_firm_registration_account_status, prop_firm_registration.payment_status AS prop_firm_registration_payment_status, prop_firm_registration.created_at AS prop_firm_registration_created_at, prop_firm_registration.updated_at AS prop_firm_registration_updated_at 
FROM prop_firm_registration 
WHERE prop_firm_registration.user_id IN (?)]
[parameters: ('6affb04777824af5acc7646740ae90f3',)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2026-01-17 12:27:59,208 - app - ERROR - Traceback (most recent call last):
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/engine/default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 180, in execute
    self._adapt_connection._handle_exception(error)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 340, in _handle_exception
    raise error
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 162, in execute
    self.await_(_cursor.execute(operation, parameters))
    ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 132, in await_only
    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501
           ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 196, in greenlet_spawn
    value = await result
            ^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/aiosqlite/cursor.py", line 40, in execute
    await self._execute(self._cursor.execute, sql, parameters)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/aiosqlite/cursor.py", line 32, in _execute
    return await self._conn._execute(fn, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
sqlite3.OperationalError: no such column: prop_firm_registration.pass_type

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/home/rehack/PycharmProjects/solpro_backend/app/main.py", line 65, in log_requests
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/base.py", line 168, in call_next
    raise app_exc from app_exc.__cause__ or app_exc.__context__
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/base.py", line 144, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/base.py", line 191, in __call__
    with recv_stream, send_stream, collapse_excgroups():
                                   ~~~~~~~~~~~~~~~~~~^^
  File "/home/rehack/anaconda3/lib/python3.13/contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    ~~~~~~~~~~~~~~^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/_utils.py", line 85, in collapse_excgroups
    raise exc
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/base.py", line 193, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/slowapi/middleware.py", line 136, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/base.py", line 168, in call_next
    raise app_exc from app_exc.__cause__ or app_exc.__context__
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/base.py", line 144, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/gzip.py", line 29, in __call__
    await responder(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/gzip.py", line 130, in __call__
    await super().__call__(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/gzip.py", line 46, in __call__
    await self.app(scope, receive, self.send_with_compression)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/trustedhost.py", line 36, in __call__
    await self.app(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/fastapi/routing.py", line 125, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/fastapi/routing.py", line 111, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/fastapi/routing.py", line 381, in app
    solved_result = await solve_dependencies(
                    ^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<6 lines>...
    )
    ^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/fastapi/dependencies/utils.py", line 641, in solve_dependencies
    solved = await call(**solved_result.values)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rehack/PycharmProjects/solpro_backend/app/dependencies/auth.py", line 44, in get_current_user
    result = await session.exec(query)
             ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlmodel/ext/asyncio/session.py", line 98, in exec
    result = await greenlet_spawn(
             ^^^^^^^^^^^^^^^^^^^^^
    ...<7 lines>...
    )
    ^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 201, in greenlet_spawn
    result = context.throw(*sys.exc_info())
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlmodel/orm/session.py", line 83, in exec
    results = super().execute(
        statement,
    ...<4 lines>...
        _add_event=_add_event,
    )
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/orm/session.py", line 2351, in execute
    return self._execute_internal(
           ~~~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
    ...<4 lines>...
        _add_event=_add_event,
        ^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/orm/session.py", line 2249, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self,
        ^^^^^
    ...<4 lines>...
        conn,
        ^^^^^
    )
    ^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/orm/context.py", line 309, in orm_execute_statement
    return cls.orm_setup_cursor_result(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        session,
        ^^^^^^^^
    ...<4 lines>...
        result,
        ^^^^^^^
    )
    ^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/orm/context.py", line 616, in orm_setup_cursor_result
    return loading.instances(result, querycontext)
           ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/orm/loading.py", line 262, in instances
    _prebuffered = list(chunks(None))
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/orm/loading.py", line 247, in chunks
    post_load.invoke(context, path)
    ~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/orm/loading.py", line 1564, in invoke
    loader(
    ~~~~~~^
        effective_context, path, states, self.load_keys, *arg, **kw
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/orm/strategies.py", line 3338, in _load_for_path
    self._load_via_parent(
    ~~~~~~~~~~~~~~~~~~~~~^
        our_states, query_info, q, context, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/orm/strategies.py", line 3414, in _load_via_parent
    context.session.execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        q,
        ^^
        params={"primary_keys": primary_keys},
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        execution_options=execution_options,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ).unique(),
    ^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlmodel/orm/session.py", line 144, in execute
    return super().execute(
           ~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
    ...<4 lines>...
        _add_event=_add_event,
        ^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/orm/session.py", line 2351, in execute
    return self._execute_internal(
           ~~~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
    ...<4 lines>...
        _add_event=_add_event,
        ^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/orm/session.py", line 2249, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self,
        ^^^^^
    ...<4 lines>...
        conn,
        ^^^^^
    )
    ^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/orm/context.py", line 306, in orm_execute_statement
    result = conn.execute(
        statement, params or {}, execution_options=execution_options
    )
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/engine/base.py", line 1419, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/sql/elements.py", line 526, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/engine/base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
        dialect,
    ...<8 lines>...
        cache_hit=cache_hit,
    )
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/engine/base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ~~~~~~~~~~~~~~~~~~~~~~~~~^
        dialect, context, statement, parameters
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/engine/base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        e, str_statement, effective_parameters, cursor, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/engine/base.py", line 2355, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/engine/default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 180, in execute
    self._adapt_connection._handle_exception(error)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 340, in _handle_exception
    raise error
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 162, in execute
    self.await_(_cursor.execute(operation, parameters))
    ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 132, in await_only
    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501
           ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 196, in greenlet_spawn
    value = await result
            ^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/aiosqlite/cursor.py", line 40, in execute
    await self._execute(self._cursor.execute, sql, parameters)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/aiosqlite/cursor.py", line 32, in _execute
    return await self._conn._execute(fn, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such column: prop_firm_registration.pass_type
[SQL: SELECT prop_firm_registration.user_id AS prop_firm_registration_user_id, prop_firm_registration.id AS prop_firm_registration_id, prop_firm_registration.login_id AS prop_firm_registration_login_id, prop_firm_registration.password AS prop_firm_registration_password, prop_firm_registration.propfirm_name AS prop_firm_registration_propfirm_name, prop_firm_registration.propfirm_website_link AS prop_firm_registration_propfirm_website_link, prop_firm_registration.server_name AS prop_firm_registration_server_name, prop_firm_registration.server_type AS prop_firm_registration_server_type, prop_firm_registration.challenges_step AS prop_firm_registration_challenges_step, prop_firm_registration.service_scope AS prop_firm_registration_service_scope, prop_firm_registration.order_id AS prop_firm_registration_order_id, prop_firm_registration.propfirm_account_cost AS prop_firm_registration_propfirm_account_cost, prop_firm_registration.account_size AS prop_firm_registration_account_size, prop_firm_registration.account_phases AS prop_firm_registration_account_phases, prop_firm_registration.trading_platform AS prop_firm_registration_trading_platform, prop_firm_registration.propfirm_rules AS prop_firm_registration_propfirm_rules, prop_firm_registration.whatsapp_no AS prop_firm_registration_whatsapp_no, prop_firm_registration.telegram_username AS prop_firm_registration_telegram_username, prop_firm_registration.pass_type AS prop_firm_registration_pass_type, prop_firm_registration.account_status AS prop_firm_registration_account_status, prop_firm_registration.payment_status AS prop_firm_registration_payment_status, prop_firm_registration.created_at AS prop_firm_registration_created_at, prop_firm_registration.updated_at AS prop_firm_registration_updated_at 
FROM prop_firm_registration 
WHERE prop_firm_registration.user_id IN (?)]
[parameters: ('6affb04777824af5acc7646740ae90f3',)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)

2026-01-17 12:27:59,210 - uvicorn.access - INFO - 127.0.0.1:59398 - "GET /api/v1/wallet/earnings HTTP/1.1" 500
2026-01-17 12:27:59,224 - app - ERROR - Request failed: GET /api/v1/wallet/withdrawals - Duration: 76.83ms - Error: (sqlite3.OperationalError) no such column: prop_firm_registration.pass_type
[SQL: SELECT prop_firm_registration.user_id AS prop_firm_registration_user_id, prop_firm_registration.id AS prop_firm_registration_id, prop_firm_registration.login_id AS prop_firm_registration_login_id, prop_firm_registration.password AS prop_firm_registration_password, prop_firm_registration.propfirm_name AS prop_firm_registration_propfirm_name, prop_firm_registration.propfirm_website_link AS prop_firm_registration_propfirm_website_link, prop_firm_registration.server_name AS prop_firm_registration_server_name, prop_firm_registration.server_type AS prop_firm_registration_server_type, prop_firm_registration.challenges_step AS prop_firm_registration_challenges_step, prop_firm_registration.service_scope AS prop_firm_registration_service_scope, prop_firm_registration.order_id AS prop_firm_registration_order_id, prop_firm_registration.propfirm_account_cost AS prop_firm_registration_propfirm_account_cost, prop_firm_registration.account_size AS prop_firm_registration_account_size, prop_firm_registration.account_phases AS prop_firm_registration_account_phases, prop_firm_registration.trading_platform AS prop_firm_registration_trading_platform, prop_firm_registration.propfirm_rules AS prop_firm_registration_propfirm_rules, prop_firm_registration.whatsapp_no AS prop_firm_registration_whatsapp_no, prop_firm_registration.telegram_username AS prop_firm_registration_telegram_username, prop_firm_registration.pass_type AS prop_firm_registration_pass_type, prop_firm_registration.account_status AS prop_firm_registration_account_status, prop_firm_registration.payment_status AS prop_firm_registration_payment_status, prop_firm_registration.created_at AS prop_firm_registration_created_at, prop_firm_registration.updated_at AS prop_firm_registration_updated_at 
FROM prop_firm_registration 
WHERE prop_firm_registration.user_id IN (?)]
[parameters: ('6affb04777824af5acc7646740ae90f3',)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2026-01-17 12:27:59,234 - app - ERROR - Traceback (most recent call last):
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/engine/default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 180, in execute
    self._adapt_connection._handle_exception(error)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 340, in _handle_exception
    raise error
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 162, in execute
    self.await_(_cursor.execute(operation, parameters))
    ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 132, in await_only
    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501
           ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 196, in greenlet_spawn
    value = await result
            ^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/aiosqlite/cursor.py", line 40, in execute
    await self._execute(self._cursor.execute, sql, parameters)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/aiosqlite/cursor.py", line 32, in _execute
    return await self._conn._execute(fn, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
sqlite3.OperationalError: no such column: prop_firm_registration.pass_type

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/home/rehack/PycharmProjects/solpro_backend/app/main.py", line 65, in log_requests
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/base.py", line 168, in call_next
    raise app_exc from app_exc.__cause__ or app_exc.__context__
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/base.py", line 144, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/base.py", line 191, in __call__
    with recv_stream, send_stream, collapse_excgroups():
                                   ~~~~~~~~~~~~~~~~~~^^
  File "/home/rehack/anaconda3/lib/python3.13/contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    ~~~~~~~~~~~~~~^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/_utils.py", line 85, in collapse_excgroups
    raise exc
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/base.py", line 193, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/slowapi/middleware.py", line 136, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/base.py", line 168, in call_next
    raise app_exc from app_exc.__cause__ or app_exc.__context__
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/base.py", line 144, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/gzip.py", line 29, in __call__
    await responder(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/gzip.py", line 130, in __call__
    await super().__call__(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/gzip.py", line 46, in __call__
    await self.app(scope, receive, self.send_with_compression)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/trustedhost.py", line 36, in __call__
    await self.app(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/fastapi/routing.py", line 125, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/fastapi/routing.py", line 111, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/fastapi/routing.py", line 381, in app
    solved_result = await solve_dependencies(
                    ^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<6 lines>...
    )
    ^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/fastapi/dependencies/utils.py", line 641, in solve_dependencies
    solved = await call(**solved_result.values)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rehack/PycharmProjects/solpro_backend/app/dependencies/auth.py", line 44, in get_current_user
    result = await session.exec(query)
             ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlmodel/ext/asyncio/session.py", line 98, in exec
    result = await greenlet_spawn(
             ^^^^^^^^^^^^^^^^^^^^^
    ...<7 lines>...
    )
    ^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 201, in greenlet_spawn
    result = context.throw(*sys.exc_info())
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlmodel/orm/session.py", line 83, in exec
    results = super().execute(
        statement,
    ...<4 lines>...
        _add_event=_add_event,
    )
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/orm/session.py", line 2351, in execute
    return self._execute_internal(
           ~~~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
    ...<4 lines>...
        _add_event=_add_event,
        ^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/orm/session.py", line 2249, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self,
        ^^^^^
    ...<4 lines>...
        conn,
        ^^^^^
    )
    ^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/orm/context.py", line 309, in orm_execute_statement
    return cls.orm_setup_cursor_result(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        session,
        ^^^^^^^^
    ...<4 lines>...
        result,
        ^^^^^^^
    )
    ^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/orm/context.py", line 616, in orm_setup_cursor_result
    return loading.instances(result, querycontext)
           ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/orm/loading.py", line 262, in instances
    _prebuffered = list(chunks(None))
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/orm/loading.py", line 247, in chunks
    post_load.invoke(context, path)
    ~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/orm/loading.py", line 1564, in invoke
    loader(
    ~~~~~~^
        effective_context, path, states, self.load_keys, *arg, **kw
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/orm/strategies.py", line 3338, in _load_for_path
    self._load_via_parent(
    ~~~~~~~~~~~~~~~~~~~~~^
        our_states, query_info, q, context, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/orm/strategies.py", line 3414, in _load_via_parent
    context.session.execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        q,
        ^^
        params={"primary_keys": primary_keys},
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        execution_options=execution_options,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ).unique(),
    ^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlmodel/orm/session.py", line 144, in execute
    return super().execute(
           ~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
    ...<4 lines>...
        _add_event=_add_event,
        ^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/orm/session.py", line 2351, in execute
    return self._execute_internal(
           ~~~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
    ...<4 lines>...
        _add_event=_add_event,
        ^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/orm/session.py", line 2249, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self,
        ^^^^^
    ...<4 lines>...
        conn,
        ^^^^^
    )
    ^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/orm/context.py", line 306, in orm_execute_statement
    result = conn.execute(
        statement, params or {}, execution_options=execution_options
    )
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/engine/base.py", line 1419, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/sql/elements.py", line 526, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/engine/base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
        dialect,
    ...<8 lines>...
        cache_hit=cache_hit,
    )
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/engine/base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ~~~~~~~~~~~~~~~~~~~~~~~~~^
        dialect, context, statement, parameters
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/engine/base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        e, str_statement, effective_parameters, cursor, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/engine/base.py", line 2355, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/engine/default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 180, in execute
    self._adapt_connection._handle_exception(error)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 340, in _handle_exception
    raise error
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 162, in execute
    self.await_(_cursor.execute(operation, parameters))
    ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 132, in await_only
    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501
           ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 196, in greenlet_spawn
    value = await result
            ^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/aiosqlite/cursor.py", line 40, in execute
    await self._execute(self._cursor.execute, sql, parameters)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/aiosqlite/cursor.py", line 32, in _execute
    return await self._conn._execute(fn, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such column: prop_firm_registration.pass_type
[SQL: SELECT prop_firm_registration.user_id AS prop_firm_registration_user_id, prop_firm_registration.id AS prop_firm_registration_id, prop_firm_registration.login_id AS prop_firm_registration_login_id, prop_firm_registration.password AS prop_firm_registration_password, prop_firm_registration.propfirm_name AS prop_firm_registration_propfirm_name, prop_firm_registration.propfirm_website_link AS prop_firm_registration_propfirm_website_link, prop_firm_registration.server_name AS prop_firm_registration_server_name, prop_firm_registration.server_type AS prop_firm_registration_server_type, prop_firm_registration.challenges_step AS prop_firm_registration_challenges_step, prop_firm_registration.service_scope AS prop_firm_registration_service_scope, prop_firm_registration.order_id AS prop_firm_registration_order_id, prop_firm_registration.propfirm_account_cost AS prop_firm_registration_propfirm_account_cost, prop_firm_registration.account_size AS prop_firm_registration_account_size, prop_firm_registration.account_phases AS prop_firm_registration_account_phases, prop_firm_registration.trading_platform AS prop_firm_registration_trading_platform, prop_firm_registration.propfirm_rules AS prop_firm_registration_propfirm_rules, prop_firm_registration.whatsapp_no AS prop_firm_registration_whatsapp_no, prop_firm_registration.telegram_username AS prop_firm_registration_telegram_username, prop_firm_registration.pass_type AS prop_firm_registration_pass_type, prop_firm_registration.account_status AS prop_firm_registration_account_status, prop_firm_registration.payment_status AS prop_firm_registration_payment_status, prop_firm_registration.created_at AS prop_firm_registration_created_at, prop_firm_registration.updated_at AS prop_firm_registration_updated_at 
FROM prop_firm_registration 
WHERE prop_firm_registration.user_id IN (?)]
[parameters: ('6affb04777824af5acc7646740ae90f3',)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)

2026-01-17 12:27:59,238 - uvicorn.access - INFO - 127.0.0.1:59408 - "GET /api/v1/wallet/withdrawals HTTP/1.1" 500
2026-01-17 12:27:59,283 - app - ERROR - Request failed: GET /api/v1/wallet/summary - Duration: 72.41ms - Error: (sqlite3.OperationalError) no such column: prop_firm_registration.pass_type
[SQL: SELECT prop_firm_registration.user_id AS prop_firm_registration_user_id, prop_firm_registration.id AS prop_firm_registration_id, prop_firm_registration.login_id AS prop_firm_registration_login_id, prop_firm_registration.password AS prop_firm_registration_password, prop_firm_registration.propfirm_name AS prop_firm_registration_propfirm_name, prop_firm_registration.propfirm_website_link AS prop_firm_registration_propfirm_website_link, prop_firm_registration.server_name AS prop_firm_registration_server_name, prop_firm_registration.server_type AS prop_firm_registration_server_type, prop_firm_registration.challenges_step AS prop_firm_registration_challenges_step, prop_firm_registration.service_scope AS prop_firm_registration_service_scope, prop_firm_registration.order_id AS prop_firm_registration_order_id, prop_firm_registration.propfirm_account_cost AS prop_firm_registration_propfirm_account_cost, prop_firm_registration.account_size AS prop_firm_registration_account_size, prop_firm_registration.account_phases AS prop_firm_registration_account_phases, prop_firm_registration.trading_platform AS prop_firm_registration_trading_platform, prop_firm_registration.propfirm_rules AS prop_firm_registration_propfirm_rules, prop_firm_registration.whatsapp_no AS prop_firm_registration_whatsapp_no, prop_firm_registration.telegram_username AS prop_firm_registration_telegram_username, prop_firm_registration.pass_type AS prop_firm_registration_pass_type, prop_firm_registration.account_status AS prop_firm_registration_account_status, prop_firm_registration.payment_status AS prop_firm_registration_payment_status, prop_firm_registration.created_at AS prop_firm_registration_created_at, prop_firm_registration.updated_at AS prop_firm_registration_updated_at 
FROM prop_firm_registration 
WHERE prop_firm_registration.user_id IN (?)]
[parameters: ('6affb04777824af5acc7646740ae90f3',)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2026-01-17 12:27:59,298 - app - ERROR - Traceback (most recent call last):
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/engine/default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 180, in execute
    self._adapt_connection._handle_exception(error)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 340, in _handle_exception
    raise error
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 162, in execute
    self.await_(_cursor.execute(operation, parameters))
    ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 132, in await_only
    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501
           ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 196, in greenlet_spawn
    value = await result
            ^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/aiosqlite/cursor.py", line 40, in execute
    await self._execute(self._cursor.execute, sql, parameters)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/aiosqlite/cursor.py", line 32, in _execute
    return await self._conn._execute(fn, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
sqlite3.OperationalError: no such column: prop_firm_registration.pass_type

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/home/rehack/PycharmProjects/solpro_backend/app/main.py", line 65, in log_requests
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/base.py", line 168, in call_next
    raise app_exc from app_exc.__cause__ or app_exc.__context__
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/base.py", line 144, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/base.py", line 191, in __call__
    with recv_stream, send_stream, collapse_excgroups():
                                   ~~~~~~~~~~~~~~~~~~^^
  File "/home/rehack/anaconda3/lib/python3.13/contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    ~~~~~~~~~~~~~~^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/_utils.py", line 85, in collapse_excgroups
    raise exc
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/base.py", line 193, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/slowapi/middleware.py", line 136, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/base.py", line 168, in call_next
    raise app_exc from app_exc.__cause__ or app_exc.__context__
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/base.py", line 144, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/gzip.py", line 29, in __call__
    await responder(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/gzip.py", line 130, in __call__
    await super().__call__(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/gzip.py", line 46, in __call__
    await self.app(scope, receive, self.send_with_compression)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/trustedhost.py", line 36, in __call__
    await self.app(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/fastapi/routing.py", line 125, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/fastapi/routing.py", line 111, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/fastapi/routing.py", line 381, in app
    solved_result = await solve_dependencies(
                    ^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<6 lines>...
    )
    ^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/fastapi/dependencies/utils.py", line 641, in solve_dependencies
    solved = await call(**solved_result.values)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rehack/PycharmProjects/solpro_backend/app/dependencies/auth.py", line 44, in get_current_user
    result = await session.exec(query)
             ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlmodel/ext/asyncio/session.py", line 98, in exec
    result = await greenlet_spawn(
             ^^^^^^^^^^^^^^^^^^^^^
    ...<7 lines>...
    )
    ^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 201, in greenlet_spawn
    result = context.throw(*sys.exc_info())
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlmodel/orm/session.py", line 83, in exec
    results = super().execute(
        statement,
    ...<4 lines>...
        _add_event=_add_event,
    )
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/orm/session.py", line 2351, in execute
    return self._execute_internal(
           ~~~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
    ...<4 lines>...
        _add_event=_add_event,
        ^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/orm/session.py", line 2249, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self,
        ^^^^^
    ...<4 lines>...
        conn,
        ^^^^^
    )
    ^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/orm/context.py", line 309, in orm_execute_statement
    return cls.orm_setup_cursor_result(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        session,
        ^^^^^^^^
    ...<4 lines>...
        result,
        ^^^^^^^
    )
    ^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/orm/context.py", line 616, in orm_setup_cursor_result
    return loading.instances(result, querycontext)
           ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/orm/loading.py", line 262, in instances
    _prebuffered = list(chunks(None))
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/orm/loading.py", line 247, in chunks
    post_load.invoke(context, path)
    ~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/orm/loading.py", line 1564, in invoke
    loader(
    ~~~~~~^
        effective_context, path, states, self.load_keys, *arg, **kw
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/orm/strategies.py", line 3338, in _load_for_path
    self._load_via_parent(
    ~~~~~~~~~~~~~~~~~~~~~^
        our_states, query_info, q, context, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/orm/strategies.py", line 3414, in _load_via_parent
    context.session.execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        q,
        ^^
        params={"primary_keys": primary_keys},
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        execution_options=execution_options,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ).unique(),
    ^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlmodel/orm/session.py", line 144, in execute
    return super().execute(
           ~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
    ...<4 lines>...
        _add_event=_add_event,
        ^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/orm/session.py", line 2351, in execute
    return self._execute_internal(
           ~~~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
    ...<4 lines>...
        _add_event=_add_event,
        ^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/orm/session.py", line 2249, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self,
        ^^^^^
    ...<4 lines>...
        conn,
        ^^^^^
    )
    ^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/orm/context.py", line 306, in orm_execute_statement
    result = conn.execute(
        statement, params or {}, execution_options=execution_options
    )
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/engine/base.py", line 1419, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/sql/elements.py", line 526, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/engine/base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
        dialect,
    ...<8 lines>...
        cache_hit=cache_hit,
    )
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/engine/base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ~~~~~~~~~~~~~~~~~~~~~~~~~^
        dialect, context, statement, parameters
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/engine/base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        e, str_statement, effective_parameters, cursor, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/engine/base.py", line 2355, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/engine/default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 180, in execute
    self._adapt_connection._handle_exception(error)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 340, in _handle_exception
    raise error
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 162, in execute
    self.await_(_cursor.execute(operation, parameters))
    ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 132, in await_only
    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501
           ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 196, in greenlet_spawn
    value = await result
            ^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/aiosqlite/cursor.py", line 40, in execute
    await self._execute(self._cursor.execute, sql, parameters)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/aiosqlite/cursor.py", line 32, in _execute
    return await self._conn._execute(fn, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such column: prop_firm_registration.pass_type
[SQL: SELECT prop_firm_registration.user_id AS prop_firm_registration_user_id, prop_firm_registration.id AS prop_firm_registration_id, prop_firm_registration.login_id AS prop_firm_registration_login_id, prop_firm_registration.password AS prop_firm_registration_password, prop_firm_registration.propfirm_name AS prop_firm_registration_propfirm_name, prop_firm_registration.propfirm_website_link AS prop_firm_registration_propfirm_website_link, prop_firm_registration.server_name AS prop_firm_registration_server_name, prop_firm_registration.server_type AS prop_firm_registration_server_type, prop_firm_registration.challenges_step AS prop_firm_registration_challenges_step, prop_firm_registration.service_scope AS prop_firm_registration_service_scope, prop_firm_registration.order_id AS prop_firm_registration_order_id, prop_firm_registration.propfirm_account_cost AS prop_firm_registration_propfirm_account_cost, prop_firm_registration.account_size AS prop_firm_registration_account_size, prop_firm_registration.account_phases AS prop_firm_registration_account_phases, prop_firm_registration.trading_platform AS prop_firm_registration_trading_platform, prop_firm_registration.propfirm_rules AS prop_firm_registration_propfirm_rules, prop_firm_registration.whatsapp_no AS prop_firm_registration_whatsapp_no, prop_firm_registration.telegram_username AS prop_firm_registration_telegram_username, prop_firm_registration.pass_type AS prop_firm_registration_pass_type, prop_firm_registration.account_status AS prop_firm_registration_account_status, prop_firm_registration.payment_status AS prop_firm_registration_payment_status, prop_firm_registration.created_at AS prop_firm_registration_created_at, prop_firm_registration.updated_at AS prop_firm_registration_updated_at 
FROM prop_firm_registration 
WHERE prop_firm_registration.user_id IN (?)]
[parameters: ('6affb04777824af5acc7646740ae90f3',)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)

2026-01-17 12:27:59,300 - uvicorn.access - INFO - 127.0.0.1:59420 - "GET /api/v1/wallet/summary HTTP/1.1" 500
2026-01-17 12:27:59,310 - app - ERROR - Request failed: GET /api/v1/wallet/earnings - Duration: 68.60ms - Error: (sqlite3.OperationalError) no such column: prop_firm_registration.pass_type
[SQL: SELECT prop_firm_registration.user_id AS prop_firm_registration_user_id, prop_firm_registration.id AS prop_firm_registration_id, prop_firm_registration.login_id AS prop_firm_registration_login_id, prop_firm_registration.password AS prop_firm_registration_password, prop_firm_registration.propfirm_name AS prop_firm_registration_propfirm_name, prop_firm_registration.propfirm_website_link AS prop_firm_registration_propfirm_website_link, prop_firm_registration.server_name AS prop_firm_registration_server_name, prop_firm_registration.server_type AS prop_firm_registration_server_type, prop_firm_registration.challenges_step AS prop_firm_registration_challenges_step, prop_firm_registration.service_scope AS prop_firm_registration_service_scope, prop_firm_registration.order_id AS prop_firm_registration_order_id, prop_firm_registration.propfirm_account_cost AS prop_firm_registration_propfirm_account_cost, prop_firm_registration.account_size AS prop_firm_registration_account_size, prop_firm_registration.account_phases AS prop_firm_registration_account_phases, prop_firm_registration.trading_platform AS prop_firm_registration_trading_platform, prop_firm_registration.propfirm_rules AS prop_firm_registration_propfirm_rules, prop_firm_registration.whatsapp_no AS prop_firm_registration_whatsapp_no, prop_firm_registration.telegram_username AS prop_firm_registration_telegram_username, prop_firm_registration.pass_type AS prop_firm_registration_pass_type, prop_firm_registration.account_status AS prop_firm_registration_account_status, prop_firm_registration.payment_status AS prop_firm_registration_payment_status, prop_firm_registration.created_at AS prop_firm_registration_created_at, prop_firm_registration.updated_at AS prop_firm_registration_updated_at 
FROM prop_firm_registration 
WHERE prop_firm_registration.user_id IN (?)]
[parameters: ('6affb04777824af5acc7646740ae90f3',)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2026-01-17 12:27:59,324 - app - ERROR - Traceback (most recent call last):
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/engine/default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 180, in execute
    self._adapt_connection._handle_exception(error)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 340, in _handle_exception
    raise error
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 162, in execute
    self.await_(_cursor.execute(operation, parameters))
    ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 132, in await_only
    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501
           ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 196, in greenlet_spawn
    value = await result
            ^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/aiosqlite/cursor.py", line 40, in execute
    await self._execute(self._cursor.execute, sql, parameters)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/aiosqlite/cursor.py", line 32, in _execute
    return await self._conn._execute(fn, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
sqlite3.OperationalError: no such column: prop_firm_registration.pass_type

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/home/rehack/PycharmProjects/solpro_backend/app/main.py", line 65, in log_requests
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/base.py", line 168, in call_next
    raise app_exc from app_exc.__cause__ or app_exc.__context__
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/base.py", line 144, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/base.py", line 191, in __call__
    with recv_stream, send_stream, collapse_excgroups():
                                   ~~~~~~~~~~~~~~~~~~^^
  File "/home/rehack/anaconda3/lib/python3.13/contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    ~~~~~~~~~~~~~~^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/_utils.py", line 85, in collapse_excgroups
    raise exc
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/base.py", line 193, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/slowapi/middleware.py", line 136, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/base.py", line 168, in call_next
    raise app_exc from app_exc.__cause__ or app_exc.__context__
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/base.py", line 144, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/gzip.py", line 29, in __call__
    await responder(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/gzip.py", line 130, in __call__
    await super().__call__(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/gzip.py", line 46, in __call__
    await self.app(scope, receive, self.send_with_compression)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/trustedhost.py", line 36, in __call__
    await self.app(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/fastapi/routing.py", line 125, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/fastapi/routing.py", line 111, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/fastapi/routing.py", line 381, in app
    solved_result = await solve_dependencies(
                    ^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<6 lines>...
    )
    ^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/fastapi/dependencies/utils.py", line 641, in solve_dependencies
    solved = await call(**solved_result.values)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rehack/PycharmProjects/solpro_backend/app/dependencies/auth.py", line 44, in get_current_user
    result = await session.exec(query)
             ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlmodel/ext/asyncio/session.py", line 98, in exec
    result = await greenlet_spawn(
             ^^^^^^^^^^^^^^^^^^^^^
    ...<7 lines>...
    )
    ^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 201, in greenlet_spawn
    result = context.throw(*sys.exc_info())
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlmodel/orm/session.py", line 83, in exec
    results = super().execute(
        statement,
    ...<4 lines>...
        _add_event=_add_event,
    )
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/orm/session.py", line 2351, in execute
    return self._execute_internal(
           ~~~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
    ...<4 lines>...
        _add_event=_add_event,
        ^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/orm/session.py", line 2249, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self,
        ^^^^^
    ...<4 lines>...
        conn,
        ^^^^^
    )
    ^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/orm/context.py", line 309, in orm_execute_statement
    return cls.orm_setup_cursor_result(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        session,
        ^^^^^^^^
    ...<4 lines>...
        result,
        ^^^^^^^
    )
    ^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/orm/context.py", line 616, in orm_setup_cursor_result
    return loading.instances(result, querycontext)
           ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/orm/loading.py", line 262, in instances
    _prebuffered = list(chunks(None))
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/orm/loading.py", line 247, in chunks
    post_load.invoke(context, path)
    ~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/orm/loading.py", line 1564, in invoke
    loader(
    ~~~~~~^
        effective_context, path, states, self.load_keys, *arg, **kw
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/orm/strategies.py", line 3338, in _load_for_path
    self._load_via_parent(
    ~~~~~~~~~~~~~~~~~~~~~^
        our_states, query_info, q, context, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/orm/strategies.py", line 3414, in _load_via_parent
    context.session.execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        q,
        ^^
        params={"primary_keys": primary_keys},
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        execution_options=execution_options,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ).unique(),
    ^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlmodel/orm/session.py", line 144, in execute
    return super().execute(
           ~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
    ...<4 lines>...
        _add_event=_add_event,
        ^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/orm/session.py", line 2351, in execute
    return self._execute_internal(
           ~~~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
    ...<4 lines>...
        _add_event=_add_event,
        ^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/orm/session.py", line 2249, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self,
        ^^^^^
    ...<4 lines>...
        conn,
        ^^^^^
    )
    ^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/orm/context.py", line 306, in orm_execute_statement
    result = conn.execute(
        statement, params or {}, execution_options=execution_options
    )
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/engine/base.py", line 1419, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/sql/elements.py", line 526, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/engine/base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
        dialect,
    ...<8 lines>...
        cache_hit=cache_hit,
    )
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/engine/base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ~~~~~~~~~~~~~~~~~~~~~~~~~^
        dialect, context, statement, parameters
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/engine/base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        e, str_statement, effective_parameters, cursor, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/engine/base.py", line 2355, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/engine/default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 180, in execute
    self._adapt_connection._handle_exception(error)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 340, in _handle_exception
    raise error
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 162, in execute
    self.await_(_cursor.execute(operation, parameters))
    ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 132, in await_only
    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501
           ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 196, in greenlet_spawn
    value = await result
            ^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/aiosqlite/cursor.py", line 40, in execute
    await self._execute(self._cursor.execute, sql, parameters)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/aiosqlite/cursor.py", line 32, in _execute
    return await self._conn._execute(fn, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such column: prop_firm_registration.pass_type
[SQL: SELECT prop_firm_registration.user_id AS prop_firm_registration_user_id, prop_firm_registration.id AS prop_firm_registration_id, prop_firm_registration.login_id AS prop_firm_registration_login_id, prop_firm_registration.password AS prop_firm_registration_password, prop_firm_registration.propfirm_name AS prop_firm_registration_propfirm_name, prop_firm_registration.propfirm_website_link AS prop_firm_registration_propfirm_website_link, prop_firm_registration.server_name AS prop_firm_registration_server_name, prop_firm_registration.server_type AS prop_firm_registration_server_type, prop_firm_registration.challenges_step AS prop_firm_registration_challenges_step, prop_firm_registration.service_scope AS prop_firm_registration_service_scope, prop_firm_registration.order_id AS prop_firm_registration_order_id, prop_firm_registration.propfirm_account_cost AS prop_firm_registration_propfirm_account_cost, prop_firm_registration.account_size AS prop_firm_registration_account_size, prop_firm_registration.account_phases AS prop_firm_registration_account_phases, prop_firm_registration.trading_platform AS prop_firm_registration_trading_platform, prop_firm_registration.propfirm_rules AS prop_firm_registration_propfirm_rules, prop_firm_registration.whatsapp_no AS prop_firm_registration_whatsapp_no, prop_firm_registration.telegram_username AS prop_firm_registration_telegram_username, prop_firm_registration.pass_type AS prop_firm_registration_pass_type, prop_firm_registration.account_status AS prop_firm_registration_account_status, prop_firm_registration.payment_status AS prop_firm_registration_payment_status, prop_firm_registration.created_at AS prop_firm_registration_created_at, prop_firm_registration.updated_at AS prop_firm_registration_updated_at 
FROM prop_firm_registration 
WHERE prop_firm_registration.user_id IN (?)]
[parameters: ('6affb04777824af5acc7646740ae90f3',)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)

2026-01-17 12:27:59,328 - uvicorn.access - INFO - 127.0.0.1:59430 - "GET /api/v1/wallet/earnings HTTP/1.1" 500
2026-01-17 12:27:59,331 - app - ERROR - Request failed: GET /api/v1/wallet/withdrawals - Duration: 74.06ms - Error: (sqlite3.OperationalError) no such column: prop_firm_registration.pass_type
[SQL: SELECT prop_firm_registration.user_id AS prop_firm_registration_user_id, prop_firm_registration.id AS prop_firm_registration_id, prop_firm_registration.login_id AS prop_firm_registration_login_id, prop_firm_registration.password AS prop_firm_registration_password, prop_firm_registration.propfirm_name AS prop_firm_registration_propfirm_name, prop_firm_registration.propfirm_website_link AS prop_firm_registration_propfirm_website_link, prop_firm_registration.server_name AS prop_firm_registration_server_name, prop_firm_registration.server_type AS prop_firm_registration_server_type, prop_firm_registration.challenges_step AS prop_firm_registration_challenges_step, prop_firm_registration.service_scope AS prop_firm_registration_service_scope, prop_firm_registration.order_id AS prop_firm_registration_order_id, prop_firm_registration.propfirm_account_cost AS prop_firm_registration_propfirm_account_cost, prop_firm_registration.account_size AS prop_firm_registration_account_size, prop_firm_registration.account_phases AS prop_firm_registration_account_phases, prop_firm_registration.trading_platform AS prop_firm_registration_trading_platform, prop_firm_registration.propfirm_rules AS prop_firm_registration_propfirm_rules, prop_firm_registration.whatsapp_no AS prop_firm_registration_whatsapp_no, prop_firm_registration.telegram_username AS prop_firm_registration_telegram_username, prop_firm_registration.pass_type AS prop_firm_registration_pass_type, prop_firm_registration.account_status AS prop_firm_registration_account_status, prop_firm_registration.payment_status AS prop_firm_registration_payment_status, prop_firm_registration.created_at AS prop_firm_registration_created_at, prop_firm_registration.updated_at AS prop_firm_registration_updated_at 
FROM prop_firm_registration 
WHERE prop_firm_registration.user_id IN (?)]
[parameters: ('6affb04777824af5acc7646740ae90f3',)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2026-01-17 12:27:59,341 - app - ERROR - Traceback (most recent call last):
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/engine/default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 180, in execute
    self._adapt_connection._handle_exception(error)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 340, in _handle_exception
    raise error
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 162, in execute
    self.await_(_cursor.execute(operation, parameters))
    ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 132, in await_only
    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501
           ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 196, in greenlet_spawn
    value = await result
            ^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/aiosqlite/cursor.py", line 40, in execute
    await self._execute(self._cursor.execute, sql, parameters)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/aiosqlite/cursor.py", line 32, in _execute
    return await self._conn._execute(fn, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
sqlite3.OperationalError: no such column: prop_firm_registration.pass_type

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/home/rehack/PycharmProjects/solpro_backend/app/main.py", line 65, in log_requests
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/base.py", line 168, in call_next
    raise app_exc from app_exc.__cause__ or app_exc.__context__
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/base.py", line 144, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/base.py", line 191, in __call__
    with recv_stream, send_stream, collapse_excgroups():
                                   ~~~~~~~~~~~~~~~~~~^^
  File "/home/rehack/anaconda3/lib/python3.13/contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    ~~~~~~~~~~~~~~^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/_utils.py", line 85, in collapse_excgroups
    raise exc
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/base.py", line 193, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/slowapi/middleware.py", line 136, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/base.py", line 168, in call_next
    raise app_exc from app_exc.__cause__ or app_exc.__context__
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/base.py", line 144, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/gzip.py", line 29, in __call__
    await responder(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/gzip.py", line 130, in __call__
    await super().__call__(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/gzip.py", line 46, in __call__
    await self.app(scope, receive, self.send_with_compression)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/trustedhost.py", line 36, in __call__
    await self.app(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/fastapi/routing.py", line 125, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/fastapi/routing.py", line 111, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/fastapi/routing.py", line 381, in app
    solved_result = await solve_dependencies(
                    ^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<6 lines>...
    )
    ^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/fastapi/dependencies/utils.py", line 641, in solve_dependencies
    solved = await call(**solved_result.values)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rehack/PycharmProjects/solpro_backend/app/dependencies/auth.py", line 44, in get_current_user
    result = await session.exec(query)
             ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlmodel/ext/asyncio/session.py", line 98, in exec
    result = await greenlet_spawn(
             ^^^^^^^^^^^^^^^^^^^^^
    ...<7 lines>...
    )
    ^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 201, in greenlet_spawn
    result = context.throw(*sys.exc_info())
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlmodel/orm/session.py", line 83, in exec
    results = super().execute(
        statement,
    ...<4 lines>...
        _add_event=_add_event,
    )
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/orm/session.py", line 2351, in execute
    return self._execute_internal(
           ~~~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
    ...<4 lines>...
        _add_event=_add_event,
        ^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/orm/session.py", line 2249, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self,
        ^^^^^
    ...<4 lines>...
        conn,
        ^^^^^
    )
    ^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/orm/context.py", line 309, in orm_execute_statement
    return cls.orm_setup_cursor_result(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        session,
        ^^^^^^^^
    ...<4 lines>...
        result,
        ^^^^^^^
    )
    ^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/orm/context.py", line 616, in orm_setup_cursor_result
    return loading.instances(result, querycontext)
           ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/orm/loading.py", line 262, in instances
    _prebuffered = list(chunks(None))
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/orm/loading.py", line 247, in chunks
    post_load.invoke(context, path)
    ~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/orm/loading.py", line 1564, in invoke
    loader(
    ~~~~~~^
        effective_context, path, states, self.load_keys, *arg, **kw
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/orm/strategies.py", line 3338, in _load_for_path
    self._load_via_parent(
    ~~~~~~~~~~~~~~~~~~~~~^
        our_states, query_info, q, context, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/orm/strategies.py", line 3414, in _load_via_parent
    context.session.execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        q,
        ^^
        params={"primary_keys": primary_keys},
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        execution_options=execution_options,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ).unique(),
    ^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlmodel/orm/session.py", line 144, in execute
    return super().execute(
           ~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
    ...<4 lines>...
        _add_event=_add_event,
        ^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/orm/session.py", line 2351, in execute
    return self._execute_internal(
           ~~~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
    ...<4 lines>...
        _add_event=_add_event,
        ^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/orm/session.py", line 2249, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self,
        ^^^^^
    ...<4 lines>...
        conn,
        ^^^^^
    )
    ^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/orm/context.py", line 306, in orm_execute_statement
    result = conn.execute(
        statement, params or {}, execution_options=execution_options
    )
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/engine/base.py", line 1419, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/sql/elements.py", line 526, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/engine/base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
        dialect,
    ...<8 lines>...
        cache_hit=cache_hit,
    )
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/engine/base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ~~~~~~~~~~~~~~~~~~~~~~~~~^
        dialect, context, statement, parameters
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/engine/base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        e, str_statement, effective_parameters, cursor, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/engine/base.py", line 2355, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/engine/default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 180, in execute
    self._adapt_connection._handle_exception(error)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 340, in _handle_exception
    raise error
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 162, in execute
    self.await_(_cursor.execute(operation, parameters))
    ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 132, in await_only
    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501
           ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 196, in greenlet_spawn
    value = await result
            ^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/aiosqlite/cursor.py", line 40, in execute
    await self._execute(self._cursor.execute, sql, parameters)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/aiosqlite/cursor.py", line 32, in _execute
    return await self._conn._execute(fn, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such column: prop_firm_registration.pass_type
[SQL: SELECT prop_firm_registration.user_id AS prop_firm_registration_user_id, prop_firm_registration.id AS prop_firm_registration_id, prop_firm_registration.login_id AS prop_firm_registration_login_id, prop_firm_registration.password AS prop_firm_registration_password, prop_firm_registration.propfirm_name AS prop_firm_registration_propfirm_name, prop_firm_registration.propfirm_website_link AS prop_firm_registration_propfirm_website_link, prop_firm_registration.server_name AS prop_firm_registration_server_name, prop_firm_registration.server_type AS prop_firm_registration_server_type, prop_firm_registration.challenges_step AS prop_firm_registration_challenges_step, prop_firm_registration.service_scope AS prop_firm_registration_service_scope, prop_firm_registration.order_id AS prop_firm_registration_order_id, prop_firm_registration.propfirm_account_cost AS prop_firm_registration_propfirm_account_cost, prop_firm_registration.account_size AS prop_firm_registration_account_size, prop_firm_registration.account_phases AS prop_firm_registration_account_phases, prop_firm_registration.trading_platform AS prop_firm_registration_trading_platform, prop_firm_registration.propfirm_rules AS prop_firm_registration_propfirm_rules, prop_firm_registration.whatsapp_no AS prop_firm_registration_whatsapp_no, prop_firm_registration.telegram_username AS prop_firm_registration_telegram_username, prop_firm_registration.pass_type AS prop_firm_registration_pass_type, prop_firm_registration.account_status AS prop_firm_registration_account_status, prop_firm_registration.payment_status AS prop_firm_registration_payment_status, prop_firm_registration.created_at AS prop_firm_registration_created_at, prop_firm_registration.updated_at AS prop_firm_registration_updated_at 
FROM prop_firm_registration 
WHERE prop_firm_registration.user_id IN (?)]
[parameters: ('6affb04777824af5acc7646740ae90f3',)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)

2026-01-17 12:27:59,343 - uvicorn.access - INFO - 127.0.0.1:59438 - "GET /api/v1/wallet/withdrawals HTTP/1.1" 500
2026-01-17 12:28:28,620 - app - ERROR - Request failed: GET /api/v1/wallet/summary - Duration: 202.44ms - Error: (sqlite3.OperationalError) no such column: prop_firm_registration.pass_type
[SQL: SELECT prop_firm_registration.user_id AS prop_firm_registration_user_id, prop_firm_registration.id AS prop_firm_registration_id, prop_firm_registration.login_id AS prop_firm_registration_login_id, prop_firm_registration.password AS prop_firm_registration_password, prop_firm_registration.propfirm_name AS prop_firm_registration_propfirm_name, prop_firm_registration.propfirm_website_link AS prop_firm_registration_propfirm_website_link, prop_firm_registration.server_name AS prop_firm_registration_server_name, prop_firm_registration.server_type AS prop_firm_registration_server_type, prop_firm_registration.challenges_step AS prop_firm_registration_challenges_step, prop_firm_registration.service_scope AS prop_firm_registration_service_scope, prop_firm_registration.order_id AS prop_firm_registration_order_id, prop_firm_registration.propfirm_account_cost AS prop_firm_registration_propfirm_account_cost, prop_firm_registration.account_size AS prop_firm_registration_account_size, prop_firm_registration.account_phases AS prop_firm_registration_account_phases, prop_firm_registration.trading_platform AS prop_firm_registration_trading_platform, prop_firm_registration.propfirm_rules AS prop_firm_registration_propfirm_rules, prop_firm_registration.whatsapp_no AS prop_firm_registration_whatsapp_no, prop_firm_registration.telegram_username AS prop_firm_registration_telegram_username, prop_firm_registration.pass_type AS prop_firm_registration_pass_type, prop_firm_registration.account_status AS prop_firm_registration_account_status, prop_firm_registration.payment_status AS prop_firm_registration_payment_status, prop_firm_registration.created_at AS prop_firm_registration_created_at, prop_firm_registration.updated_at AS prop_firm_registration_updated_at 
FROM prop_firm_registration 
WHERE prop_firm_registration.user_id IN (?)]
[parameters: ('6affb04777824af5acc7646740ae90f3',)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2026-01-17 12:28:28,663 - app - ERROR - Traceback (most recent call last):
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/engine/default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 180, in execute
    self._adapt_connection._handle_exception(error)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 340, in _handle_exception
    raise error
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 162, in execute
    self.await_(_cursor.execute(operation, parameters))
    ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 132, in await_only
    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501
           ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 196, in greenlet_spawn
    value = await result
            ^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/aiosqlite/cursor.py", line 40, in execute
    await self._execute(self._cursor.execute, sql, parameters)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/aiosqlite/cursor.py", line 32, in _execute
    return await self._conn._execute(fn, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
sqlite3.OperationalError: no such column: prop_firm_registration.pass_type

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/home/rehack/PycharmProjects/solpro_backend/app/main.py", line 65, in log_requests
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/base.py", line 168, in call_next
    raise app_exc from app_exc.__cause__ or app_exc.__context__
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/base.py", line 144, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/base.py", line 191, in __call__
    with recv_stream, send_stream, collapse_excgroups():
                                   ~~~~~~~~~~~~~~~~~~^^
  File "/home/rehack/anaconda3/lib/python3.13/contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    ~~~~~~~~~~~~~~^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/_utils.py", line 85, in collapse_excgroups
    raise exc
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/base.py", line 193, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/slowapi/middleware.py", line 136, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/base.py", line 168, in call_next
    raise app_exc from app_exc.__cause__ or app_exc.__context__
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/base.py", line 144, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/gzip.py", line 29, in __call__
    await responder(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/gzip.py", line 130, in __call__
    await super().__call__(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/gzip.py", line 46, in __call__
    await self.app(scope, receive, self.send_with_compression)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/trustedhost.py", line 36, in __call__
    await self.app(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/fastapi/routing.py", line 125, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/fastapi/routing.py", line 111, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/fastapi/routing.py", line 381, in app
    solved_result = await solve_dependencies(
                    ^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<6 lines>...
    )
    ^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/fastapi/dependencies/utils.py", line 641, in solve_dependencies
    solved = await call(**solved_result.values)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rehack/PycharmProjects/solpro_backend/app/dependencies/auth.py", line 44, in get_current_user
    result = await session.exec(query)
             ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlmodel/ext/asyncio/session.py", line 98, in exec
    result = await greenlet_spawn(
             ^^^^^^^^^^^^^^^^^^^^^
    ...<7 lines>...
    )
    ^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 201, in greenlet_spawn
    result = context.throw(*sys.exc_info())
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlmodel/orm/session.py", line 83, in exec
    results = super().execute(
        statement,
    ...<4 lines>...
        _add_event=_add_event,
    )
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/orm/session.py", line 2351, in execute
    return self._execute_internal(
           ~~~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
    ...<4 lines>...
        _add_event=_add_event,
        ^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/orm/session.py", line 2249, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self,
        ^^^^^
    ...<4 lines>...
        conn,
        ^^^^^
    )
    ^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/orm/context.py", line 309, in orm_execute_statement
    return cls.orm_setup_cursor_result(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        session,
        ^^^^^^^^
    ...<4 lines>...
        result,
        ^^^^^^^
    )
    ^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/orm/context.py", line 616, in orm_setup_cursor_result
    return loading.instances(result, querycontext)
           ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/orm/loading.py", line 262, in instances
    _prebuffered = list(chunks(None))
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/orm/loading.py", line 247, in chunks
    post_load.invoke(context, path)
    ~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/orm/loading.py", line 1564, in invoke
    loader(
    ~~~~~~^
        effective_context, path, states, self.load_keys, *arg, **kw
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/orm/strategies.py", line 3338, in _load_for_path
    self._load_via_parent(
    ~~~~~~~~~~~~~~~~~~~~~^
        our_states, query_info, q, context, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/orm/strategies.py", line 3414, in _load_via_parent
    context.session.execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        q,
        ^^
        params={"primary_keys": primary_keys},
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        execution_options=execution_options,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ).unique(),
    ^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlmodel/orm/session.py", line 144, in execute
    return super().execute(
           ~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
    ...<4 lines>...
        _add_event=_add_event,
        ^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/orm/session.py", line 2351, in execute
    return self._execute_internal(
           ~~~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
    ...<4 lines>...
        _add_event=_add_event,
        ^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/orm/session.py", line 2249, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self,
        ^^^^^
    ...<4 lines>...
        conn,
        ^^^^^
    )
    ^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/orm/context.py", line 306, in orm_execute_statement
    result = conn.execute(
        statement, params or {}, execution_options=execution_options
    )
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/engine/base.py", line 1419, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/sql/elements.py", line 526, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/engine/base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
        dialect,
    ...<8 lines>...
        cache_hit=cache_hit,
    )
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/engine/base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ~~~~~~~~~~~~~~~~~~~~~~~~~^
        dialect, context, statement, parameters
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/engine/base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        e, str_statement, effective_parameters, cursor, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/engine/base.py", line 2355, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/engine/default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 180, in execute
    self._adapt_connection._handle_exception(error)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 340, in _handle_exception
    raise error
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 162, in execute
    self.await_(_cursor.execute(operation, parameters))
    ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 132, in await_only
    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501
           ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 196, in greenlet_spawn
    value = await result
            ^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/aiosqlite/cursor.py", line 40, in execute
    await self._execute(self._cursor.execute, sql, parameters)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/aiosqlite/cursor.py", line 32, in _execute
    return await self._conn._execute(fn, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such column: prop_firm_registration.pass_type
[SQL: SELECT prop_firm_registration.user_id AS prop_firm_registration_user_id, prop_firm_registration.id AS prop_firm_registration_id, prop_firm_registration.login_id AS prop_firm_registration_login_id, prop_firm_registration.password AS prop_firm_registration_password, prop_firm_registration.propfirm_name AS prop_firm_registration_propfirm_name, prop_firm_registration.propfirm_website_link AS prop_firm_registration_propfirm_website_link, prop_firm_registration.server_name AS prop_firm_registration_server_name, prop_firm_registration.server_type AS prop_firm_registration_server_type, prop_firm_registration.challenges_step AS prop_firm_registration_challenges_step, prop_firm_registration.service_scope AS prop_firm_registration_service_scope, prop_firm_registration.order_id AS prop_firm_registration_order_id, prop_firm_registration.propfirm_account_cost AS prop_firm_registration_propfirm_account_cost, prop_firm_registration.account_size AS prop_firm_registration_account_size, prop_firm_registration.account_phases AS prop_firm_registration_account_phases, prop_firm_registration.trading_platform AS prop_firm_registration_trading_platform, prop_firm_registration.propfirm_rules AS prop_firm_registration_propfirm_rules, prop_firm_registration.whatsapp_no AS prop_firm_registration_whatsapp_no, prop_firm_registration.telegram_username AS prop_firm_registration_telegram_username, prop_firm_registration.pass_type AS prop_firm_registration_pass_type, prop_firm_registration.account_status AS prop_firm_registration_account_status, prop_firm_registration.payment_status AS prop_firm_registration_payment_status, prop_firm_registration.created_at AS prop_firm_registration_created_at, prop_firm_registration.updated_at AS prop_firm_registration_updated_at 
FROM prop_firm_registration 
WHERE prop_firm_registration.user_id IN (?)]
[parameters: ('6affb04777824af5acc7646740ae90f3',)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)

2026-01-17 12:28:28,670 - uvicorn.access - INFO - 127.0.0.1:39226 - "GET /api/v1/wallet/summary HTTP/1.1" 500
2026-01-17 12:28:28,703 - app - ERROR - Request failed: GET /api/v1/wallet/earnings - Duration: 229.02ms - Error: (sqlite3.OperationalError) no such column: prop_firm_registration.pass_type
[SQL: SELECT prop_firm_registration.user_id AS prop_firm_registration_user_id, prop_firm_registration.id AS prop_firm_registration_id, prop_firm_registration.login_id AS prop_firm_registration_login_id, prop_firm_registration.password AS prop_firm_registration_password, prop_firm_registration.propfirm_name AS prop_firm_registration_propfirm_name, prop_firm_registration.propfirm_website_link AS prop_firm_registration_propfirm_website_link, prop_firm_registration.server_name AS prop_firm_registration_server_name, prop_firm_registration.server_type AS prop_firm_registration_server_type, prop_firm_registration.challenges_step AS prop_firm_registration_challenges_step, prop_firm_registration.service_scope AS prop_firm_registration_service_scope, prop_firm_registration.order_id AS prop_firm_registration_order_id, prop_firm_registration.propfirm_account_cost AS prop_firm_registration_propfirm_account_cost, prop_firm_registration.account_size AS prop_firm_registration_account_size, prop_firm_registration.account_phases AS prop_firm_registration_account_phases, prop_firm_registration.trading_platform AS prop_firm_registration_trading_platform, prop_firm_registration.propfirm_rules AS prop_firm_registration_propfirm_rules, prop_firm_registration.whatsapp_no AS prop_firm_registration_whatsapp_no, prop_firm_registration.telegram_username AS prop_firm_registration_telegram_username, prop_firm_registration.pass_type AS prop_firm_registration_pass_type, prop_firm_registration.account_status AS prop_firm_registration_account_status, prop_firm_registration.payment_status AS prop_firm_registration_payment_status, prop_firm_registration.created_at AS prop_firm_registration_created_at, prop_firm_registration.updated_at AS prop_firm_registration_updated_at 
FROM prop_firm_registration 
WHERE prop_firm_registration.user_id IN (?)]
[parameters: ('6affb04777824af5acc7646740ae90f3',)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2026-01-17 12:28:28,717 - app - ERROR - Traceback (most recent call last):
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/engine/default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 180, in execute
    self._adapt_connection._handle_exception(error)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 340, in _handle_exception
    raise error
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 162, in execute
    self.await_(_cursor.execute(operation, parameters))
    ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 132, in await_only
    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501
           ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 196, in greenlet_spawn
    value = await result
            ^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/aiosqlite/cursor.py", line 40, in execute
    await self._execute(self._cursor.execute, sql, parameters)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/aiosqlite/cursor.py", line 32, in _execute
    return await self._conn._execute(fn, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
sqlite3.OperationalError: no such column: prop_firm_registration.pass_type

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/home/rehack/PycharmProjects/solpro_backend/app/main.py", line 65, in log_requests
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/base.py", line 168, in call_next
    raise app_exc from app_exc.__cause__ or app_exc.__context__
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/base.py", line 144, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/base.py", line 191, in __call__
    with recv_stream, send_stream, collapse_excgroups():
                                   ~~~~~~~~~~~~~~~~~~^^
  File "/home/rehack/anaconda3/lib/python3.13/contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    ~~~~~~~~~~~~~~^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/_utils.py", line 85, in collapse_excgroups
    raise exc
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/base.py", line 193, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/slowapi/middleware.py", line 136, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/base.py", line 168, in call_next
    raise app_exc from app_exc.__cause__ or app_exc.__context__
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/base.py", line 144, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/gzip.py", line 29, in __call__
    await responder(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/gzip.py", line 130, in __call__
    await super().__call__(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/gzip.py", line 46, in __call__
    await self.app(scope, receive, self.send_with_compression)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/trustedhost.py", line 36, in __call__
    await self.app(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/fastapi/routing.py", line 125, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/fastapi/routing.py", line 111, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/fastapi/routing.py", line 381, in app
    solved_result = await solve_dependencies(
                    ^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<6 lines>...
    )
    ^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/fastapi/dependencies/utils.py", line 641, in solve_dependencies
    solved = await call(**solved_result.values)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rehack/PycharmProjects/solpro_backend/app/dependencies/auth.py", line 44, in get_current_user
    result = await session.exec(query)
             ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlmodel/ext/asyncio/session.py", line 98, in exec
    result = await greenlet_spawn(
             ^^^^^^^^^^^^^^^^^^^^^
    ...<7 lines>...
    )
    ^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 201, in greenlet_spawn
    result = context.throw(*sys.exc_info())
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlmodel/orm/session.py", line 83, in exec
    results = super().execute(
        statement,
    ...<4 lines>...
        _add_event=_add_event,
    )
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/orm/session.py", line 2351, in execute
    return self._execute_internal(
           ~~~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
    ...<4 lines>...
        _add_event=_add_event,
        ^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/orm/session.py", line 2249, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self,
        ^^^^^
    ...<4 lines>...
        conn,
        ^^^^^
    )
    ^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/orm/context.py", line 309, in orm_execute_statement
    return cls.orm_setup_cursor_result(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        session,
        ^^^^^^^^
    ...<4 lines>...
        result,
        ^^^^^^^
    )
    ^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/orm/context.py", line 616, in orm_setup_cursor_result
    return loading.instances(result, querycontext)
           ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/orm/loading.py", line 262, in instances
    _prebuffered = list(chunks(None))
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/orm/loading.py", line 247, in chunks
    post_load.invoke(context, path)
    ~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/orm/loading.py", line 1564, in invoke
    loader(
    ~~~~~~^
        effective_context, path, states, self.load_keys, *arg, **kw
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/orm/strategies.py", line 3338, in _load_for_path
    self._load_via_parent(
    ~~~~~~~~~~~~~~~~~~~~~^
        our_states, query_info, q, context, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/orm/strategies.py", line 3414, in _load_via_parent
    context.session.execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        q,
        ^^
        params={"primary_keys": primary_keys},
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        execution_options=execution_options,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ).unique(),
    ^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlmodel/orm/session.py", line 144, in execute
    return super().execute(
           ~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
    ...<4 lines>...
        _add_event=_add_event,
        ^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/orm/session.py", line 2351, in execute
    return self._execute_internal(
           ~~~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
    ...<4 lines>...
        _add_event=_add_event,
        ^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/orm/session.py", line 2249, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self,
        ^^^^^
    ...<4 lines>...
        conn,
        ^^^^^
    )
    ^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/orm/context.py", line 306, in orm_execute_statement
    result = conn.execute(
        statement, params or {}, execution_options=execution_options
    )
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/engine/base.py", line 1419, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/sql/elements.py", line 526, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/engine/base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
        dialect,
    ...<8 lines>...
        cache_hit=cache_hit,
    )
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/engine/base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ~~~~~~~~~~~~~~~~~~~~~~~~~^
        dialect, context, statement, parameters
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/engine/base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        e, str_statement, effective_parameters, cursor, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/engine/base.py", line 2355, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/engine/default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 180, in execute
    self._adapt_connection._handle_exception(error)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 340, in _handle_exception
    raise error
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 162, in execute
    self.await_(_cursor.execute(operation, parameters))
    ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 132, in await_only
    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501
           ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 196, in greenlet_spawn
    value = await result
            ^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/aiosqlite/cursor.py", line 40, in execute
    await self._execute(self._cursor.execute, sql, parameters)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/aiosqlite/cursor.py", line 32, in _execute
    return await self._conn._execute(fn, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such column: prop_firm_registration.pass_type
[SQL: SELECT prop_firm_registration.user_id AS prop_firm_registration_user_id, prop_firm_registration.id AS prop_firm_registration_id, prop_firm_registration.login_id AS prop_firm_registration_login_id, prop_firm_registration.password AS prop_firm_registration_password, prop_firm_registration.propfirm_name AS prop_firm_registration_propfirm_name, prop_firm_registration.propfirm_website_link AS prop_firm_registration_propfirm_website_link, prop_firm_registration.server_name AS prop_firm_registration_server_name, prop_firm_registration.server_type AS prop_firm_registration_server_type, prop_firm_registration.challenges_step AS prop_firm_registration_challenges_step, prop_firm_registration.service_scope AS prop_firm_registration_service_scope, prop_firm_registration.order_id AS prop_firm_registration_order_id, prop_firm_registration.propfirm_account_cost AS prop_firm_registration_propfirm_account_cost, prop_firm_registration.account_size AS prop_firm_registration_account_size, prop_firm_registration.account_phases AS prop_firm_registration_account_phases, prop_firm_registration.trading_platform AS prop_firm_registration_trading_platform, prop_firm_registration.propfirm_rules AS prop_firm_registration_propfirm_rules, prop_firm_registration.whatsapp_no AS prop_firm_registration_whatsapp_no, prop_firm_registration.telegram_username AS prop_firm_registration_telegram_username, prop_firm_registration.pass_type AS prop_firm_registration_pass_type, prop_firm_registration.account_status AS prop_firm_registration_account_status, prop_firm_registration.payment_status AS prop_firm_registration_payment_status, prop_firm_registration.created_at AS prop_firm_registration_created_at, prop_firm_registration.updated_at AS prop_firm_registration_updated_at 
FROM prop_firm_registration 
WHERE prop_firm_registration.user_id IN (?)]
[parameters: ('6affb04777824af5acc7646740ae90f3',)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)

2026-01-17 12:28:28,721 - uvicorn.access - INFO - 127.0.0.1:39234 - "GET /api/v1/wallet/earnings HTTP/1.1" 500
2026-01-17 12:28:28,731 - app - ERROR - Request failed: GET /api/v1/wallet/withdrawals - Duration: 210.76ms - Error: (sqlite3.OperationalError) no such column: prop_firm_registration.pass_type
[SQL: SELECT prop_firm_registration.user_id AS prop_firm_registration_user_id, prop_firm_registration.id AS prop_firm_registration_id, prop_firm_registration.login_id AS prop_firm_registration_login_id, prop_firm_registration.password AS prop_firm_registration_password, prop_firm_registration.propfirm_name AS prop_firm_registration_propfirm_name, prop_firm_registration.propfirm_website_link AS prop_firm_registration_propfirm_website_link, prop_firm_registration.server_name AS prop_firm_registration_server_name, prop_firm_registration.server_type AS prop_firm_registration_server_type, prop_firm_registration.challenges_step AS prop_firm_registration_challenges_step, prop_firm_registration.service_scope AS prop_firm_registration_service_scope, prop_firm_registration.order_id AS prop_firm_registration_order_id, prop_firm_registration.propfirm_account_cost AS prop_firm_registration_propfirm_account_cost, prop_firm_registration.account_size AS prop_firm_registration_account_size, prop_firm_registration.account_phases AS prop_firm_registration_account_phases, prop_firm_registration.trading_platform AS prop_firm_registration_trading_platform, prop_firm_registration.propfirm_rules AS prop_firm_registration_propfirm_rules, prop_firm_registration.whatsapp_no AS prop_firm_registration_whatsapp_no, prop_firm_registration.telegram_username AS prop_firm_registration_telegram_username, prop_firm_registration.pass_type AS prop_firm_registration_pass_type, prop_firm_registration.account_status AS prop_firm_registration_account_status, prop_firm_registration.payment_status AS prop_firm_registration_payment_status, prop_firm_registration.created_at AS prop_firm_registration_created_at, prop_firm_registration.updated_at AS prop_firm_registration_updated_at 
FROM prop_firm_registration 
WHERE prop_firm_registration.user_id IN (?)]
[parameters: ('6affb04777824af5acc7646740ae90f3',)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2026-01-17 12:28:28,752 - app - ERROR - Traceback (most recent call last):
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/engine/default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 180, in execute
    self._adapt_connection._handle_exception(error)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 340, in _handle_exception
    raise error
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 162, in execute
    self.await_(_cursor.execute(operation, parameters))
    ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 132, in await_only
    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501
           ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 196, in greenlet_spawn
    value = await result
            ^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/aiosqlite/cursor.py", line 40, in execute
    await self._execute(self._cursor.execute, sql, parameters)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/aiosqlite/cursor.py", line 32, in _execute
    return await self._conn._execute(fn, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
sqlite3.OperationalError: no such column: prop_firm_registration.pass_type

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/home/rehack/PycharmProjects/solpro_backend/app/main.py", line 65, in log_requests
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/base.py", line 168, in call_next
    raise app_exc from app_exc.__cause__ or app_exc.__context__
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/base.py", line 144, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/base.py", line 191, in __call__
    with recv_stream, send_stream, collapse_excgroups():
                                   ~~~~~~~~~~~~~~~~~~^^
  File "/home/rehack/anaconda3/lib/python3.13/contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    ~~~~~~~~~~~~~~^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/_utils.py", line 85, in collapse_excgroups
    raise exc
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/base.py", line 193, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/slowapi/middleware.py", line 136, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/base.py", line 168, in call_next
    raise app_exc from app_exc.__cause__ or app_exc.__context__
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/base.py", line 144, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/gzip.py", line 29, in __call__
    await responder(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/gzip.py", line 130, in __call__
    await super().__call__(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/gzip.py", line 46, in __call__
    await self.app(scope, receive, self.send_with_compression)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/trustedhost.py", line 36, in __call__
    await self.app(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/fastapi/routing.py", line 125, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/fastapi/routing.py", line 111, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/fastapi/routing.py", line 381, in app
    solved_result = await solve_dependencies(
                    ^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<6 lines>...
    )
    ^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/fastapi/dependencies/utils.py", line 641, in solve_dependencies
    solved = await call(**solved_result.values)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rehack/PycharmProjects/solpro_backend/app/dependencies/auth.py", line 44, in get_current_user
    result = await session.exec(query)
             ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlmodel/ext/asyncio/session.py", line 98, in exec
    result = await greenlet_spawn(
             ^^^^^^^^^^^^^^^^^^^^^
    ...<7 lines>...
    )
    ^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 201, in greenlet_spawn
    result = context.throw(*sys.exc_info())
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlmodel/orm/session.py", line 83, in exec
    results = super().execute(
        statement,
    ...<4 lines>...
        _add_event=_add_event,
    )
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/orm/session.py", line 2351, in execute
    return self._execute_internal(
           ~~~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
    ...<4 lines>...
        _add_event=_add_event,
        ^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/orm/session.py", line 2249, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self,
        ^^^^^
    ...<4 lines>...
        conn,
        ^^^^^
    )
    ^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/orm/context.py", line 309, in orm_execute_statement
    return cls.orm_setup_cursor_result(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        session,
        ^^^^^^^^
    ...<4 lines>...
        result,
        ^^^^^^^
    )
    ^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/orm/context.py", line 616, in orm_setup_cursor_result
    return loading.instances(result, querycontext)
           ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/orm/loading.py", line 262, in instances
    _prebuffered = list(chunks(None))
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/orm/loading.py", line 247, in chunks
    post_load.invoke(context, path)
    ~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/orm/loading.py", line 1564, in invoke
    loader(
    ~~~~~~^
        effective_context, path, states, self.load_keys, *arg, **kw
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/orm/strategies.py", line 3338, in _load_for_path
    self._load_via_parent(
    ~~~~~~~~~~~~~~~~~~~~~^
        our_states, query_info, q, context, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/orm/strategies.py", line 3414, in _load_via_parent
    context.session.execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        q,
        ^^
        params={"primary_keys": primary_keys},
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        execution_options=execution_options,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ).unique(),
    ^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlmodel/orm/session.py", line 144, in execute
    return super().execute(
           ~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
    ...<4 lines>...
        _add_event=_add_event,
        ^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/orm/session.py", line 2351, in execute
    return self._execute_internal(
           ~~~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
    ...<4 lines>...
        _add_event=_add_event,
        ^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/orm/session.py", line 2249, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self,
        ^^^^^
    ...<4 lines>...
        conn,
        ^^^^^
    )
    ^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/orm/context.py", line 306, in orm_execute_statement
    result = conn.execute(
        statement, params or {}, execution_options=execution_options
    )
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/engine/base.py", line 1419, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/sql/elements.py", line 526, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/engine/base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
        dialect,
    ...<8 lines>...
        cache_hit=cache_hit,
    )
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/engine/base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ~~~~~~~~~~~~~~~~~~~~~~~~~^
        dialect, context, statement, parameters
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/engine/base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        e, str_statement, effective_parameters, cursor, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/engine/base.py", line 2355, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/engine/default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 180, in execute
    self._adapt_connection._handle_exception(error)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 340, in _handle_exception
    raise error
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 162, in execute
    self.await_(_cursor.execute(operation, parameters))
    ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 132, in await_only
    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501
           ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 196, in greenlet_spawn
    value = await result
            ^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/aiosqlite/cursor.py", line 40, in execute
    await self._execute(self._cursor.execute, sql, parameters)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/aiosqlite/cursor.py", line 32, in _execute
    return await self._conn._execute(fn, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such column: prop_firm_registration.pass_type
[SQL: SELECT prop_firm_registration.user_id AS prop_firm_registration_user_id, prop_firm_registration.id AS prop_firm_registration_id, prop_firm_registration.login_id AS prop_firm_registration_login_id, prop_firm_registration.password AS prop_firm_registration_password, prop_firm_registration.propfirm_name AS prop_firm_registration_propfirm_name, prop_firm_registration.propfirm_website_link AS prop_firm_registration_propfirm_website_link, prop_firm_registration.server_name AS prop_firm_registration_server_name, prop_firm_registration.server_type AS prop_firm_registration_server_type, prop_firm_registration.challenges_step AS prop_firm_registration_challenges_step, prop_firm_registration.service_scope AS prop_firm_registration_service_scope, prop_firm_registration.order_id AS prop_firm_registration_order_id, prop_firm_registration.propfirm_account_cost AS prop_firm_registration_propfirm_account_cost, prop_firm_registration.account_size AS prop_firm_registration_account_size, prop_firm_registration.account_phases AS prop_firm_registration_account_phases, prop_firm_registration.trading_platform AS prop_firm_registration_trading_platform, prop_firm_registration.propfirm_rules AS prop_firm_registration_propfirm_rules, prop_firm_registration.whatsapp_no AS prop_firm_registration_whatsapp_no, prop_firm_registration.telegram_username AS prop_firm_registration_telegram_username, prop_firm_registration.pass_type AS prop_firm_registration_pass_type, prop_firm_registration.account_status AS prop_firm_registration_account_status, prop_firm_registration.payment_status AS prop_firm_registration_payment_status, prop_firm_registration.created_at AS prop_firm_registration_created_at, prop_firm_registration.updated_at AS prop_firm_registration_updated_at 
FROM prop_firm_registration 
WHERE prop_firm_registration.user_id IN (?)]
[parameters: ('6affb04777824af5acc7646740ae90f3',)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)

2026-01-17 12:28:28,754 - uvicorn.access - INFO - 127.0.0.1:39246 - "GET /api/v1/wallet/withdrawals HTTP/1.1" 500
2026-01-17 12:30:57,985 - app - INFO - Request: GET /api/v1/wallet/summary - Status: 401 - Duration: 3.58ms
2026-01-17 12:30:57,986 - uvicorn.access - INFO - 127.0.0.1:57308 - "GET /api/v1/wallet/summary HTTP/1.1" 401
2026-01-17 12:31:34,376 - uvicorn.error - INFO - Shutting down
2026-01-17 12:31:34,476 - uvicorn.error - INFO - Waiting for application shutdown.
2026-01-17 12:31:34,477 - app - INFO - Shutting down application...
2026-01-17 12:31:34,477 - uvicorn.error - INFO - Application shutdown complete.
2026-01-17 12:31:34,477 - uvicorn.error - INFO - Finished server process [489015]
2026-01-17 12:31:37,865 - uvicorn.error - INFO - Started server process [494337]
2026-01-17 12:31:37,865 - uvicorn.error - INFO - Waiting for application startup.
2026-01-17 12:31:37,865 - app - INFO - Starting up application...
2026-01-17 12:31:37,877 - uvicorn.error - INFO - Application startup complete.
2026-01-17 12:31:44,264 - app - ERROR - Request failed: GET /api/v1/wallet/earnings - Duration: 300.24ms - Error: (sqlite3.IntegrityError) UNIQUE constraint failed: wallet.user_id
[SQL: INSERT INTO wallet (id, user_id, available_balance, locked_balance, total_withdrawn, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?)]
[parameters: ('75ddbd036f3341fd8ff4653ed2f89a6a', '6affb04777824af5acc7646740ae90f3', 0.0, 0.0, 0.0, '2026-01-17 11:31:44.240161', '2026-01-17 11:31:44.240264')]
(Background on this error at: https://sqlalche.me/e/20/gkpj)
2026-01-17 12:31:44,298 - app - ERROR - Traceback (most recent call last):
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/engine/default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 180, in execute
    self._adapt_connection._handle_exception(error)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 340, in _handle_exception
    raise error
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 162, in execute
    self.await_(_cursor.execute(operation, parameters))
    ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 132, in await_only
    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501
           ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 196, in greenlet_spawn
    value = await result
            ^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/aiosqlite/cursor.py", line 40, in execute
    await self._execute(self._cursor.execute, sql, parameters)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/aiosqlite/cursor.py", line 32, in _execute
    return await self._conn._execute(fn, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
sqlite3.IntegrityError: UNIQUE constraint failed: wallet.user_id

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/home/rehack/PycharmProjects/solpro_backend/app/main.py", line 65, in log_requests
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/base.py", line 168, in call_next
    raise app_exc from app_exc.__cause__ or app_exc.__context__
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/base.py", line 144, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/base.py", line 191, in __call__
    with recv_stream, send_stream, collapse_excgroups():
                                   ~~~~~~~~~~~~~~~~~~^^
  File "/home/rehack/anaconda3/lib/python3.13/contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    ~~~~~~~~~~~~~~^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/_utils.py", line 85, in collapse_excgroups
    raise exc
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/base.py", line 193, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/slowapi/middleware.py", line 136, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/base.py", line 168, in call_next
    raise app_exc from app_exc.__cause__ or app_exc.__context__
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/base.py", line 144, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/gzip.py", line 29, in __call__
    await responder(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/gzip.py", line 130, in __call__
    await super().__call__(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/gzip.py", line 46, in __call__
    await self.app(scope, receive, self.send_with_compression)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/trustedhost.py", line 36, in __call__
    await self.app(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/fastapi/routing.py", line 125, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/fastapi/routing.py", line 111, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/fastapi/routing.py", line 391, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/fastapi/routing.py", line 290, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rehack/PycharmProjects/solpro_backend/app/api/v1/endpoints/wallet.py", line 58, in get_referral_earnings
    earnings = await service.get_earnings(current_user.id)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rehack/PycharmProjects/solpro_backend/app/service/wallet_service.py", line 61, in get_earnings
    wallet = await self.get_wallet(user_id)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rehack/PycharmProjects/solpro_backend/app/service/wallet_service.py", line 39, in get_wallet
    return await self.wallet_repo.get_or_create(user_id)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rehack/PycharmProjects/solpro_backend/app/repository/wallet_repo.py", line 36, in get_or_create
    await self.session.commit()
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/ext/asyncio/session.py", line 1000, in commit
    await greenlet_spawn(self.sync_session.commit)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 203, in greenlet_spawn
    result = context.switch(value)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/orm/session.py", line 2030, in commit
    trans.commit(_to_root=True)
    ~~~~~~~~~~~~^^^^^^^^^^^^^^^
  File "<string>", line 2, in commit
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/orm/state_changes.py", line 137, in _go
    ret_value = fn(self, *arg, **kw)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/orm/session.py", line 1311, in commit
    self._prepare_impl()
    ~~~~~~~~~~~~~~~~~~^^
  File "<string>", line 2, in _prepare_impl
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/orm/state_changes.py", line 137, in _go
    ret_value = fn(self, *arg, **kw)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/orm/session.py", line 1286, in _prepare_impl
    self.session.flush()
    ~~~~~~~~~~~~~~~~~~^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/orm/session.py", line 4331, in flush
    self._flush(objects)
    ~~~~~~~~~~~^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/orm/session.py", line 4466, in _flush
    with util.safe_reraise():
         ~~~~~~~~~~~~~~~~~^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/util/langhelpers.py", line 224, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/orm/session.py", line 4427, in _flush
    flush_context.execute()
    ~~~~~~~~~~~~~~~~~~~~~^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/orm/unitofwork.py", line 466, in execute
    rec.execute(self)
    ~~~~~~~~~~~^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/orm/unitofwork.py", line 642, in execute
    util.preloaded.orm_persistence.save_obj(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self.mapper,
        ^^^^^^^^^^^^
        uow.states_for_mapper_hierarchy(self.mapper, False, False),
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        uow,
        ^^^^
    )
    ^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/orm/persistence.py", line 93, in save_obj
    _emit_insert_statements(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        base_mapper,
        ^^^^^^^^^^^^
    ...<3 lines>...
        insert,
        ^^^^^^^
    )
    ^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/orm/persistence.py", line 1048, in _emit_insert_statements
    result = connection.execute(
        statement, multiparams, execution_options=execution_options
    )
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/engine/base.py", line 1419, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/sql/elements.py", line 526, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/engine/base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
        dialect,
    ...<8 lines>...
        cache_hit=cache_hit,
    )
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/engine/base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ~~~~~~~~~~~~~~~~~~~~~~~~~^
        dialect, context, statement, parameters
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/engine/base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        e, str_statement, effective_parameters, cursor, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/engine/base.py", line 2355, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/engine/default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 180, in execute
    self._adapt_connection._handle_exception(error)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 340, in _handle_exception
    raise error
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 162, in execute
    self.await_(_cursor.execute(operation, parameters))
    ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 132, in await_only
    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501
           ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 196, in greenlet_spawn
    value = await result
            ^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/aiosqlite/cursor.py", line 40, in execute
    await self._execute(self._cursor.execute, sql, parameters)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/aiosqlite/cursor.py", line 32, in _execute
    return await self._conn._execute(fn, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
sqlalchemy.exc.IntegrityError: (sqlite3.IntegrityError) UNIQUE constraint failed: wallet.user_id
[SQL: INSERT INTO wallet (id, user_id, available_balance, locked_balance, total_withdrawn, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?)]
[parameters: ('75ddbd036f3341fd8ff4653ed2f89a6a', '6affb04777824af5acc7646740ae90f3', 0.0, 0.0, 0.0, '2026-01-17 11:31:44.240161', '2026-01-17 11:31:44.240264')]
(Background on this error at: https://sqlalche.me/e/20/gkpj)

2026-01-17 12:31:44,301 - uvicorn.access - INFO - 127.0.0.1:48140 - "GET /api/v1/wallet/earnings HTTP/1.1" 500
2026-01-17 12:31:44,307 - app - INFO - Request: GET /api/v1/wallet/withdrawals - Status: 200 - Duration: 245.98ms
2026-01-17 12:31:44,307 - uvicorn.access - INFO - 127.0.0.1:48144 - "GET /api/v1/wallet/withdrawals HTTP/1.1" 200
2026-01-17 12:31:44,321 - app - INFO - Request: GET /api/v1/wallet/summary - Status: 200 - Duration: 358.42ms
2026-01-17 12:31:44,323 - uvicorn.access - INFO - 127.0.0.1:48130 - "GET /api/v1/wallet/summary HTTP/1.1" 200
2026-01-17 12:33:34,326 - uvicorn.error - INFO - Shutting down
2026-01-17 12:33:34,431 - uvicorn.error - INFO - Waiting for application shutdown.
2026-01-17 12:33:34,431 - app - INFO - Shutting down application...
2026-01-17 12:33:34,432 - uvicorn.error - INFO - Application shutdown complete.
2026-01-17 12:33:34,432 - uvicorn.error - INFO - Finished server process [494337]
2026-01-17 12:33:36,525 - uvicorn.error - INFO - Started server process [496064]
2026-01-17 12:33:36,526 - uvicorn.error - INFO - Waiting for application startup.
2026-01-17 12:33:36,526 - app - INFO - Starting up application...
2026-01-17 12:33:36,539 - uvicorn.error - INFO - Application startup complete.
2026-01-17 12:34:35,517 - app - INFO - Request: GET /api/v1/wallet/earnings - Status: 200 - Duration: 268.69ms
2026-01-17 12:34:35,517 - uvicorn.access - INFO - 127.0.0.1:59306 - "GET /api/v1/wallet/earnings HTTP/1.1" 200
2026-01-17 12:34:35,532 - app - INFO - Request: GET /api/v1/wallet/withdrawals - Status: 200 - Duration: 284.26ms
2026-01-17 12:34:35,541 - uvicorn.access - INFO - 127.0.0.1:59314 - "GET /api/v1/wallet/withdrawals HTTP/1.1" 200
2026-01-17 12:34:35,553 - app - INFO - Request: GET /api/v1/wallet/summary - Status: 200 - Duration: 513.53ms
2026-01-17 12:34:35,553 - uvicorn.access - INFO - 127.0.0.1:59300 - "GET /api/v1/wallet/summary HTTP/1.1" 200
2026-01-17 12:35:47,682 - app - INFO - Request: GET /api/v1/wallet/withdrawals - Status: 200 - Duration: 93.77ms
2026-01-17 12:35:47,683 - uvicorn.access - INFO - 127.0.0.1:43412 - "GET /api/v1/wallet/withdrawals HTTP/1.1" 200
2026-01-17 12:35:47,688 - app - INFO - Request: GET /api/v1/wallet/earnings - Status: 200 - Duration: 99.77ms
2026-01-17 12:35:47,689 - uvicorn.access - INFO - 127.0.0.1:43410 - "GET /api/v1/wallet/earnings HTTP/1.1" 200
2026-01-17 12:35:47,697 - app - INFO - Request: GET /api/v1/wallet/summary - Status: 200 - Duration: 114.37ms
2026-01-17 12:35:47,698 - uvicorn.access - INFO - 127.0.0.1:43400 - "GET /api/v1/wallet/summary HTTP/1.1" 200
2026-01-17 12:36:46,894 - app - INFO - Request: GET /api/v1/wallet/earnings - Status: 200 - Duration: 43.01ms
2026-01-17 12:36:46,895 - uvicorn.access - INFO - 127.0.0.1:39342 - "GET /api/v1/wallet/earnings HTTP/1.1" 200
2026-01-17 12:36:46,896 - app - INFO - Request: GET /api/v1/wallet/summary - Status: 200 - Duration: 45.22ms
2026-01-17 12:36:46,897 - uvicorn.access - INFO - 127.0.0.1:39326 - "GET /api/v1/wallet/summary HTTP/1.1" 200
2026-01-17 12:36:46,906 - app - INFO - Request: GET /api/v1/wallet/withdrawals - Status: 200 - Duration: 54.44ms
2026-01-17 12:36:46,906 - uvicorn.access - INFO - 127.0.0.1:39358 - "GET /api/v1/wallet/withdrawals HTTP/1.1" 200
2026-01-17 12:37:53,488 - app - INFO - Request: GET /api/v1/wallet/earnings - Status: 200 - Duration: 168.41ms
2026-01-17 12:37:53,488 - uvicorn.access - INFO - 127.0.0.1:46028 - "GET /api/v1/wallet/earnings HTTP/1.1" 200
2026-01-17 12:37:53,497 - app - INFO - Request: GET /api/v1/wallet/summary - Status: 200 - Duration: 197.36ms
2026-01-17 12:37:53,498 - uvicorn.access - INFO - 127.0.0.1:46014 - "GET /api/v1/wallet/summary HTTP/1.1" 200
2026-01-17 12:37:53,507 - app - INFO - Request: GET /api/v1/wallet/withdrawals - Status: 200 - Duration: 181.79ms
2026-01-17 12:37:53,512 - uvicorn.access - INFO - 127.0.0.1:46030 - "GET /api/v1/wallet/withdrawals HTTP/1.1" 200
2026-01-17 12:38:39,319 - app - INFO - Request: GET /api/v1/wallet/earnings - Status: 200 - Duration: 121.52ms
2026-01-17 12:38:39,324 - uvicorn.access - INFO - 127.0.0.1:39924 - "GET /api/v1/wallet/earnings HTTP/1.1" 200
2026-01-17 12:38:39,326 - app - INFO - Request: GET /api/v1/wallet/summary - Status: 200 - Duration: 145.79ms
2026-01-17 12:38:39,326 - uvicorn.access - INFO - 127.0.0.1:39914 - "GET /api/v1/wallet/summary HTTP/1.1" 200
2026-01-17 12:38:39,340 - app - INFO - Request: GET /api/v1/wallet/withdrawals - Status: 200 - Duration: 136.28ms
2026-01-17 12:38:39,341 - uvicorn.access - INFO - 127.0.0.1:39936 - "GET /api/v1/wallet/withdrawals HTTP/1.1" 200
2026-01-17 12:39:35,921 - app - INFO - Request: GET /api/v1/wallet/earnings - Status: 200 - Duration: 151.89ms
2026-01-17 12:39:35,922 - uvicorn.access - INFO - 127.0.0.1:40058 - "GET /api/v1/wallet/earnings HTTP/1.1" 200
2026-01-17 12:39:35,949 - app - INFO - Request: GET /api/v1/wallet/withdrawals - Status: 200 - Duration: 180.69ms
2026-01-17 12:39:35,950 - uvicorn.access - INFO - 127.0.0.1:40062 - "GET /api/v1/wallet/withdrawals HTTP/1.1" 200
2026-01-17 12:39:35,967 - app - INFO - Request: GET /api/v1/wallet/summary - Status: 200 - Duration: 202.19ms
2026-01-17 12:39:35,971 - uvicorn.access - INFO - 127.0.0.1:40054 - "GET /api/v1/wallet/summary HTTP/1.1" 200
2026-01-17 12:40:00,881 - app - INFO - Request: GET /api/v1/wallet/earnings - Status: 200 - Duration: 34.13ms
2026-01-17 12:40:00,882 - uvicorn.access - INFO - 127.0.0.1:42412 - "GET /api/v1/wallet/earnings HTTP/1.1" 200
2026-01-17 12:40:00,882 - app - INFO - Request: GET /api/v1/wallet/withdrawals - Status: 200 - Duration: 34.86ms
2026-01-17 12:40:00,882 - uvicorn.access - INFO - 127.0.0.1:42426 - "GET /api/v1/wallet/withdrawals HTTP/1.1" 200
2026-01-17 12:40:00,904 - app - INFO - Request: GET /api/v1/wallet/summary - Status: 200 - Duration: 57.32ms
2026-01-17 12:40:00,904 - uvicorn.access - INFO - 127.0.0.1:42404 - "GET /api/v1/wallet/summary HTTP/1.1" 200
2026-01-17 12:49:56,354 - uvicorn.error - INFO - Shutting down
2026-01-17 12:49:56,455 - uvicorn.error - INFO - Waiting for application shutdown.
2026-01-17 12:49:56,455 - app - INFO - Shutting down application...
2026-01-17 12:49:56,456 - uvicorn.error - INFO - Application shutdown complete.
2026-01-17 12:49:56,456 - uvicorn.error - INFO - Finished server process [496064]
2026-01-17 12:49:59,091 - uvicorn.error - INFO - Started server process [510084]
2026-01-17 12:49:59,091 - uvicorn.error - INFO - Waiting for application startup.
2026-01-17 12:49:59,092 - app - INFO - Starting up application...
2026-01-17 12:49:59,133 - uvicorn.error - INFO - Application startup complete.
2026-01-17 12:52:30,573 - app - INFO - Request: GET /api/v1/wallet/earnings - Status: 200 - Duration: 63.80ms
2026-01-17 12:52:30,574 - uvicorn.access - INFO - 127.0.0.1:40378 - "GET /api/v1/wallet/earnings HTTP/1.1" 200
2026-01-17 12:52:30,587 - app - INFO - Request: GET /api/v1/wallet/summary - Status: 200 - Duration: 115.02ms
2026-01-17 12:52:30,588 - uvicorn.access - INFO - 127.0.0.1:40362 - "GET /api/v1/wallet/summary HTTP/1.1" 200
2026-01-17 12:52:30,591 - app - INFO - Request: GET /api/v1/wallet/withdrawals - Status: 200 - Duration: 80.96ms
2026-01-17 12:52:30,592 - uvicorn.access - INFO - 127.0.0.1:40386 - "GET /api/v1/wallet/withdrawals HTTP/1.1" 200
2026-01-17 12:57:47,120 - app - INFO - Request: GET /api/v1/wallet/earnings - Status: 200 - Duration: 36.16ms
2026-01-17 12:57:47,123 - uvicorn.access - INFO - 127.0.0.1:48826 - "GET /api/v1/wallet/earnings HTTP/1.1" 200
2026-01-17 12:57:47,128 - app - INFO - Request: GET /api/v1/wallet/summary - Status: 200 - Duration: 55.71ms
2026-01-17 12:57:47,129 - uvicorn.access - INFO - 127.0.0.1:48812 - "GET /api/v1/wallet/summary HTTP/1.1" 200
2026-01-17 12:57:47,141 - app - INFO - Request: GET /api/v1/wallet/withdrawals - Status: 200 - Duration: 32.44ms
2026-01-17 12:57:47,141 - uvicorn.access - INFO - 127.0.0.1:48842 - "GET /api/v1/wallet/withdrawals HTTP/1.1" 200
2026-01-17 12:59:30,729 - app - INFO - Request: GET /api/v1/wallet/summary - Status: 403 - Duration: 10.95ms
2026-01-17 12:59:30,731 - uvicorn.access - INFO - 127.0.0.1:34244 - "GET /api/v1/wallet/summary HTTP/1.1" 403
2026-01-17 12:59:30,747 - app - INFO - Request: GET /api/v1/wallet/earnings - Status: 403 - Duration: 18.69ms
2026-01-17 12:59:30,748 - uvicorn.access - INFO - 127.0.0.1:34258 - "GET /api/v1/wallet/earnings HTTP/1.1" 403
2026-01-17 12:59:30,752 - app - INFO - Request: GET /api/v1/wallet/withdrawals - Status: 403 - Duration: 23.22ms
2026-01-17 12:59:30,755 - uvicorn.access - INFO - 127.0.0.1:34262 - "GET /api/v1/wallet/withdrawals HTTP/1.1" 403
2026-01-17 12:59:36,600 - app - INFO - Request: POST /api/v1/auth/login/access-token - Status: 200 - Duration: 987.07ms
2026-01-17 12:59:36,601 - uvicorn.access - INFO - 127.0.0.1:39324 - "POST /api/v1/auth/login/access-token HTTP/1.1" 200
2026-01-17 12:59:38,190 - app - INFO - Request: GET /api/v1/users/me - Status: 200 - Duration: 188.79ms
2026-01-17 12:59:38,192 - uvicorn.access - INFO - 127.0.0.1:39330 - "GET /api/v1/users/me HTTP/1.1" 200
2026-01-17 12:59:38,406 - app - INFO - Request: GET /api/v1/users/me - Status: 200 - Duration: 178.92ms
2026-01-17 12:59:38,408 - uvicorn.access - INFO - 127.0.0.1:39342 - "GET /api/v1/users/me HTTP/1.1" 200
2026-01-17 12:59:38,518 - app - INFO - Request: GET /api/v1/prop-firm - Status: 200 - Duration: 201.56ms
2026-01-17 12:59:38,522 - uvicorn.access - INFO - 127.0.0.1:39346 - "GET /api/v1/prop-firm HTTP/1.1" 200
2026-01-17 12:59:39,028 - app - INFO - Request: GET /api/v1/prop-firm - Status: 200 - Duration: 63.36ms
2026-01-17 12:59:39,028 - uvicorn.access - INFO - 127.0.0.1:39348 - "GET /api/v1/prop-firm HTTP/1.1" 200
2026-01-17 12:59:41,602 - app - INFO - Request: GET /api/v1/wallet/summary - Status: 200 - Duration: 173.03ms
2026-01-17 12:59:41,603 - uvicorn.access - INFO - 127.0.0.1:39350 - "GET /api/v1/wallet/summary HTTP/1.1" 200
2026-01-17 12:59:41,739 - app - INFO - Request: GET /api/v1/wallet/earnings - Status: 200 - Duration: 270.29ms
2026-01-17 12:59:41,739 - uvicorn.access - INFO - 127.0.0.1:39366 - "GET /api/v1/wallet/earnings HTTP/1.1" 200
2026-01-17 12:59:41,772 - app - INFO - Request: GET /api/v1/wallet/withdrawals - Status: 200 - Duration: 303.86ms
2026-01-17 12:59:41,774 - uvicorn.access - INFO - 127.0.0.1:39370 - "GET /api/v1/wallet/withdrawals HTTP/1.1" 200
2026-01-17 12:59:42,013 - app - INFO - Request: GET /api/v1/wallet/earnings - Status: 200 - Duration: 222.30ms
2026-01-17 12:59:42,015 - uvicorn.access - INFO - 127.0.0.1:39396 - "GET /api/v1/wallet/earnings HTTP/1.1" 200
2026-01-17 12:59:42,016 - app - INFO - Request: GET /api/v1/wallet/summary - Status: 200 - Duration: 332.66ms
2026-01-17 12:59:42,016 - uvicorn.access - INFO - 127.0.0.1:39384 - "GET /api/v1/wallet/summary HTTP/1.1" 200
2026-01-17 12:59:42,055 - app - INFO - Request: GET /api/v1/wallet/withdrawals - Status: 200 - Duration: 200.86ms
2026-01-17 12:59:42,058 - uvicorn.access - INFO - 127.0.0.1:39408 - "GET /api/v1/wallet/withdrawals HTTP/1.1" 200
2026-01-17 13:06:15,774 - app - INFO - Request: GET /api/v1/users/me - Status: 200 - Duration: 39.80ms
2026-01-17 13:06:15,775 - uvicorn.access - INFO - 127.0.0.1:36854 - "GET /api/v1/users/me HTTP/1.1" 200
2026-01-17 13:06:15,992 - app - INFO - Request: GET /api/v1/wallet/summary - Status: 200 - Duration: 156.79ms
2026-01-17 13:06:16,001 - uvicorn.access - INFO - 127.0.0.1:36868 - "GET /api/v1/wallet/summary HTTP/1.1" 200
2026-01-17 13:06:16,088 - app - INFO - Request: GET /api/v1/wallet/withdrawals - Status: 200 - Duration: 158.17ms
2026-01-17 13:06:16,088 - uvicorn.access - INFO - 127.0.0.1:36874 - "GET /api/v1/wallet/withdrawals HTTP/1.1" 200
2026-01-17 13:06:16,149 - app - INFO - Request: GET /api/v1/wallet/earnings - Status: 200 - Duration: 247.32ms
2026-01-17 13:06:16,149 - uvicorn.access - INFO - 127.0.0.1:36872 - "GET /api/v1/wallet/earnings HTTP/1.1" 200
2026-01-17 13:08:37,739 - app - INFO - Request: GET /api/v1/users/me - Status: 200 - Duration: 45.25ms
2026-01-17 13:08:37,741 - uvicorn.access - INFO - 127.0.0.1:48158 - "GET /api/v1/users/me HTTP/1.1" 200
2026-01-17 13:08:37,866 - app - INFO - Request: GET /api/v1/users/me - Status: 200 - Duration: 84.49ms
2026-01-17 13:08:37,867 - uvicorn.access - INFO - 127.0.0.1:48170 - "GET /api/v1/users/me HTTP/1.1" 200
2026-01-17 13:08:37,893 - app - INFO - Request: GET /api/v1/prop-firm - Status: 200 - Duration: 85.28ms
2026-01-17 13:08:37,895 - uvicorn.access - INFO - 127.0.0.1:48176 - "GET /api/v1/prop-firm HTTP/1.1" 200
2026-01-17 13:08:37,988 - app - INFO - Request: GET /api/v1/prop-firm - Status: 200 - Duration: 67.32ms
2026-01-17 13:08:37,989 - uvicorn.access - INFO - 127.0.0.1:48184 - "GET /api/v1/prop-firm HTTP/1.1" 200
2026-01-17 13:08:44,780 - app - INFO - Request: GET /api/v1/users/me - Status: 200 - Duration: 92.42ms
2026-01-17 13:08:44,781 - uvicorn.access - INFO - 127.0.0.1:33054 - "GET /api/v1/users/me HTTP/1.1" 200
2026-01-17 13:08:44,992 - app - INFO - Request: GET /api/v1/users/me - Status: 200 - Duration: 143.87ms
2026-01-17 13:08:44,994 - uvicorn.access - INFO - 127.0.0.1:33068 - "GET /api/v1/users/me HTTP/1.1" 200
2026-01-17 13:08:45,204 - app - INFO - Request: GET /api/v1/wallet/earnings - Status: 200 - Duration: 265.79ms
2026-01-17 13:08:45,207 - uvicorn.access - INFO - 127.0.0.1:33074 - "GET /api/v1/wallet/earnings HTTP/1.1" 200
2026-01-17 13:08:45,234 - app - INFO - Request: GET /api/v1/wallet/summary - Status: 200 - Duration: 314.91ms
2026-01-17 13:08:45,235 - uvicorn.access - INFO - 127.0.0.1:33072 - "GET /api/v1/wallet/summary HTTP/1.1" 200
2026-01-17 13:08:45,250 - app - INFO - Request: GET /api/v1/wallet/withdrawals - Status: 200 - Duration: 311.23ms
2026-01-17 13:08:45,251 - uvicorn.access - INFO - 127.0.0.1:33078 - "GET /api/v1/wallet/withdrawals HTTP/1.1" 200
2026-01-17 13:08:45,432 - app - INFO - Request: GET /api/v1/wallet/earnings - Status: 200 - Duration: 168.02ms
2026-01-17 13:08:45,437 - uvicorn.access - INFO - 127.0.0.1:33084 - "GET /api/v1/wallet/earnings HTTP/1.1" 200
2026-01-17 13:08:45,577 - app - INFO - Request: GET /api/v1/wallet/summary - Status: 200 - Duration: 219.35ms
2026-01-17 13:08:45,578 - uvicorn.access - INFO - 127.0.0.1:33088 - "GET /api/v1/wallet/summary HTTP/1.1" 200
2026-01-17 13:08:45,593 - app - INFO - Request: GET /api/v1/wallet/withdrawals - Status: 200 - Duration: 189.38ms
2026-01-17 13:08:45,596 - uvicorn.access - INFO - 127.0.0.1:33102 - "GET /api/v1/wallet/withdrawals HTTP/1.1" 200
2026-01-17 13:08:51,369 - app - INFO - Request: GET /api/v1/users/me - Status: 200 - Duration: 8.85ms
2026-01-17 13:08:51,370 - uvicorn.access - INFO - 127.0.0.1:33110 - "GET /api/v1/users/me HTTP/1.1" 200
2026-01-17 13:08:51,417 - app - INFO - Request: GET /api/v1/users/me - Status: 200 - Duration: 26.99ms
2026-01-17 13:08:51,418 - uvicorn.access - INFO - 127.0.0.1:33126 - "GET /api/v1/users/me HTTP/1.1" 200
2026-01-17 13:08:51,425 - app - INFO - Request: GET /api/v1/prop-firm - Status: 200 - Duration: 24.58ms
2026-01-17 13:08:51,425 - uvicorn.access - INFO - 127.0.0.1:33142 - "GET /api/v1/prop-firm HTTP/1.1" 200
2026-01-17 13:08:51,467 - app - INFO - Request: GET /api/v1/prop-firm - Status: 200 - Duration: 29.31ms
2026-01-17 13:08:51,467 - uvicorn.access - INFO - 127.0.0.1:33156 - "GET /api/v1/prop-firm HTTP/1.1" 200
2026-01-17 13:09:03,345 - app - INFO - Request: GET /api/v1/users/me - Status: 200 - Duration: 35.33ms
2026-01-17 13:09:03,345 - uvicorn.access - INFO - 127.0.0.1:38830 - "GET /api/v1/users/me HTTP/1.1" 200
2026-01-17 13:09:03,457 - app - INFO - Request: GET /api/v1/users/me - Status: 200 - Duration: 83.03ms
2026-01-17 13:09:03,457 - uvicorn.access - INFO - 127.0.0.1:38834 - "GET /api/v1/users/me HTTP/1.1" 200
2026-01-17 13:09:03,483 - app - INFO - Request: GET /api/v1/prop-firm - Status: 200 - Duration: 77.11ms
2026-01-17 13:09:03,485 - uvicorn.access - INFO - 127.0.0.1:38848 - "GET /api/v1/prop-firm HTTP/1.1" 200
2026-01-17 13:09:03,539 - app - INFO - Request: GET /api/v1/prop-firm - Status: 200 - Duration: 36.72ms
2026-01-17 13:09:03,539 - uvicorn.access - INFO - 127.0.0.1:45758 - "GET /api/v1/prop-firm HTTP/1.1" 200
2026-01-17 13:09:15,386 - app - INFO - Request: GET /api/v1/users/me - Status: 200 - Duration: 49.17ms
2026-01-17 13:09:15,386 - uvicorn.access - INFO - 127.0.0.1:54486 - "GET /api/v1/users/me HTTP/1.1" 200
2026-01-17 13:09:15,431 - app - INFO - Request: GET /api/v1/users/me - Status: 200 - Duration: 33.01ms
2026-01-17 13:09:15,431 - uvicorn.access - INFO - 127.0.0.1:54490 - "GET /api/v1/users/me HTTP/1.1" 200
2026-01-17 13:09:15,508 - app - INFO - Request: GET /api/v1/wallet/withdrawals - Status: 200 - Duration: 54.67ms
2026-01-17 13:09:15,510 - uvicorn.access - INFO - 127.0.0.1:54512 - "GET /api/v1/wallet/withdrawals HTTP/1.1" 200
2026-01-17 13:09:15,512 - app - INFO - Request: GET /api/v1/wallet/earnings - Status: 200 - Duration: 72.83ms
2026-01-17 13:09:15,513 - uvicorn.access - INFO - 127.0.0.1:54502 - "GET /api/v1/wallet/earnings HTTP/1.1" 200
2026-01-17 13:09:15,522 - app - INFO - Request: GET /api/v1/wallet/summary - Status: 200 - Duration: 87.46ms
2026-01-17 13:09:15,522 - uvicorn.access - INFO - 127.0.0.1:54496 - "GET /api/v1/wallet/summary HTTP/1.1" 200
2026-01-17 13:09:15,633 - app - INFO - Request: GET /api/v1/wallet/withdrawals - Status: 200 - Duration: 70.32ms
2026-01-17 13:09:15,633 - uvicorn.access - INFO - 127.0.0.1:54526 - "GET /api/v1/wallet/withdrawals HTTP/1.1" 200
2026-01-17 13:09:15,638 - app - INFO - Request: GET /api/v1/wallet/earnings - Status: 200 - Duration: 90.39ms
2026-01-17 13:09:15,639 - uvicorn.access - INFO - 127.0.0.1:54514 - "GET /api/v1/wallet/earnings HTTP/1.1" 200
2026-01-17 13:09:15,647 - app - INFO - Request: GET /api/v1/wallet/summary - Status: 200 - Duration: 84.27ms
2026-01-17 13:09:15,647 - uvicorn.access - INFO - 127.0.0.1:54534 - "GET /api/v1/wallet/summary HTTP/1.1" 200
2026-01-17 13:11:14,937 - app - INFO - Request: GET /api/v1/users/me - Status: 200 - Duration: 13.80ms
2026-01-17 13:11:14,938 - uvicorn.access - INFO - 127.0.0.1:51714 - "GET /api/v1/users/me HTTP/1.1" 200
2026-01-17 13:11:14,978 - app - INFO - Request: GET /api/v1/users/me - Status: 200 - Duration: 26.62ms
2026-01-17 13:11:14,978 - uvicorn.access - INFO - 127.0.0.1:51728 - "GET /api/v1/users/me HTTP/1.1" 200
2026-01-17 13:11:14,995 - app - INFO - Request: GET /api/v1/prop-firm - Status: 200 - Duration: 32.41ms
2026-01-17 13:11:14,995 - uvicorn.access - INFO - 127.0.0.1:51736 - "GET /api/v1/prop-firm HTTP/1.1" 200
2026-01-17 13:11:15,036 - app - INFO - Request: GET /api/v1/prop-firm - Status: 200 - Duration: 27.18ms
2026-01-17 13:11:15,037 - uvicorn.access - INFO - 127.0.0.1:51744 - "GET /api/v1/prop-firm HTTP/1.1" 200
2026-01-17 13:21:37,168 - app - ERROR - Request failed: GET /api/v1/crypto-payments/estimate - Duration: 5468.12ms - Error: 
2026-01-17 13:21:37,198 - app - ERROR - Traceback (most recent call last):
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/httpx/_transports/default.py", line 101, in map_httpcore_exceptions
    yield
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/httpx/_transports/default.py", line 394, in handle_async_request
    resp = await self._pool.handle_async_request(req)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/httpcore/_async/connection_pool.py", line 256, in handle_async_request
    raise exc from None
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/httpcore/_async/connection_pool.py", line 236, in handle_async_request
    response = await connection.handle_async_request(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        pool_request.request
        ^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/httpcore/_async/connection.py", line 101, in handle_async_request
    raise exc
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/httpcore/_async/connection.py", line 78, in handle_async_request
    stream = await self._connect(request)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/httpcore/_async/connection.py", line 124, in _connect
    stream = await self._network_backend.connect_tcp(**kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/httpcore/_backends/auto.py", line 31, in connect_tcp
    return await self._backend.connect_tcp(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<5 lines>...
    )
    ^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/httpcore/_backends/anyio.py", line 113, in connect_tcp
    with map_exceptions(exc_map):
         ~~~~~~~~~~~~~~^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    ~~~~~~~~~~~~~~^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/httpcore/_exceptions.py", line 14, in map_exceptions
    raise to_exc(exc) from exc
httpcore.ConnectTimeout

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/home/rehack/PycharmProjects/solpro_backend/app/main.py", line 65, in log_requests
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/base.py", line 168, in call_next
    raise app_exc from app_exc.__cause__ or app_exc.__context__
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/base.py", line 144, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/base.py", line 191, in __call__
    with recv_stream, send_stream, collapse_excgroups():
                                   ~~~~~~~~~~~~~~~~~~^^
  File "/home/rehack/anaconda3/lib/python3.13/contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    ~~~~~~~~~~~~~~^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/_utils.py", line 85, in collapse_excgroups
    raise exc
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/base.py", line 193, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/slowapi/middleware.py", line 136, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/base.py", line 168, in call_next
    raise app_exc from app_exc.__cause__ or app_exc.__context__
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/base.py", line 144, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/gzip.py", line 29, in __call__
    await responder(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/gzip.py", line 130, in __call__
    await super().__call__(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/gzip.py", line 46, in __call__
    await self.app(scope, receive, self.send_with_compression)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/trustedhost.py", line 36, in __call__
    await self.app(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/fastapi/routing.py", line 125, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/fastapi/routing.py", line 111, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/fastapi/routing.py", line 391, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/fastapi/routing.py", line 290, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rehack/PycharmProjects/solpro_backend/app/api/v1/endpoints/crypto_payments.py", line 67, in get_estimated_price
    return await service.get_estimated_price(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "/home/rehack/PycharmProjects/solpro_backend/app/service/nowpayments_service.py", line 95, in get_estimated_price
    response = await client.get(
               ^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/httpx/_client.py", line 1768, in get
    return await self.request(
           ^^^^^^^^^^^^^^^^^^^
    ...<9 lines>...
    )
    ^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/httpx/_client.py", line 1540, in request
    return await self.send(request, auth=auth, follow_redirects=follow_redirects)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/httpx/_client.py", line 1629, in send
    response = await self._send_handling_auth(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<4 lines>...
    )
    ^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/httpx/_client.py", line 1657, in _send_handling_auth
    response = await self._send_handling_redirects(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/httpx/_client.py", line 1694, in _send_handling_redirects
    response = await self._send_single_request(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/httpx/_client.py", line 1730, in _send_single_request
    response = await transport.handle_async_request(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/httpx/_transports/default.py", line 393, in handle_async_request
    with map_httpcore_exceptions():
         ~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/home/rehack/anaconda3/lib/python3.13/contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    ~~~~~~~~~~~~~~^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/httpx/_transports/default.py", line 118, in map_httpcore_exceptions
    raise mapped_exc(message) from exc
httpx.ConnectTimeout

2026-01-17 13:21:37,199 - uvicorn.access - INFO - 127.0.0.1:48026 - "GET /api/v1/crypto-payments/estimate?amount=1790&currency_from=usd&currency_to=btc HTTP/1.1" 500
2026-01-17 13:21:37,216 - app - ERROR - Request failed: GET /api/v1/crypto-payments/currencies - Duration: 5513.67ms - Error: 
2026-01-17 13:21:37,245 - app - ERROR - Traceback (most recent call last):
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/httpx/_transports/default.py", line 101, in map_httpcore_exceptions
    yield
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/httpx/_transports/default.py", line 394, in handle_async_request
    resp = await self._pool.handle_async_request(req)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/httpcore/_async/connection_pool.py", line 256, in handle_async_request
    raise exc from None
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/httpcore/_async/connection_pool.py", line 236, in handle_async_request
    response = await connection.handle_async_request(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        pool_request.request
        ^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/httpcore/_async/connection.py", line 101, in handle_async_request
    raise exc
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/httpcore/_async/connection.py", line 78, in handle_async_request
    stream = await self._connect(request)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/httpcore/_async/connection.py", line 124, in _connect
    stream = await self._network_backend.connect_tcp(**kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/httpcore/_backends/auto.py", line 31, in connect_tcp
    return await self._backend.connect_tcp(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<5 lines>...
    )
    ^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/httpcore/_backends/anyio.py", line 113, in connect_tcp
    with map_exceptions(exc_map):
         ~~~~~~~~~~~~~~^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    ~~~~~~~~~~~~~~^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/httpcore/_exceptions.py", line 14, in map_exceptions
    raise to_exc(exc) from exc
httpcore.ConnectTimeout

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/home/rehack/PycharmProjects/solpro_backend/app/main.py", line 65, in log_requests
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/base.py", line 168, in call_next
    raise app_exc from app_exc.__cause__ or app_exc.__context__
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/base.py", line 144, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/base.py", line 191, in __call__
    with recv_stream, send_stream, collapse_excgroups():
                                   ~~~~~~~~~~~~~~~~~~^^
  File "/home/rehack/anaconda3/lib/python3.13/contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    ~~~~~~~~~~~~~~^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/_utils.py", line 85, in collapse_excgroups
    raise exc
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/base.py", line 193, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/slowapi/middleware.py", line 136, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/base.py", line 168, in call_next
    raise app_exc from app_exc.__cause__ or app_exc.__context__
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/base.py", line 144, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/gzip.py", line 29, in __call__
    await responder(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/gzip.py", line 130, in __call__
    await super().__call__(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/gzip.py", line 46, in __call__
    await self.app(scope, receive, self.send_with_compression)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/trustedhost.py", line 36, in __call__
    await self.app(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/fastapi/routing.py", line 125, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/fastapi/routing.py", line 111, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/fastapi/routing.py", line 391, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/fastapi/routing.py", line 290, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rehack/PycharmProjects/solpro_backend/app/api/v1/endpoints/crypto_payments.py", line 36, in get_available_currencies
    currencies = await service.get_available_currencies()
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rehack/PycharmProjects/solpro_backend/app/service/nowpayments_service.py", line 48, in get_available_currencies
    response = await client.get(
               ^^^^^^^^^^^^^^^^^
    ...<2 lines>...
    )
    ^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/httpx/_client.py", line 1768, in get
    return await self.request(
           ^^^^^^^^^^^^^^^^^^^
    ...<9 lines>...
    )
    ^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/httpx/_client.py", line 1540, in request
    return await self.send(request, auth=auth, follow_redirects=follow_redirects)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/httpx/_client.py", line 1629, in send
    response = await self._send_handling_auth(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<4 lines>...
    )
    ^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/httpx/_client.py", line 1657, in _send_handling_auth
    response = await self._send_handling_redirects(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/httpx/_client.py", line 1694, in _send_handling_redirects
    response = await self._send_single_request(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/httpx/_client.py", line 1730, in _send_single_request
    response = await transport.handle_async_request(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/httpx/_transports/default.py", line 393, in handle_async_request
    with map_httpcore_exceptions():
         ~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/home/rehack/anaconda3/lib/python3.13/contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    ~~~~~~~~~~~~~~^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/httpx/_transports/default.py", line 118, in map_httpcore_exceptions
    raise mapped_exc(message) from exc
httpx.ConnectTimeout

2026-01-17 13:21:37,246 - uvicorn.access - INFO - 127.0.0.1:48040 - "GET /api/v1/crypto-payments/currencies HTTP/1.1" 500
2026-01-17 13:21:38,004 - app - INFO - Request: GET /api/v1/crypto-payments/estimate - Status: 200 - Duration: 790.84ms
2026-01-17 13:21:38,004 - uvicorn.access - INFO - 127.0.0.1:56470 - "GET /api/v1/crypto-payments/estimate?amount=1790&currency_from=usd&currency_to=btc HTTP/1.1" 200
2026-01-17 13:21:38,008 - app - INFO - Request: GET /api/v1/crypto-payments/currencies - Status: 200 - Duration: 633.48ms
2026-01-17 13:21:38,008 - uvicorn.access - INFO - 127.0.0.1:56484 - "GET /api/v1/crypto-payments/currencies HTTP/1.1" 200
2026-01-17 14:18:22,094 - uvicorn.error - INFO - Shutting down
2026-01-17 14:18:22,196 - uvicorn.error - INFO - Waiting for application shutdown.
2026-01-17 14:18:22,197 - app - INFO - Shutting down application...
2026-01-17 14:18:22,198 - uvicorn.error - INFO - Application shutdown complete.
2026-01-17 14:18:22,198 - uvicorn.error - INFO - Finished server process [510084]
2026-01-17 15:41:27,286 - uvicorn.error - INFO - Started server process [648332]
2026-01-17 15:41:27,289 - uvicorn.error - INFO - Waiting for application startup.
2026-01-17 15:41:27,290 - app - INFO - Starting up application...
2026-01-17 15:41:27,321 - uvicorn.error - INFO - Application startup complete.
2026-01-17 15:41:27,322 - uvicorn.error - INFO - Uvicorn running on http://0.0.0.0:8000 (Press CTRL+C to quit)
2026-01-17 15:41:29,996 - app - INFO - Request: GET /api/v1/ - Status: 404 - Duration: 1.67ms
2026-01-17 15:41:29,997 - uvicorn.access - INFO - 127.0.0.1:52972 - "GET /api/v1/ HTTP/1.1" 404
2026-01-17 15:41:30,084 - app - INFO - Request: POST /api/v1/auth/login/access-token - Status: 400 - Duration: 80.92ms
2026-01-17 15:41:30,084 - uvicorn.access - INFO - 127.0.0.1:52984 - "POST /api/v1/auth/login/access-token HTTP/1.1" 400
2026-01-17 15:43:59,167 - app - INFO - Request: GET /api/v1/ - Status: 404 - Duration: 0.92ms
2026-01-17 15:43:59,168 - uvicorn.access - INFO - 127.0.0.1:41796 - "GET /api/v1/ HTTP/1.1" 404
2026-01-17 15:43:59,176 - app - INFO - Request: POST /api/v1/auth/login/access-token - Status: 400 - Duration: 5.19ms
2026-01-17 15:43:59,176 - uvicorn.access - INFO - 127.0.0.1:41804 - "POST /api/v1/auth/login/access-token HTTP/1.1" 400
2026-01-17 15:45:12,389 - app - INFO - Request: GET /api/v1/ - Status: 404 - Duration: 0.91ms
2026-01-17 15:45:12,389 - uvicorn.access - INFO - 127.0.0.1:35958 - "GET /api/v1/ HTTP/1.1" 404
2026-01-17 15:45:12,809 - app - INFO - Request: POST /api/v1/auth/login/admin/access-token - Status: 200 - Duration: 413.08ms
2026-01-17 15:45:12,810 - uvicorn.access - INFO - 127.0.0.1:35962 - "POST /api/v1/auth/login/admin/access-token HTTP/1.1" 200
2026-01-17 15:45:12,822 - app - INFO - Request: GET /api/v1/admin/affiliates/dashboard - Status: 200 - Duration: 10.51ms
2026-01-17 15:45:12,823 - uvicorn.access - INFO - 127.0.0.1:35978 - "GET /api/v1/admin/affiliates/dashboard HTTP/1.1" 200
2026-01-17 15:45:12,835 - app - INFO - Request: GET /api/v1/admin/affiliates/top - Status: 200 - Duration: 8.69ms
2026-01-17 15:45:12,835 - uvicorn.access - INFO - 127.0.0.1:35980 - "GET /api/v1/admin/affiliates/top HTTP/1.1" 200
2026-01-17 15:45:12,844 - app - INFO - Request: GET /api/v1/admin/affiliates/products - Status: 200 - Duration: 5.92ms
2026-01-17 15:45:12,845 - uvicorn.access - INFO - 127.0.0.1:35992 - "GET /api/v1/admin/affiliates/products HTTP/1.1" 200
2026-01-17 15:45:12,857 - app - INFO - Request: GET /api/v1/admin/affiliates/top - Status: 200 - Duration: 8.31ms
2026-01-17 15:45:12,857 - uvicorn.access - INFO - 127.0.0.1:35998 - "GET /api/v1/admin/affiliates/top HTTP/1.1" 200
2026-01-17 15:45:12,905 - app - INFO - Request: PATCH /api/v1/admin/affiliates/users/6affb047-7782-4af5-acc7-646740ae90f3/settings - Status: 200 - Duration: 40.62ms
2026-01-17 15:45:12,905 - uvicorn.access - INFO - 127.0.0.1:36014 - "PATCH /api/v1/admin/affiliates/users/6affb047-7782-4af5-acc7-646740ae90f3/settings HTTP/1.1" 200
2026-01-17 15:45:12,920 - app - INFO - Request: GET /api/v1/admin/affiliates/users/6affb047-7782-4af5-acc7-646740ae90f3 - Status: 200 - Duration: 12.00ms
2026-01-17 15:45:12,921 - uvicorn.access - INFO - 127.0.0.1:36020 - "GET /api/v1/admin/affiliates/users/6affb047-7782-4af5-acc7-646740ae90f3 HTTP/1.1" 200
2026-01-17 16:01:08,711 - app - INFO - Request: GET /api/v1/ - Status: 404 - Duration: 1.00ms
2026-01-17 16:01:08,718 - uvicorn.access - INFO - 127.0.0.1:45916 - "GET /api/v1/ HTTP/1.1" 404
2026-01-17 16:01:09,236 - app - INFO - Request: POST /api/v1/auth/login/admin/access-token - Status: 200 - Duration: 508.37ms
2026-01-17 16:01:09,237 - uvicorn.access - INFO - 127.0.0.1:45918 - "POST /api/v1/auth/login/admin/access-token HTTP/1.1" 200
2026-01-17 16:01:09,242 - app - INFO - Request: GET /api/v1/admin/affiliates/settings/global - Status: 404 - Duration: 0.85ms
2026-01-17 16:01:09,242 - uvicorn.access - INFO - 127.0.0.1:45920 - "GET /api/v1/admin/affiliates/settings/global HTTP/1.1" 404
2026-01-17 16:01:09,247 - app - INFO - Request: PATCH /api/v1/admin/affiliates/settings/global - Status: 404 - Duration: 1.00ms
2026-01-17 16:01:09,247 - uvicorn.access - INFO - 127.0.0.1:45924 - "PATCH /api/v1/admin/affiliates/settings/global HTTP/1.1" 404
2026-01-17 16:02:03,300 - uvicorn.error - INFO - Shutting down
2026-01-17 16:02:03,404 - uvicorn.error - INFO - Waiting for application shutdown.
2026-01-17 16:02:03,405 - app - INFO - Shutting down application...
2026-01-17 16:02:03,405 - uvicorn.error - INFO - Application shutdown complete.
2026-01-17 16:02:03,407 - uvicorn.error - INFO - Finished server process [648332]
2026-01-17 16:02:53,481 - uvicorn.error - INFO - Started server process [665285]
2026-01-17 16:02:53,482 - uvicorn.error - INFO - Waiting for application startup.
2026-01-17 16:02:53,482 - app - INFO - Starting up application...
2026-01-17 16:02:53,503 - uvicorn.error - INFO - Application startup complete.
2026-01-17 16:02:53,504 - uvicorn.error - INFO - Uvicorn running on http://0.0.0.0:8000 (Press CTRL+C to quit)
2026-01-17 16:02:56,788 - app - INFO - Request: GET /api/v1/ - Status: 404 - Duration: 4.07ms
2026-01-17 16:02:56,788 - uvicorn.access - INFO - 127.0.0.1:49642 - "GET /api/v1/ HTTP/1.1" 404
2026-01-17 16:02:57,264 - app - INFO - Request: POST /api/v1/auth/login/admin/access-token - Status: 200 - Duration: 469.45ms
2026-01-17 16:02:57,265 - uvicorn.access - INFO - 127.0.0.1:49654 - "POST /api/v1/auth/login/admin/access-token HTTP/1.1" 200
2026-01-17 16:02:57,306 - app - ERROR - Request failed: GET /api/v1/admin/affiliates/settings/global - Duration: 36.59ms - Error: 1 validation error for GlobalSettingsResponse
minimum_withdrawal
  Field required [type=missing, input_value={'default_commission_rate..._program_enabled': True}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.12/v/missing
2026-01-17 16:02:57,321 - app - ERROR -   + Exception Group Traceback (most recent call last):
  |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/_utils.py", line 79, in collapse_excgroups
  |     yield
  |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/base.py", line 192, in __call__
  |     async with anyio.create_task_group() as task_group:
  |                ~~~~~~~~~~~~~~~~~~~~~~~^^
  |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/anyio/_backends/_asyncio.py", line 815, in __aexit__
  |     raise BaseExceptionGroup(
  |         "unhandled errors in a TaskGroup", self._exceptions
  |     )
  | ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)
  +-+---------------- 1 ----------------
    | Traceback (most recent call last):
    |   File "/home/rehack/PycharmProjects/solpro_backend/app/main.py", line 65, in log_requests
    |     response = await call_next(request)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/base.py", line 168, in call_next
    |     raise app_exc from app_exc.__cause__ or app_exc.__context__
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/base.py", line 144, in coro
    |     await self.app(scope, receive_or_disconnect, send_no_error)
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/base.py", line 191, in __call__
    |     with recv_stream, send_stream, collapse_excgroups():
    |                                    ~~~~~~~~~~~~~~~~~~^^
    |   File "/home/rehack/anaconda3/lib/python3.13/contextlib.py", line 162, in __exit__
    |     self.gen.throw(value)
    |     ~~~~~~~~~~~~~~^^^^^^^
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/_utils.py", line 85, in collapse_excgroups
    |     raise exc
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/base.py", line 193, in __call__
    |     response = await self.dispatch_func(request, call_next)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/slowapi/middleware.py", line 136, in dispatch
    |     response = await call_next(request)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/base.py", line 168, in call_next
    |     raise app_exc from app_exc.__cause__ or app_exc.__context__
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/base.py", line 144, in coro
    |     await self.app(scope, receive_or_disconnect, send_no_error)
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/gzip.py", line 29, in __call__
    |     await responder(scope, receive, send)
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/gzip.py", line 130, in __call__
    |     await super().__call__(scope, receive, send)
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/gzip.py", line 46, in __call__
    |     await self.app(scope, receive, self.send_with_compression)
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/trustedhost.py", line 36, in __call__
    |     await self.app(scope, receive, send)
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/cors.py", line 85, in __call__
    |     await self.app(scope, receive, send)
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    |     await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    |     raise exc
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    |     await app(scope, receive, sender)
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    |     await self.app(scope, receive, send)
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/routing.py", line 716, in __call__
    |     await self.middleware_stack(scope, receive, send)
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/routing.py", line 736, in app
    |     await route.handle(scope, receive, send)
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/routing.py", line 290, in handle
    |     await self.app(scope, receive, send)
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/fastapi/routing.py", line 125, in app
    |     await wrap_app_handling_exceptions(app, request)(scope, receive, send)
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    |     raise exc
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    |     await app(scope, receive, sender)
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/fastapi/routing.py", line 111, in app
    |     response = await f(request)
    |                ^^^^^^^^^^^^^^^^
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/fastapi/routing.py", line 391, in app
    |     raw_response = await run_endpoint_function(
    |                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |     ...<3 lines>...
    |     )
    |     ^
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/fastapi/routing.py", line 290, in run_endpoint_function
    |     return await dependant.call(**values)
    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/home/rehack/PycharmProjects/solpro_backend/app/api/v1/endpoints/affiliate_admin.py", line 54, in get_global_settings
    |     return await service.get_global_settings()
    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/home/rehack/PycharmProjects/solpro_backend/app/service/affiliate_admin_service.py", line 32, in get_global_settings
    |     return GlobalSettingsResponse(
    |         default_commission_rate=float(settings.default_commission_rate),
    |         minimum_withdrawal_amount=float(settings.minimum_withdrawal_amount),
    |         is_program_enabled=settings.is_program_enabled
    |     )
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/pydantic/main.py", line 250, in __init__
    |     validated_self = self.__pydantic_validator__.validate_python(data, self_instance=self)
    | pydantic_core._pydantic_core.ValidationError: 1 validation error for GlobalSettingsResponse
    | minimum_withdrawal
    |   Field required [type=missing, input_value={'default_commission_rate..._program_enabled': True}, input_type=dict]
    |     For further information visit https://errors.pydantic.dev/2.12/v/missing
    +------------------------------------

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/home/rehack/PycharmProjects/solpro_backend/app/main.py", line 65, in log_requests
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/base.py", line 168, in call_next
    raise app_exc from app_exc.__cause__ or app_exc.__context__
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/base.py", line 144, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/base.py", line 191, in __call__
    with recv_stream, send_stream, collapse_excgroups():
                                   ~~~~~~~~~~~~~~~~~~^^
  File "/home/rehack/anaconda3/lib/python3.13/contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    ~~~~~~~~~~~~~~^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/_utils.py", line 85, in collapse_excgroups
    raise exc
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/base.py", line 193, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/slowapi/middleware.py", line 136, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/base.py", line 168, in call_next
    raise app_exc from app_exc.__cause__ or app_exc.__context__
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/base.py", line 144, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/gzip.py", line 29, in __call__
    await responder(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/gzip.py", line 130, in __call__
    await super().__call__(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/gzip.py", line 46, in __call__
    await self.app(scope, receive, self.send_with_compression)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/trustedhost.py", line 36, in __call__
    await self.app(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/fastapi/routing.py", line 125, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/fastapi/routing.py", line 111, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/fastapi/routing.py", line 391, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/fastapi/routing.py", line 290, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rehack/PycharmProjects/solpro_backend/app/api/v1/endpoints/affiliate_admin.py", line 54, in get_global_settings
    return await service.get_global_settings()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rehack/PycharmProjects/solpro_backend/app/service/affiliate_admin_service.py", line 32, in get_global_settings
    return GlobalSettingsResponse(
        default_commission_rate=float(settings.default_commission_rate),
        minimum_withdrawal_amount=float(settings.minimum_withdrawal_amount),
        is_program_enabled=settings.is_program_enabled
    )
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/pydantic/main.py", line 250, in __init__
    validated_self = self.__pydantic_validator__.validate_python(data, self_instance=self)
pydantic_core._pydantic_core.ValidationError: 1 validation error for GlobalSettingsResponse
minimum_withdrawal
  Field required [type=missing, input_value={'default_commission_rate..._program_enabled': True}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.12/v/missing

2026-01-17 16:02:57,322 - uvicorn.access - INFO - 127.0.0.1:49662 - "GET /api/v1/admin/affiliates/settings/global HTTP/1.1" 500
2026-01-17 16:02:57,329 - app - INFO - Request: PATCH /api/v1/admin/affiliates/settings/global - Status: 422 - Duration: 4.88ms
2026-01-17 16:02:57,329 - uvicorn.access - INFO - 127.0.0.1:49670 - "PATCH /api/v1/admin/affiliates/settings/global HTTP/1.1" 422
2026-01-17 16:04:52,393 - uvicorn.error - INFO - Shutting down
2026-01-17 16:04:52,493 - uvicorn.error - INFO - Waiting for application shutdown.
2026-01-17 16:04:52,497 - app - INFO - Shutting down application...
2026-01-17 16:04:52,498 - uvicorn.error - INFO - Application shutdown complete.
2026-01-17 16:04:52,498 - uvicorn.error - INFO - Finished server process [665285]
2026-01-17 16:06:02,518 - uvicorn.error - INFO - Started server process [667857]
2026-01-17 16:06:02,518 - uvicorn.error - INFO - Waiting for application startup.
2026-01-17 16:06:02,519 - app - INFO - Starting up application...
2026-01-17 16:06:02,533 - uvicorn.error - INFO - Application startup complete.
2026-01-17 16:06:02,536 - uvicorn.error - INFO - Uvicorn running on http://0.0.0.0:8000 (Press CTRL+C to quit)
2026-01-17 16:06:05,312 - app - INFO - Request: GET /api/v1/ - Status: 404 - Duration: 1.19ms
2026-01-17 16:06:05,312 - uvicorn.access - INFO - 127.0.0.1:35508 - "GET /api/v1/ HTTP/1.1" 404
2026-01-17 16:06:05,819 - app - INFO - Request: POST /api/v1/auth/login/admin/access-token - Status: 200 - Duration: 502.82ms
2026-01-17 16:06:05,820 - uvicorn.access - INFO - 127.0.0.1:35516 - "POST /api/v1/auth/login/admin/access-token HTTP/1.1" 200
2026-01-17 16:06:05,834 - app - INFO - Request: GET /api/v1/admin/affiliates/settings/global - Status: 200 - Duration: 9.60ms
2026-01-17 16:06:05,834 - uvicorn.access - INFO - 127.0.0.1:35530 - "GET /api/v1/admin/affiliates/settings/global HTTP/1.1" 200
2026-01-17 16:06:05,845 - app - ERROR - Request failed: PATCH /api/v1/admin/affiliates/settings/global - Duration: 7.46ms - Error: name 'Decimal' is not defined
2026-01-17 16:06:05,858 - app - ERROR -   + Exception Group Traceback (most recent call last):
  |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/_utils.py", line 79, in collapse_excgroups
  |     yield
  |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/base.py", line 192, in __call__
  |     async with anyio.create_task_group() as task_group:
  |                ~~~~~~~~~~~~~~~~~~~~~~~^^
  |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/anyio/_backends/_asyncio.py", line 815, in __aexit__
  |     raise BaseExceptionGroup(
  |         "unhandled errors in a TaskGroup", self._exceptions
  |     )
  | ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)
  +-+---------------- 1 ----------------
    | Traceback (most recent call last):
    |   File "/home/rehack/PycharmProjects/solpro_backend/app/main.py", line 65, in log_requests
    |     response = await call_next(request)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/base.py", line 168, in call_next
    |     raise app_exc from app_exc.__cause__ or app_exc.__context__
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/base.py", line 144, in coro
    |     await self.app(scope, receive_or_disconnect, send_no_error)
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/base.py", line 191, in __call__
    |     with recv_stream, send_stream, collapse_excgroups():
    |                                    ~~~~~~~~~~~~~~~~~~^^
    |   File "/home/rehack/anaconda3/lib/python3.13/contextlib.py", line 162, in __exit__
    |     self.gen.throw(value)
    |     ~~~~~~~~~~~~~~^^^^^^^
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/_utils.py", line 85, in collapse_excgroups
    |     raise exc
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/base.py", line 193, in __call__
    |     response = await self.dispatch_func(request, call_next)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/slowapi/middleware.py", line 136, in dispatch
    |     response = await call_next(request)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/base.py", line 168, in call_next
    |     raise app_exc from app_exc.__cause__ or app_exc.__context__
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/base.py", line 144, in coro
    |     await self.app(scope, receive_or_disconnect, send_no_error)
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/gzip.py", line 29, in __call__
    |     await responder(scope, receive, send)
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/gzip.py", line 130, in __call__
    |     await super().__call__(scope, receive, send)
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/gzip.py", line 46, in __call__
    |     await self.app(scope, receive, self.send_with_compression)
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/trustedhost.py", line 36, in __call__
    |     await self.app(scope, receive, send)
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/cors.py", line 85, in __call__
    |     await self.app(scope, receive, send)
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    |     await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    |     raise exc
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    |     await app(scope, receive, sender)
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    |     await self.app(scope, receive, send)
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/routing.py", line 716, in __call__
    |     await self.middleware_stack(scope, receive, send)
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/routing.py", line 736, in app
    |     await route.handle(scope, receive, send)
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/routing.py", line 290, in handle
    |     await self.app(scope, receive, send)
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/fastapi/routing.py", line 125, in app
    |     await wrap_app_handling_exceptions(app, request)(scope, receive, send)
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    |     raise exc
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    |     await app(scope, receive, sender)
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/fastapi/routing.py", line 111, in app
    |     response = await f(request)
    |                ^^^^^^^^^^^^^^^^
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/fastapi/routing.py", line 391, in app
    |     raw_response = await run_endpoint_function(
    |                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |     ...<3 lines>...
    |     )
    |     ^
    |   File "/home/rehack/anaconda3/lib/python3.13/site-packages/fastapi/routing.py", line 290, in run_endpoint_function
    |     return await dependant.call(**values)
    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/home/rehack/PycharmProjects/solpro_backend/app/api/v1/endpoints/affiliate_admin.py", line 64, in update_global_settings
    |     return await service.update_global_settings(
    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |     ...<3 lines>...
    |     )
    |     ^
    |   File "/home/rehack/PycharmProjects/solpro_backend/app/service/affiliate_admin_service.py", line 48, in update_global_settings
    |     settings.default_commission_rate = Decimal(str(default_commission_rate))
    |                                        ^^^^^^^
    | NameError: name 'Decimal' is not defined
    +------------------------------------

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/home/rehack/PycharmProjects/solpro_backend/app/main.py", line 65, in log_requests
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/base.py", line 168, in call_next
    raise app_exc from app_exc.__cause__ or app_exc.__context__
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/base.py", line 144, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/base.py", line 191, in __call__
    with recv_stream, send_stream, collapse_excgroups():
                                   ~~~~~~~~~~~~~~~~~~^^
  File "/home/rehack/anaconda3/lib/python3.13/contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    ~~~~~~~~~~~~~~^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/_utils.py", line 85, in collapse_excgroups
    raise exc
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/base.py", line 193, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/slowapi/middleware.py", line 136, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/base.py", line 168, in call_next
    raise app_exc from app_exc.__cause__ or app_exc.__context__
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/base.py", line 144, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/gzip.py", line 29, in __call__
    await responder(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/gzip.py", line 130, in __call__
    await super().__call__(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/gzip.py", line 46, in __call__
    await self.app(scope, receive, self.send_with_compression)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/trustedhost.py", line 36, in __call__
    await self.app(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/fastapi/routing.py", line 125, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/fastapi/routing.py", line 111, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/fastapi/routing.py", line 391, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "/home/rehack/anaconda3/lib/python3.13/site-packages/fastapi/routing.py", line 290, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rehack/PycharmProjects/solpro_backend/app/api/v1/endpoints/affiliate_admin.py", line 64, in update_global_settings
    return await service.update_global_settings(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "/home/rehack/PycharmProjects/solpro_backend/app/service/affiliate_admin_service.py", line 48, in update_global_settings
    settings.default_commission_rate = Decimal(str(default_commission_rate))
                                       ^^^^^^^
NameError: name 'Decimal' is not defined

2026-01-17 16:06:05,859 - uvicorn.access - INFO - 127.0.0.1:35538 - "PATCH /api/v1/admin/affiliates/settings/global HTTP/1.1" 500
2026-01-17 16:09:28,452 - uvicorn.error - INFO - Shutting down
2026-01-17 16:09:28,553 - uvicorn.error - INFO - Waiting for application shutdown.
2026-01-17 16:09:28,553 - app - INFO - Shutting down application...
2026-01-17 16:09:28,553 - uvicorn.error - INFO - Application shutdown complete.
2026-01-17 16:09:28,554 - uvicorn.error - INFO - Finished server process [667857]
2026-01-17 16:10:03,154 - uvicorn.error - INFO - Started server process [671352]
2026-01-17 16:10:03,155 - uvicorn.error - INFO - Waiting for application startup.
2026-01-17 16:10:03,156 - app - INFO - Starting up application...
2026-01-17 16:10:03,178 - uvicorn.error - INFO - Application startup complete.
2026-01-17 16:10:03,179 - uvicorn.error - INFO - Uvicorn running on http://0.0.0.0:8000 (Press CTRL+C to quit)
2026-01-17 16:10:06,222 - app - INFO - Request: GET /api/v1/ - Status: 404 - Duration: 1.32ms
2026-01-17 16:10:06,222 - uvicorn.access - INFO - 127.0.0.1:60394 - "GET /api/v1/ HTTP/1.1" 404
2026-01-17 16:10:06,610 - app - INFO - Request: POST /api/v1/auth/login/admin/access-token - Status: 200 - Duration: 384.07ms
2026-01-17 16:10:06,610 - uvicorn.access - INFO - 127.0.0.1:60402 - "POST /api/v1/auth/login/admin/access-token HTTP/1.1" 200
2026-01-17 16:10:06,622 - app - INFO - Request: GET /api/v1/admin/affiliates/settings/global - Status: 200 - Duration: 7.69ms
2026-01-17 16:10:06,622 - uvicorn.access - INFO - 127.0.0.1:60410 - "GET /api/v1/admin/affiliates/settings/global HTTP/1.1" 200
2026-01-17 16:10:06,653 - app - INFO - Request: PATCH /api/v1/admin/affiliates/settings/global - Status: 200 - Duration: 26.35ms
2026-01-17 16:10:06,653 - uvicorn.access - INFO - 127.0.0.1:60414 - "PATCH /api/v1/admin/affiliates/settings/global HTTP/1.1" 200
2026-01-17 16:10:06,667 - app - INFO - Request: GET /api/v1/admin/affiliates/settings/global - Status: 200 - Duration: 4.99ms
2026-01-17 16:10:06,667 - uvicorn.access - INFO - 127.0.0.1:60426 - "GET /api/v1/admin/affiliates/settings/global HTTP/1.1" 200
2026-01-17 16:12:56,903 - app - INFO - Request: GET /docs - Status: 200 - Duration: 1.47ms
2026-01-17 16:12:56,903 - uvicorn.access - INFO - 127.0.0.1:40888 - "GET /docs HTTP/1.1" 200
2026-01-17 16:12:57,969 - app - INFO - Request: GET /openapi.json - Status: 200 - Duration: 208.78ms
2026-01-17 16:12:57,969 - uvicorn.access - INFO - 127.0.0.1:40888 - "GET /openapi.json HTTP/1.1" 200
2026-01-17 16:15:01,864 - uvicorn.error - INFO - Shutting down
2026-01-17 16:15:01,965 - uvicorn.error - INFO - Waiting for application shutdown.
2026-01-17 16:15:01,965 - app - INFO - Shutting down application...
2026-01-17 16:15:01,965 - uvicorn.error - INFO - Application shutdown complete.
2026-01-17 16:15:01,965 - uvicorn.error - INFO - Finished server process [671352]
2026-01-17 16:40:35,500 - uvicorn.error - INFO - Started server process [700565]
2026-01-17 16:40:35,501 - uvicorn.error - INFO - Waiting for application startup.
2026-01-17 16:40:35,501 - app - INFO - Starting up application...
2026-01-17 16:40:35,519 - uvicorn.error - INFO - Application startup complete.
2026-01-17 16:40:59,575 - uvicorn.error - INFO - Shutting down
2026-01-17 16:40:59,675 - uvicorn.error - INFO - Waiting for application shutdown.
2026-01-17 16:40:59,676 - app - INFO - Shutting down application...
2026-01-17 16:40:59,676 - uvicorn.error - INFO - Application shutdown complete.
2026-01-17 16:40:59,676 - uvicorn.error - INFO - Finished server process [700565]
2026-01-17 16:41:32,616 - uvicorn.error - INFO - Started server process [701733]
2026-01-17 16:41:32,616 - uvicorn.error - INFO - Waiting for application startup.
2026-01-17 16:41:32,617 - app - INFO - Starting up application...
2026-01-17 16:41:32,633 - uvicorn.error - INFO - Application startup complete.
2026-01-17 16:50:33,417 - uvicorn.error - INFO - Shutting down
2026-01-17 16:50:33,822 - uvicorn.error - INFO - Waiting for application shutdown.
2026-01-17 16:50:33,842 - app - INFO - Shutting down application...
2026-01-17 16:50:33,843 - uvicorn.error - INFO - Application shutdown complete.
2026-01-17 16:50:33,843 - uvicorn.error - INFO - Finished server process [701733]
2026-01-17 16:52:40,476 - uvicorn.error - INFO - Started server process [8288]
2026-01-17 16:52:40,477 - uvicorn.error - INFO - Waiting for application startup.
2026-01-17 16:52:40,477 - app - INFO - Starting up application...
2026-01-17 16:52:40,492 - uvicorn.error - INFO - Application startup complete.
2026-01-17 16:53:29,779 - app - INFO - Request: GET /favicon.ico - Status: 404 - Duration: 0.75ms
2026-01-17 16:53:29,779 - uvicorn.access - INFO - 127.0.0.1:51786 - "GET /favicon.ico HTTP/1.1" 404
2026-01-17 17:00:33,495 - app - INFO - Request: POST /api/v1/auth/login/admin/access-token - Status: 200 - Duration: 594.21ms
2026-01-17 17:00:33,496 - uvicorn.access - INFO - 127.0.0.1:41418 - "POST /api/v1/auth/login/admin/access-token HTTP/1.1" 200
2026-01-17 17:00:35,634 - app - INFO - Request: GET /api/v1/admin/me - Status: 200 - Duration: 112.28ms
2026-01-17 17:00:35,634 - uvicorn.access - INFO - 127.0.0.1:41432 - "GET /api/v1/admin/me HTTP/1.1" 200
2026-01-17 17:00:35,700 - app - INFO - Request: GET /api/v1/admin/me - Status: 200 - Duration: 27.71ms
2026-01-17 17:00:35,701 - uvicorn.access - INFO - 127.0.0.1:41444 - "GET /api/v1/admin/me HTTP/1.1" 200
2026-01-17 17:00:35,745 - app - INFO - Request: GET /api/v1/admin/stats - Status: 200 - Duration: 203.78ms
2026-01-17 17:00:35,747 - uvicorn.access - INFO - 127.0.0.1:41436 - "GET /api/v1/admin/stats HTTP/1.1" 200
2026-01-17 17:00:35,814 - app - INFO - Request: GET /api/v1/admin/stats - Status: 200 - Duration: 41.40ms
2026-01-17 17:00:35,814 - uvicorn.access - INFO - 127.0.0.1:41452 - "GET /api/v1/admin/stats HTTP/1.1" 200
2026-01-17 17:00:43,900 - app - INFO - Request: GET /api/v1/admin/affiliates/dashboard - Status: 200 - Duration: 113.37ms
2026-01-17 17:00:43,901 - uvicorn.access - INFO - 127.0.0.1:60054 - "GET /api/v1/admin/affiliates/dashboard HTTP/1.1" 200
2026-01-17 17:00:43,912 - app - INFO - Request: GET /api/v1/admin/affiliates/top - Status: 200 - Duration: 84.31ms
2026-01-17 17:00:43,917 - uvicorn.access - INFO - 127.0.0.1:60064 - "GET /api/v1/admin/affiliates/top?limit=10 HTTP/1.1" 200
2026-01-17 17:00:43,920 - app - INFO - Request: GET /api/v1/admin/affiliates/products - Status: 200 - Duration: 92.83ms
2026-01-17 17:00:43,928 - uvicorn.access - INFO - 127.0.0.1:60076 - "GET /api/v1/admin/affiliates/products HTTP/1.1" 200
2026-01-17 17:00:43,936 - app - INFO - Request: GET /api/v1/admin/affiliates/settings/global - Status: 200 - Duration: 89.40ms
2026-01-17 17:00:43,936 - uvicorn.access - INFO - 127.0.0.1:60082 - "GET /api/v1/admin/affiliates/settings/global HTTP/1.1" 200
2026-01-17 17:00:44,269 - app - INFO - Request: GET /api/v1/admin/affiliates/products - Status: 200 - Duration: 161.50ms
2026-01-17 17:00:44,270 - uvicorn.access - INFO - 127.0.0.1:60110 - "GET /api/v1/admin/affiliates/products HTTP/1.1" 200
2026-01-17 17:00:44,299 - app - INFO - Request: GET /api/v1/admin/affiliates/settings/global - Status: 200 - Duration: 175.58ms
2026-01-17 17:00:44,303 - uvicorn.access - INFO - 127.0.0.1:60112 - "GET /api/v1/admin/affiliates/settings/global HTTP/1.1" 200
2026-01-17 17:00:44,316 - app - INFO - Request: GET /api/v1/admin/affiliates/top - Status: 200 - Duration: 228.89ms
2026-01-17 17:00:44,321 - uvicorn.access - INFO - 127.0.0.1:60106 - "GET /api/v1/admin/affiliates/top?limit=10 HTTP/1.1" 200
2026-01-17 17:00:44,345 - app - INFO - Request: GET /api/v1/admin/affiliates/dashboard - Status: 200 - Duration: 281.55ms
2026-01-17 17:00:44,346 - uvicorn.access - INFO - 127.0.0.1:60090 - "GET /api/v1/admin/affiliates/dashboard HTTP/1.1" 200
2026-01-17 17:00:50,739 - app - INFO - Request: GET /api/v1/admin/users - Status: 200 - Duration: 9.30ms
2026-01-17 17:00:50,739 - uvicorn.access - INFO - 127.0.0.1:41118 - "GET /api/v1/admin/users HTTP/1.1" 200
2026-01-17 17:00:50,824 - app - INFO - Request: GET /api/v1/admin/users - Status: 200 - Duration: 33.77ms
2026-01-17 17:00:50,825 - uvicorn.access - INFO - 127.0.0.1:41130 - "GET /api/v1/admin/users HTTP/1.1" 200
2026-01-17 17:00:51,057 - app - INFO - Request: GET /api/v1/admin/stats - Status: 200 - Duration: 32.47ms
2026-01-17 17:00:51,059 - uvicorn.access - INFO - 127.0.0.1:41136 - "GET /api/v1/admin/stats HTTP/1.1" 200
2026-01-17 17:00:51,221 - app - INFO - Request: GET /api/v1/admin/stats - Status: 200 - Duration: 117.31ms
2026-01-17 17:00:51,221 - uvicorn.access - INFO - 127.0.0.1:41148 - "GET /api/v1/admin/stats HTTP/1.1" 200
2026-01-17 17:00:53,012 - app - INFO - Request: GET /api/v1/admin/affiliates/dashboard - Status: 200 - Duration: 78.82ms
2026-01-17 17:00:53,014 - uvicorn.access - INFO - 127.0.0.1:41150 - "GET /api/v1/admin/affiliates/dashboard HTTP/1.1" 200
2026-01-17 17:00:53,042 - app - INFO - Request: GET /api/v1/admin/affiliates/products - Status: 200 - Duration: 66.45ms
2026-01-17 17:00:53,052 - uvicorn.access - INFO - 127.0.0.1:41160 - "GET /api/v1/admin/affiliates/products HTTP/1.1" 200
2026-01-17 17:00:53,075 - app - INFO - Request: GET /api/v1/admin/affiliates/top - Status: 200 - Duration: 92.34ms
2026-01-17 17:00:53,076 - uvicorn.access - INFO - 127.0.0.1:41158 - "GET /api/v1/admin/affiliates/top?limit=10 HTTP/1.1" 200
2026-01-17 17:00:53,092 - app - INFO - Request: GET /api/v1/admin/affiliates/settings/global - Status: 200 - Duration: 90.09ms
2026-01-17 17:00:53,096 - uvicorn.access - INFO - 127.0.0.1:41162 - "GET /api/v1/admin/affiliates/settings/global HTTP/1.1" 200
2026-01-17 17:00:53,174 - app - INFO - Request: GET /api/v1/admin/affiliates/dashboard - Status: 200 - Duration: 69.02ms
2026-01-17 17:00:53,180 - uvicorn.access - INFO - 127.0.0.1:41164 - "GET /api/v1/admin/affiliates/dashboard HTTP/1.1" 200
2026-01-17 17:00:53,182 - app - INFO - Request: GET /api/v1/admin/affiliates/products - Status: 200 - Duration: 52.02ms
2026-01-17 17:00:53,184 - uvicorn.access - INFO - 127.0.0.1:41166 - "GET /api/v1/admin/affiliates/products HTTP/1.1" 200
2026-01-17 17:00:53,246 - app - INFO - Request: GET /api/v1/admin/affiliates/settings/global - Status: 200 - Duration: 57.64ms
2026-01-17 17:00:53,249 - uvicorn.access - INFO - 127.0.0.1:41172 - "GET /api/v1/admin/affiliates/settings/global HTTP/1.1" 200
2026-01-17 17:00:53,267 - app - INFO - Request: GET /api/v1/admin/affiliates/top - Status: 200 - Duration: 78.36ms
2026-01-17 17:00:53,267 - uvicorn.access - INFO - 127.0.0.1:41170 - "GET /api/v1/admin/affiliates/top?limit=10 HTTP/1.1" 200
2026-01-17 17:03:44,471 - app - INFO - Request: GET /api/v1/admin/users - Status: 200 - Duration: 7.25ms
2026-01-17 17:03:44,471 - uvicorn.access - INFO - 127.0.0.1:38000 - "GET /api/v1/admin/users HTTP/1.1" 200
2026-01-17 17:03:44,496 - app - INFO - Request: GET /api/v1/admin/users - Status: 200 - Duration: 15.58ms
2026-01-17 17:03:44,497 - uvicorn.access - INFO - 127.0.0.1:38002 - "GET /api/v1/admin/users HTTP/1.1" 200
2026-01-17 17:03:46,255 - app - INFO - Request: GET /api/v1/admin/stats - Status: 200 - Duration: 16.24ms
2026-01-17 17:03:46,255 - uvicorn.access - INFO - 127.0.0.1:38016 - "GET /api/v1/admin/stats HTTP/1.1" 200
2026-01-17 17:03:46,302 - app - INFO - Request: GET /api/v1/admin/stats - Status: 200 - Duration: 28.47ms
2026-01-17 17:03:46,302 - uvicorn.access - INFO - 127.0.0.1:38028 - "GET /api/v1/admin/stats HTTP/1.1" 200
2026-01-17 17:04:00,473 - app - INFO - Request: GET /api/v1/admin/affiliates/products - Status: 200 - Duration: 39.33ms
2026-01-17 17:04:00,473 - uvicorn.access - INFO - 127.0.0.1:55512 - "GET /api/v1/admin/affiliates/products HTTP/1.1" 200
2026-01-17 17:04:00,475 - app - INFO - Request: GET /api/v1/admin/affiliates/dashboard - Status: 200 - Duration: 41.76ms
2026-01-17 17:04:00,475 - uvicorn.access - INFO - 127.0.0.1:55484 - "GET /api/v1/admin/affiliates/dashboard HTTP/1.1" 200
2026-01-17 17:04:00,476 - app - INFO - Request: GET /api/v1/admin/affiliates/settings/global - Status: 200 - Duration: 42.35ms
2026-01-17 17:04:00,476 - uvicorn.access - INFO - 127.0.0.1:55514 - "GET /api/v1/admin/affiliates/settings/global HTTP/1.1" 200
2026-01-17 17:04:00,486 - app - INFO - Request: GET /api/v1/admin/affiliates/top - Status: 200 - Duration: 52.17ms
2026-01-17 17:04:00,486 - uvicorn.access - INFO - 127.0.0.1:55500 - "GET /api/v1/admin/affiliates/top?limit=10 HTTP/1.1" 200
2026-01-17 17:04:00,587 - app - INFO - Request: GET /api/v1/admin/affiliates/top - Status: 200 - Duration: 47.58ms
2026-01-17 17:04:00,587 - uvicorn.access - INFO - 127.0.0.1:55530 - "GET /api/v1/admin/affiliates/top?limit=10 HTTP/1.1" 200
2026-01-17 17:04:00,588 - app - INFO - Request: GET /api/v1/admin/affiliates/products - Status: 200 - Duration: 38.64ms
2026-01-17 17:04:00,588 - uvicorn.access - INFO - 127.0.0.1:55546 - "GET /api/v1/admin/affiliates/products HTTP/1.1" 200
2026-01-17 17:04:00,589 - app - INFO - Request: GET /api/v1/admin/affiliates/settings/global - Status: 200 - Duration: 31.94ms
2026-01-17 17:04:00,589 - uvicorn.access - INFO - 127.0.0.1:55552 - "GET /api/v1/admin/affiliates/settings/global HTTP/1.1" 200
2026-01-17 17:04:00,595 - app - INFO - Request: GET /api/v1/admin/affiliates/dashboard - Status: 200 - Duration: 50.65ms
2026-01-17 17:04:00,595 - uvicorn.access - INFO - 127.0.0.1:55540 - "GET /api/v1/admin/affiliates/dashboard HTTP/1.1" 200
2026-01-17 17:04:57,166 - app - INFO - Request: PATCH /api/v1/admin/affiliates/settings/global - Status: 200 - Duration: 23.14ms
2026-01-17 17:04:57,166 - uvicorn.access - INFO - 127.0.0.1:42512 - "PATCH /api/v1/admin/affiliates/settings/global HTTP/1.1" 200
2026-01-17 17:06:07,205 - app - INFO - Request: GET /api/v1/admin/affiliates/users/samuel - Status: 422 - Duration: 3.46ms
2026-01-17 17:06:07,205 - uvicorn.access - INFO - 127.0.0.1:35982 - "GET /api/v1/admin/affiliates/users/samuel HTTP/1.1" 422
2026-01-17 17:12:26,840 - app - INFO - Request: GET /api/v1/admin/affiliates/products - Status: 200 - Duration: 92.88ms
2026-01-17 17:12:26,841 - uvicorn.access - INFO - 127.0.0.1:59902 - "GET /api/v1/admin/affiliates/products HTTP/1.1" 200
2026-01-17 17:12:26,851 - app - INFO - Request: GET /api/v1/admin/affiliates/settings/global - Status: 200 - Duration: 87.04ms
2026-01-17 17:12:26,851 - uvicorn.access - INFO - 127.0.0.1:59904 - "GET /api/v1/admin/affiliates/settings/global HTTP/1.1" 200
2026-01-17 17:12:26,874 - app - INFO - Request: GET /api/v1/admin/affiliates/top - Status: 200 - Duration: 126.62ms
2026-01-17 17:12:26,874 - uvicorn.access - INFO - 127.0.0.1:59896 - "GET /api/v1/admin/affiliates/top?limit=10 HTTP/1.1" 200
2026-01-17 17:12:26,922 - app - INFO - Request: GET /api/v1/admin/affiliates/dashboard - Status: 200 - Duration: 174.72ms
2026-01-17 17:12:26,922 - uvicorn.access - INFO - 127.0.0.1:59890 - "GET /api/v1/admin/affiliates/dashboard HTTP/1.1" 200
2026-01-17 17:13:24,172 - app - INFO - Request: GET /api/v1/admin/affiliates/products - Status: 200 - Duration: 80.46ms
2026-01-17 17:13:24,174 - uvicorn.access - INFO - 127.0.0.1:49574 - "GET /api/v1/admin/affiliates/products HTTP/1.1" 200
2026-01-17 17:13:24,178 - app - INFO - Request: GET /api/v1/admin/affiliates/settings/global - Status: 200 - Duration: 86.72ms
2026-01-17 17:13:24,178 - uvicorn.access - INFO - 127.0.0.1:49588 - "GET /api/v1/admin/affiliates/settings/global HTTP/1.1" 200
2026-01-17 17:13:24,195 - app - INFO - Request: GET /api/v1/admin/affiliates/top - Status: 200 - Duration: 103.51ms
2026-01-17 17:13:24,195 - uvicorn.access - INFO - 127.0.0.1:49558 - "GET /api/v1/admin/affiliates/top?limit=10 HTTP/1.1" 200
2026-01-17 17:13:24,208 - app - INFO - Request: GET /api/v1/admin/affiliates/dashboard - Status: 200 - Duration: 134.38ms
2026-01-17 17:13:24,209 - uvicorn.access - INFO - 127.0.0.1:49544 - "GET /api/v1/admin/affiliates/dashboard HTTP/1.1" 200
2026-01-17 17:16:46,860 - app - INFO - Request: GET /api/v1/admin/me - Status: 200 - Duration: 47.40ms
2026-01-17 17:16:46,861 - uvicorn.access - INFO - 127.0.0.1:36326 - "GET /api/v1/admin/me HTTP/1.1" 200
2026-01-17 17:16:46,882 - app - INFO - Request: GET /api/v1/admin/affiliates/products - Status: 200 - Duration: 60.00ms
2026-01-17 17:16:46,887 - uvicorn.access - INFO - 127.0.0.1:36352 - "GET /api/v1/admin/affiliates/products HTTP/1.1" 200
2026-01-17 17:16:46,972 - app - INFO - Request: GET /api/v1/admin/affiliates/top - Status: 200 - Duration: 149.87ms
2026-01-17 17:16:46,972 - uvicorn.access - INFO - 127.0.0.1:36344 - "GET /api/v1/admin/affiliates/top?limit=10 HTTP/1.1" 200
2026-01-17 17:16:46,987 - app - INFO - Request: GET /api/v1/admin/affiliates/settings/global - Status: 200 - Duration: 163.01ms
2026-01-17 17:16:46,989 - uvicorn.access - INFO - 127.0.0.1:36362 - "GET /api/v1/admin/affiliates/settings/global HTTP/1.1" 200
2026-01-17 17:16:47,002 - app - INFO - Request: GET /api/v1/admin/affiliates/dashboard - Status: 200 - Duration: 188.78ms
2026-01-17 17:16:47,005 - uvicorn.access - INFO - 127.0.0.1:36330 - "GET /api/v1/admin/affiliates/dashboard HTTP/1.1" 200
2026-01-17 17:16:47,023 - app - INFO - Request: GET /api/v1/admin/me - Status: 200 - Duration: 107.06ms
2026-01-17 17:16:47,023 - uvicorn.access - INFO - 127.0.0.1:36372 - "GET /api/v1/admin/me HTTP/1.1" 200
2026-01-17 17:16:47,096 - app - INFO - Request: GET /api/v1/admin/affiliates/products - Status: 200 - Duration: 123.92ms
2026-01-17 17:16:47,096 - uvicorn.access - INFO - 127.0.0.1:36382 - "GET /api/v1/admin/affiliates/products HTTP/1.1" 200
2026-01-17 17:16:47,206 - app - INFO - Request: GET /api/v1/admin/affiliates/settings/global - Status: 200 - Duration: 124.74ms
2026-01-17 17:16:47,210 - uvicorn.access - INFO - 127.0.0.1:45072 - "GET /api/v1/admin/affiliates/settings/global HTTP/1.1" 200
2026-01-17 17:16:47,212 - app - INFO - Request: GET /api/v1/admin/affiliates/top - Status: 200 - Duration: 163.69ms
2026-01-17 17:16:47,217 - uvicorn.access - INFO - 127.0.0.1:45062 - "GET /api/v1/admin/affiliates/top?limit=10 HTTP/1.1" 200
2026-01-17 17:16:47,256 - app - INFO - Request: GET /api/v1/admin/affiliates/dashboard - Status: 200 - Duration: 148.58ms
2026-01-17 17:16:47,264 - uvicorn.access - INFO - 127.0.0.1:45086 - "GET /api/v1/admin/affiliates/dashboard HTTP/1.1" 200
2026-01-17 17:16:53,371 - app - INFO - Request: GET /api/v1/admin/users - Status: 200 - Duration: 6.71ms
2026-01-17 17:16:53,372 - uvicorn.access - INFO - 127.0.0.1:45088 - "GET /api/v1/admin/users HTTP/1.1" 200
2026-01-17 17:17:09,249 - app - INFO - Request: GET /api/v1/admin/affiliates/users/7c9f5bb2-eec8-465c-946f-584660cf8263 - Status: 200 - Duration: 11.57ms
2026-01-17 17:17:09,249 - uvicorn.access - INFO - 127.0.0.1:36336 - "GET /api/v1/admin/affiliates/users/7c9f5bb2-eec8-465c-946f-584660cf8263 HTTP/1.1" 200
2026-01-17 17:17:13,804 - app - INFO - Request: GET /api/v1/admin/affiliates/users/21b4de9b-fbae-49bd-bdaa-539feb1b7fd3 - Status: 200 - Duration: 6.06ms
2026-01-17 17:17:13,804 - uvicorn.access - INFO - 127.0.0.1:36350 - "GET /api/v1/admin/affiliates/users/21b4de9b-fbae-49bd-bdaa-539feb1b7fd3 HTTP/1.1" 200
2026-01-17 17:17:22,712 - app - INFO - Request: GET /api/v1/admin/affiliates/users/6affb047-7782-4af5-acc7-646740ae90f3 - Status: 200 - Duration: 10.73ms
2026-01-17 17:17:22,712 - uvicorn.access - INFO - 127.0.0.1:36738 - "GET /api/v1/admin/affiliates/users/6affb047-7782-4af5-acc7-646740ae90f3 HTTP/1.1" 200
2026-01-17 17:17:38,486 - app - INFO - Request: PATCH /api/v1/admin/affiliates/users/6affb047-7782-4af5-acc7-646740ae90f3/settings - Status: 422 - Duration: 5.36ms
2026-01-17 17:17:38,486 - uvicorn.access - INFO - 127.0.0.1:51126 - "PATCH /api/v1/admin/affiliates/users/6affb047-7782-4af5-acc7-646740ae90f3/settings HTTP/1.1" 422
2026-01-17 17:17:43,566 - app - INFO - Request: PATCH /api/v1/admin/affiliates/users/6affb047-7782-4af5-acc7-646740ae90f3/settings - Status: 422 - Duration: 3.89ms
2026-01-17 17:17:43,566 - uvicorn.access - INFO - 127.0.0.1:51134 - "PATCH /api/v1/admin/affiliates/users/6affb047-7782-4af5-acc7-646740ae90f3/settings HTTP/1.1" 422
2026-01-17 17:19:50,461 - app - INFO - Request: GET /api/v1/admin/affiliates/users/6affb047-7782-4af5-acc7-646740ae90f3 - Status: 200 - Duration: 29.84ms
2026-01-17 17:19:50,464 - uvicorn.access - INFO - 127.0.0.1:39086 - "GET /api/v1/admin/affiliates/users/6affb047-7782-4af5-acc7-646740ae90f3 HTTP/1.1" 200
2026-01-17 17:19:58,535 - app - INFO - Request: PATCH /api/v1/admin/affiliates/users/6affb047-7782-4af5-acc7-646740ae90f3/settings - Status: 422 - Duration: 9.27ms
2026-01-17 17:19:58,536 - uvicorn.access - INFO - 127.0.0.1:58224 - "PATCH /api/v1/admin/affiliates/users/6affb047-7782-4af5-acc7-646740ae90f3/settings HTTP/1.1" 422
2026-01-17 17:22:14,958 - app - INFO - Request: PATCH /api/v1/admin/affiliates/users/6affb047-7782-4af5-acc7-646740ae90f3/settings - Status: 200 - Duration: 193.17ms
2026-01-17 17:22:14,959 - uvicorn.access - INFO - 127.0.0.1:33486 - "PATCH /api/v1/admin/affiliates/users/6affb047-7782-4af5-acc7-646740ae90f3/settings HTTP/1.1" 200
2026-01-17 17:22:15,084 - app - INFO - Request: GET /api/v1/admin/affiliates/users/6affb047-7782-4af5-acc7-646740ae90f3 - Status: 200 - Duration: 78.33ms
2026-01-17 17:22:15,088 - uvicorn.access - INFO - 127.0.0.1:33496 - "GET /api/v1/admin/affiliates/users/6affb047-7782-4af5-acc7-646740ae90f3 HTTP/1.1" 200
2026-01-17 17:22:21,905 - app - INFO - Request: GET /api/v1/admin/affiliates/users/6affb047-7782-4af5-acc7-646740ae90f3 - Status: 200 - Duration: 48.45ms
2026-01-17 17:22:21,907 - uvicorn.access - INFO - 127.0.0.1:58108 - "GET /api/v1/admin/affiliates/users/6affb047-7782-4af5-acc7-646740ae90f3 HTTP/1.1" 200
2026-01-17 17:22:41,178 - app - INFO - Request: GET /api/v1/admin/stats - Status: 200 - Duration: 60.78ms
2026-01-17 17:22:41,179 - uvicorn.access - INFO - 127.0.0.1:38274 - "GET /api/v1/admin/stats HTTP/1.1" 200
2026-01-17 17:22:41,357 - app - INFO - Request: GET /api/v1/admin/stats - Status: 200 - Duration: 133.35ms
2026-01-17 17:22:41,358 - uvicorn.access - INFO - 127.0.0.1:38286 - "GET /api/v1/admin/stats HTTP/1.1" 200
2026-01-17 17:24:58,113 - app - INFO - Request: GET /api/v1/admin/affiliates/dashboard - Status: 200 - Duration: 111.24ms
2026-01-17 17:24:58,113 - uvicorn.access - INFO - 127.0.0.1:47450 - "GET /api/v1/admin/affiliates/dashboard HTTP/1.1" 200
2026-01-17 17:24:58,169 - app - INFO - Request: GET /api/v1/admin/stats - Status: 200 - Duration: 191.78ms
2026-01-17 17:24:58,172 - uvicorn.access - INFO - 127.0.0.1:47434 - "GET /api/v1/admin/stats HTTP/1.1" 200
2026-01-17 17:31:15,246 - app - INFO - Request: GET /api/v1/admin/affiliates/dashboard - Status: 403 - Duration: 32.39ms
2026-01-17 17:31:15,248 - uvicorn.access - INFO - 127.0.0.1:59046 - "GET /api/v1/admin/affiliates/dashboard HTTP/1.1" 403
2026-01-17 17:31:15,251 - app - INFO - Request: GET /api/v1/admin/affiliates/top - Status: 403 - Duration: 25.52ms
2026-01-17 17:31:15,257 - uvicorn.access - INFO - 127.0.0.1:59050 - "GET /api/v1/admin/affiliates/top?limit=10 HTTP/1.1" 403
2026-01-17 17:31:15,258 - app - INFO - Request: GET /api/v1/admin/affiliates/products - Status: 403 - Duration: 31.56ms
2026-01-17 17:31:15,258 - uvicorn.access - INFO - 127.0.0.1:59060 - "GET /api/v1/admin/affiliates/products HTTP/1.1" 403
2026-01-17 17:31:15,258 - app - INFO - Request: GET /api/v1/admin/affiliates/settings/global - Status: 403 - Duration: 27.52ms
2026-01-17 17:31:15,258 - uvicorn.access - INFO - 127.0.0.1:59066 - "GET /api/v1/admin/affiliates/settings/global HTTP/1.1" 403
2026-01-17 17:31:15,306 - app - INFO - Request: GET /api/v1/admin/affiliates/dashboard - Status: 403 - Duration: 12.87ms
2026-01-17 17:31:15,325 - uvicorn.access - INFO - 127.0.0.1:59074 - "GET /api/v1/admin/affiliates/dashboard HTTP/1.1" 403
2026-01-17 17:31:15,434 - app - INFO - Request: GET /api/v1/admin/affiliates/top - Status: 403 - Duration: 29.19ms
2026-01-17 17:31:15,437 - uvicorn.access - INFO - 127.0.0.1:59090 - "GET /api/v1/admin/affiliates/top?limit=10 HTTP/1.1" 403
2026-01-17 17:31:15,442 - app - INFO - Request: GET /api/v1/admin/affiliates/products - Status: 403 - Duration: 36.92ms
2026-01-17 17:31:15,446 - uvicorn.access - INFO - 127.0.0.1:59098 - "GET /api/v1/admin/affiliates/products HTTP/1.1" 403
2026-01-17 17:31:15,454 - app - INFO - Request: GET /api/v1/admin/affiliates/settings/global - Status: 403 - Duration: 33.45ms
2026-01-17 17:31:15,458 - uvicorn.access - INFO - 127.0.0.1:59106 - "GET /api/v1/admin/affiliates/settings/global HTTP/1.1" 403
2026-01-17 17:31:24,407 - app - INFO - Request: POST /api/v1/auth/login/admin/access-token - Status: 200 - Duration: 643.40ms
2026-01-17 17:31:24,409 - uvicorn.access - INFO - 127.0.0.1:51430 - "POST /api/v1/auth/login/admin/access-token HTTP/1.1" 200
2026-01-17 17:31:27,350 - app - INFO - Request: GET /api/v1/admin/me - Status: 200 - Duration: 43.62ms
2026-01-17 17:31:27,351 - uvicorn.access - INFO - 127.0.0.1:46686 - "GET /api/v1/admin/me HTTP/1.1" 200
2026-01-17 17:31:27,409 - app - INFO - Request: GET /api/v1/admin/affiliates/dashboard - Status: 200 - Duration: 100.03ms
2026-01-17 17:31:27,410 - uvicorn.access - INFO - 127.0.0.1:46704 - "GET /api/v1/admin/affiliates/dashboard HTTP/1.1" 200
2026-01-17 17:31:27,451 - app - INFO - Request: GET /api/v1/admin/me - Status: 200 - Duration: 41.88ms
2026-01-17 17:31:27,455 - uvicorn.access - INFO - 127.0.0.1:46712 - "GET /api/v1/admin/me HTTP/1.1" 200
2026-01-17 17:31:27,545 - app - INFO - Request: GET /api/v1/admin/stats - Status: 200 - Duration: 236.54ms
2026-01-17 17:31:27,552 - uvicorn.access - INFO - 127.0.0.1:46702 - "GET /api/v1/admin/stats HTTP/1.1" 200
2026-01-17 17:31:27,598 - app - INFO - Request: GET /api/v1/admin/affiliates/dashboard - Status: 200 - Duration: 118.85ms
2026-01-17 17:31:27,606 - uvicorn.access - INFO - 127.0.0.1:46726 - "GET /api/v1/admin/affiliates/dashboard HTTP/1.1" 200
2026-01-17 17:31:27,751 - app - INFO - Request: GET /api/v1/admin/stats - Status: 200 - Duration: 122.10ms
2026-01-17 17:31:27,758 - uvicorn.access - INFO - 127.0.0.1:46730 - "GET /api/v1/admin/stats HTTP/1.1" 200
2026-01-17 17:31:30,711 - app - INFO - Request: GET /api/v1/admin/affiliates/settings/global - Status: 200 - Duration: 66.80ms
2026-01-17 17:31:30,711 - uvicorn.access - INFO - 127.0.0.1:46760 - "GET /api/v1/admin/affiliates/settings/global HTTP/1.1" 200
2026-01-17 17:31:30,717 - app - INFO - Request: GET /api/v1/admin/affiliates/products - Status: 200 - Duration: 121.56ms
2026-01-17 17:31:30,726 - uvicorn.access - INFO - 127.0.0.1:46746 - "GET /api/v1/admin/affiliates/products HTTP/1.1" 200
2026-01-17 17:31:30,746 - app - INFO - Request: GET /api/v1/admin/affiliates/top - Status: 200 - Duration: 156.01ms
2026-01-17 17:31:30,747 - uvicorn.access - INFO - 127.0.0.1:46742 - "GET /api/v1/admin/affiliates/top?limit=10 HTTP/1.1" 200
2026-01-17 17:31:30,788 - app - INFO - Request: GET /api/v1/admin/affiliates/dashboard - Status: 200 - Duration: 197.22ms
2026-01-17 17:31:30,794 - uvicorn.access - INFO - 127.0.0.1:46738 - "GET /api/v1/admin/affiliates/dashboard HTTP/1.1" 200
2026-01-17 17:31:30,903 - app - INFO - Request: GET /api/v1/admin/affiliates/settings/global - Status: 200 - Duration: 143.16ms
2026-01-17 17:31:30,903 - uvicorn.access - INFO - 127.0.0.1:46776 - "GET /api/v1/admin/affiliates/settings/global HTTP/1.1" 200
2026-01-17 17:31:30,940 - app - INFO - Request: GET /api/v1/admin/affiliates/products - Status: 200 - Duration: 139.91ms
2026-01-17 17:31:30,942 - uvicorn.access - INFO - 127.0.0.1:46784 - "GET /api/v1/admin/affiliates/products HTTP/1.1" 200
2026-01-17 17:31:30,983 - app - INFO - Request: GET /api/v1/admin/affiliates/top - Status: 200 - Duration: 145.15ms
2026-01-17 17:31:30,993 - uvicorn.access - INFO - 127.0.0.1:46796 - "GET /api/v1/admin/affiliates/top?limit=10 HTTP/1.1" 200
2026-01-17 17:31:31,014 - app - INFO - Request: GET /api/v1/admin/affiliates/dashboard - Status: 200 - Duration: 158.77ms
2026-01-17 17:31:31,014 - uvicorn.access - INFO - 127.0.0.1:46808 - "GET /api/v1/admin/affiliates/dashboard HTTP/1.1" 200
2026-01-17 17:31:41,362 - app - INFO - Request: GET /api/v1/admin/users - Status: 200 - Duration: 6.55ms
2026-01-17 17:31:41,362 - uvicorn.access - INFO - 127.0.0.1:36262 - "GET /api/v1/admin/users HTTP/1.1" 200
2026-01-17 17:31:49,192 - app - INFO - Request: GET /api/v1/admin/affiliates/dashboard - Status: 200 - Duration: 87.62ms
2026-01-17 17:31:49,193 - uvicorn.access - INFO - 127.0.0.1:46128 - "GET /api/v1/admin/affiliates/dashboard HTTP/1.1" 200
2026-01-17 17:31:49,256 - app - INFO - Request: GET /api/v1/admin/stats - Status: 200 - Duration: 157.23ms
2026-01-17 17:31:49,262 - uvicorn.access - INFO - 127.0.0.1:46126 - "GET /api/v1/admin/stats HTTP/1.1" 200
2026-01-17 17:31:49,320 - app - INFO - Request: GET /api/v1/admin/affiliates/dashboard - Status: 200 - Duration: 79.58ms
2026-01-17 17:31:49,320 - uvicorn.access - INFO - 127.0.0.1:46136 - "GET /api/v1/admin/affiliates/dashboard HTTP/1.1" 200
2026-01-17 17:31:49,400 - app - INFO - Request: GET /api/v1/admin/stats - Status: 200 - Duration: 99.14ms
2026-01-17 17:31:49,402 - uvicorn.access - INFO - 127.0.0.1:46148 - "GET /api/v1/admin/stats HTTP/1.1" 200
2026-01-17 17:31:58,923 - app - INFO - Request: GET /api/v1/admin/affiliates/dashboard - Status: 200 - Duration: 27.75ms
2026-01-17 17:31:58,924 - uvicorn.access - INFO - 127.0.0.1:46796 - "GET /api/v1/admin/affiliates/dashboard HTTP/1.1" 200
2026-01-17 17:31:59,050 - app - INFO - Request: GET /api/v1/admin/affiliates/products - Status: 200 - Duration: 80.05ms
2026-01-17 17:31:59,050 - uvicorn.access - INFO - 127.0.0.1:46822 - "GET /api/v1/admin/affiliates/products HTTP/1.1" 200
2026-01-17 17:31:59,051 - app - INFO - Request: GET /api/v1/admin/affiliates/settings/global - Status: 200 - Duration: 67.88ms
2026-01-17 17:31:59,051 - uvicorn.access - INFO - 127.0.0.1:46826 - "GET /api/v1/admin/affiliates/settings/global HTTP/1.1" 200
2026-01-17 17:31:59,057 - app - INFO - Request: GET /api/v1/admin/affiliates/top - Status: 200 - Duration: 91.34ms
2026-01-17 17:31:59,058 - uvicorn.access - INFO - 127.0.0.1:46810 - "GET /api/v1/admin/affiliates/top?limit=10 HTTP/1.1" 200
2026-01-17 17:31:59,065 - app - INFO - Request: GET /api/v1/admin/affiliates/dashboard - Status: 200 - Duration: 49.24ms
2026-01-17 17:31:59,065 - uvicorn.access - INFO - 127.0.0.1:46840 - "GET /api/v1/admin/affiliates/dashboard HTTP/1.1" 200
2026-01-17 17:31:59,280 - app - INFO - Request: GET /api/v1/admin/affiliates/products - Status: 200 - Duration: 67.37ms
2026-01-17 17:31:59,284 - uvicorn.access - INFO - 127.0.0.1:46846 - "GET /api/v1/admin/affiliates/products HTTP/1.1" 200
2026-01-17 17:31:59,309 - app - INFO - Request: GET /api/v1/admin/affiliates/settings/global - Status: 200 - Duration: 95.99ms
2026-01-17 17:31:59,312 - uvicorn.access - INFO - 127.0.0.1:46862 - "GET /api/v1/admin/affiliates/settings/global HTTP/1.1" 200
2026-01-17 17:31:59,330 - app - INFO - Request: GET /api/v1/admin/affiliates/top - Status: 200 - Duration: 132.69ms
2026-01-17 17:31:59,332 - uvicorn.access - INFO - 127.0.0.1:46844 - "GET /api/v1/admin/affiliates/top?limit=10 HTTP/1.1" 200
2026-01-17 17:32:38,309 - app - INFO - Request: GET /api/v1/admin/users - Status: 200 - Duration: 22.19ms
2026-01-17 17:32:38,315 - uvicorn.access - INFO - 127.0.0.1:35520 - "GET /api/v1/admin/users HTTP/1.1" 200
2026-01-17 17:33:22,399 - app - INFO - Request: GET /api/v1/admin/affiliates/users/6affb047-7782-4af5-acc7-646740ae90f3 - Status: 200 - Duration: 22.05ms
2026-01-17 17:33:22,399 - uvicorn.access - INFO - 127.0.0.1:36122 - "GET /api/v1/admin/affiliates/users/6affb047-7782-4af5-acc7-646740ae90f3 HTTP/1.1" 200
2026-01-17 17:33:31,854 - app - INFO - Request: GET /api/v1/admin/prop-firms - Status: 200 - Duration: 22.75ms
2026-01-17 17:33:31,858 - uvicorn.access - INFO - 127.0.0.1:34580 - "GET /api/v1/admin/prop-firms HTTP/1.1" 200
2026-01-17 17:33:31,887 - app - INFO - Request: GET /api/v1/admin/prop-firms - Status: 200 - Duration: 10.71ms
2026-01-17 17:33:31,888 - uvicorn.access - INFO - 127.0.0.1:34588 - "GET /api/v1/admin/prop-firms HTTP/1.1" 200
2026-01-17 17:33:42,432 - app - INFO - Request: GET /api/v1/admin/transactions - Status: 200 - Duration: 51.58ms
2026-01-17 17:33:42,432 - uvicorn.access - INFO - 127.0.0.1:52060 - "GET /api/v1/admin/transactions HTTP/1.1" 200
2026-01-17 17:33:42,517 - app - INFO - Request: GET /api/v1/admin/transactions - Status: 200 - Duration: 24.74ms
2026-01-17 17:33:42,520 - uvicorn.access - INFO - 127.0.0.1:52070 - "GET /api/v1/admin/transactions HTTP/1.1" 200
2026-01-17 17:33:46,670 - app - INFO - Request: GET /api/v1/discounts/discounts - Status: 200 - Duration: 36.66ms
2026-01-17 17:33:46,672 - uvicorn.access - INFO - 127.0.0.1:52082 - "GET /api/v1/discounts/discounts HTTP/1.1" 200
2026-01-17 17:33:46,746 - app - INFO - Request: GET /api/v1/discounts/discounts - Status: 200 - Duration: 14.60ms
2026-01-17 17:33:46,746 - uvicorn.access - INFO - 127.0.0.1:52096 - "GET /api/v1/discounts/discounts HTTP/1.1" 200
2026-01-17 17:34:04,239 - app - INFO - Request: GET /api/v1/discounts/vat - Status: 200 - Duration: 10.18ms
2026-01-17 17:34:04,240 - uvicorn.access - INFO - 127.0.0.1:50126 - "GET /api/v1/discounts/vat HTTP/1.1" 200
2026-01-17 17:34:05,669 - app - INFO - Request: GET /api/v1/discounts/discounts - Status: 200 - Duration: 16.86ms
2026-01-17 17:34:05,669 - uvicorn.access - INFO - 127.0.0.1:50138 - "GET /api/v1/discounts/discounts HTTP/1.1" 200
2026-01-17 17:34:26,368 - app - INFO - Request: POST /api/v1/auth/login/admin/access-token - Status: 200 - Duration: 594.30ms
2026-01-17 17:34:26,368 - uvicorn.access - INFO - 127.0.0.1:51346 - "POST /api/v1/auth/login/admin/access-token HTTP/1.1" 200
2026-01-17 17:34:27,635 - app - INFO - Request: GET /api/v1/admin/me - Status: 200 - Duration: 59.82ms
2026-01-17 17:34:27,639 - uvicorn.access - INFO - 127.0.0.1:58368 - "GET /api/v1/admin/me HTTP/1.1" 200
2026-01-17 17:34:27,787 - app - INFO - Request: GET /api/v1/admin/me - Status: 200 - Duration: 79.03ms
2026-01-17 17:34:27,787 - uvicorn.access - INFO - 127.0.0.1:58388 - "GET /api/v1/admin/me HTTP/1.1" 200
2026-01-17 17:34:27,841 - app - INFO - Request: GET /api/v1/admin/affiliates/dashboard - Status: 200 - Duration: 251.11ms
2026-01-17 17:34:27,842 - uvicorn.access - INFO - 127.0.0.1:58376 - "GET /api/v1/admin/affiliates/dashboard HTTP/1.1" 200
2026-01-17 17:34:27,971 - app - INFO - Request: GET /api/v1/admin/stats - Status: 200 - Duration: 380.84ms
2026-01-17 17:34:27,974 - uvicorn.access - INFO - 127.0.0.1:58370 - "GET /api/v1/admin/stats HTTP/1.1" 200
2026-01-17 17:34:28,008 - app - INFO - Request: GET /api/v1/admin/affiliates/dashboard - Status: 200 - Duration: 102.49ms
2026-01-17 17:34:28,013 - uvicorn.access - INFO - 127.0.0.1:58398 - "GET /api/v1/admin/affiliates/dashboard HTTP/1.1" 200
2026-01-17 17:34:28,185 - app - INFO - Request: GET /api/v1/admin/stats - Status: 200 - Duration: 144.42ms
2026-01-17 17:34:28,188 - uvicorn.access - INFO - 127.0.0.1:58408 - "GET /api/v1/admin/stats HTTP/1.1" 200
2026-01-17 17:40:12,089 - app - INFO - Request: GET /api/v1/admin/affiliates/settings/global - Status: 200 - Duration: 221.84ms
2026-01-17 17:40:12,090 - uvicorn.access - INFO - 127.0.0.1:58356 - "GET /api/v1/admin/affiliates/settings/global HTTP/1.1" 200
2026-01-17 17:40:12,093 - app - INFO - Request: GET /api/v1/admin/affiliates/products - Status: 200 - Duration: 225.49ms
2026-01-17 17:40:12,094 - uvicorn.access - INFO - 127.0.0.1:58342 - "GET /api/v1/admin/affiliates/products HTTP/1.1" 200
2026-01-17 17:40:12,106 - app - INFO - Request: GET /api/v1/admin/affiliates/top - Status: 200 - Duration: 238.89ms
2026-01-17 17:40:12,106 - uvicorn.access - INFO - 127.0.0.1:58338 - "GET /api/v1/admin/affiliates/top?limit=10 HTTP/1.1" 200
2026-01-17 17:40:12,128 - app - INFO - Request: GET /api/v1/admin/affiliates/dashboard - Status: 200 - Duration: 261.61ms
2026-01-17 17:40:12,129 - uvicorn.access - INFO - 127.0.0.1:58326 - "GET /api/v1/admin/affiliates/dashboard HTTP/1.1" 200
2026-01-17 17:40:12,207 - app - INFO - Request: GET /api/v1/admin/affiliates/settings/global - Status: 200 - Duration: 71.48ms
2026-01-17 17:40:12,209 - uvicorn.access - INFO - 127.0.0.1:58360 - "GET /api/v1/admin/affiliates/settings/global HTTP/1.1" 200
2026-01-17 17:40:12,220 - app - INFO - Request: GET /api/v1/admin/affiliates/products - Status: 200 - Duration: 58.09ms
2026-01-17 17:40:12,221 - uvicorn.access - INFO - 127.0.0.1:58372 - "GET /api/v1/admin/affiliates/products HTTP/1.1" 200
2026-01-17 17:40:12,254 - app - INFO - Request: GET /api/v1/admin/affiliates/top - Status: 200 - Duration: 76.59ms
2026-01-17 17:40:12,256 - uvicorn.access - INFO - 127.0.0.1:58388 - "GET /api/v1/admin/affiliates/top?limit=10 HTTP/1.1" 200
2026-01-17 17:40:12,276 - app - INFO - Request: GET /api/v1/admin/affiliates/dashboard - Status: 200 - Duration: 96.74ms
2026-01-17 17:40:12,277 - uvicorn.access - INFO - 127.0.0.1:58402 - "GET /api/v1/admin/affiliates/dashboard HTTP/1.1" 200
2026-01-17 17:40:15,694 - app - INFO - Request: GET /api/v1/payments - Status: 404 - Duration: 33.80ms
2026-01-17 17:40:15,698 - uvicorn.access - INFO - 127.0.0.1:58418 - "GET /api/v1/payments HTTP/1.1" 404
2026-01-17 17:40:15,773 - app - INFO - Request: GET /api/v1/payments - Status: 404 - Duration: 14.92ms
2026-01-17 17:40:15,773 - uvicorn.access - INFO - 127.0.0.1:58434 - "GET /api/v1/payments HTTP/1.1" 404
2026-01-17 17:40:30,225 - app - INFO - Request: GET /api/v1/admin/prop-firms - Status: 200 - Duration: 44.28ms
2026-01-17 17:40:30,227 - uvicorn.access - INFO - 127.0.0.1:43594 - "GET /api/v1/admin/prop-firms HTTP/1.1" 200
2026-01-17 17:40:30,350 - app - INFO - Request: GET /api/v1/admin/prop-firms - Status: 200 - Duration: 62.99ms
2026-01-17 17:40:30,350 - uvicorn.access - INFO - 127.0.0.1:43602 - "GET /api/v1/admin/prop-firms HTTP/1.1" 200
2026-01-17 17:42:25,062 - app - INFO - Request: GET /api/v1/admin/affiliates/products - Status: 200 - Duration: 169.18ms
2026-01-17 17:42:25,066 - uvicorn.access - INFO - 127.0.0.1:54770 - "GET /api/v1/admin/affiliates/products HTTP/1.1" 200
2026-01-17 17:42:25,081 - app - INFO - Request: GET /api/v1/admin/affiliates/settings/global - Status: 200 - Duration: 169.37ms
2026-01-17 17:42:25,084 - uvicorn.access - INFO - 127.0.0.1:54782 - "GET /api/v1/admin/affiliates/settings/global HTTP/1.1" 200
2026-01-17 17:42:25,102 - app - INFO - Request: GET /api/v1/admin/affiliates/top - Status: 200 - Duration: 209.77ms
2026-01-17 17:42:25,106 - uvicorn.access - INFO - 127.0.0.1:54762 - "GET /api/v1/admin/affiliates/top?limit=10 HTTP/1.1" 200
2026-01-17 17:42:25,128 - app - INFO - Request: GET /api/v1/admin/affiliates/dashboard - Status: 200 - Duration: 262.08ms
2026-01-17 17:42:25,129 - uvicorn.access - INFO - 127.0.0.1:54758 - "GET /api/v1/admin/affiliates/dashboard HTTP/1.1" 200
2026-01-17 17:42:25,194 - app - INFO - Request: GET /api/v1/admin/affiliates/products - Status: 200 - Duration: 20.32ms
2026-01-17 17:42:25,195 - uvicorn.access - INFO - 127.0.0.1:54786 - "GET /api/v1/admin/affiliates/products HTTP/1.1" 200
2026-01-17 17:42:25,393 - app - INFO - Request: GET /api/v1/admin/affiliates/settings/global - Status: 200 - Duration: 137.28ms
2026-01-17 17:42:25,397 - uvicorn.access - INFO - 127.0.0.1:54796 - "GET /api/v1/admin/affiliates/settings/global HTTP/1.1" 200
2026-01-17 17:42:25,448 - app - INFO - Request: GET /api/v1/admin/affiliates/top - Status: 200 - Duration: 155.79ms
2026-01-17 17:42:25,453 - uvicorn.access - INFO - 127.0.0.1:54806 - "GET /api/v1/admin/affiliates/top?limit=10 HTTP/1.1" 200
2026-01-17 17:42:25,489 - app - INFO - Request: GET /api/v1/admin/affiliates/dashboard - Status: 200 - Duration: 181.74ms
2026-01-17 17:42:25,489 - uvicorn.access - INFO - 127.0.0.1:54808 - "GET /api/v1/admin/affiliates/dashboard HTTP/1.1" 200
2026-01-17 17:42:33,611 - app - INFO - Request: GET /api/v1/payments - Status: 404 - Duration: 22.28ms
2026-01-17 17:42:33,612 - uvicorn.access - INFO - 127.0.0.1:48420 - "GET /api/v1/payments HTTP/1.1" 404
2026-01-17 17:42:33,725 - app - INFO - Request: GET /api/v1/payments - Status: 404 - Duration: 37.75ms
2026-01-17 17:42:33,730 - uvicorn.access - INFO - 127.0.0.1:48434 - "GET /api/v1/payments HTTP/1.1" 404
2026-01-17 17:42:34,539 - app - INFO - Request: GET /api/v1/admin/transactions - Status: 200 - Duration: 36.14ms
2026-01-17 17:42:34,542 - uvicorn.access - INFO - 127.0.0.1:48446 - "GET /api/v1/admin/transactions HTTP/1.1" 200
2026-01-17 17:42:34,651 - app - INFO - Request: GET /api/v1/admin/transactions - Status: 200 - Duration: 41.02ms
2026-01-17 17:42:34,655 - uvicorn.access - INFO - 127.0.0.1:48454 - "GET /api/v1/admin/transactions HTTP/1.1" 200
2026-01-17 17:42:37,425 - app - INFO - Request: GET /api/v1/admin/users - Status: 200 - Duration: 71.65ms
2026-01-17 17:42:37,450 - uvicorn.access - INFO - 127.0.0.1:59636 - "GET /api/v1/admin/users HTTP/1.1" 200
2026-01-17 17:42:37,672 - app - INFO - Request: GET /api/v1/admin/users - Status: 200 - Duration: 76.55ms
2026-01-17 17:42:37,672 - uvicorn.access - INFO - 127.0.0.1:59642 - "GET /api/v1/admin/users HTTP/1.1" 200
2026-01-17 17:42:39,171 - app - INFO - Request: GET /api/v1/discounts/discounts - Status: 200 - Duration: 15.65ms
2026-01-17 17:42:39,177 - uvicorn.access - INFO - 127.0.0.1:59650 - "GET /api/v1/discounts/discounts HTTP/1.1" 200
2026-01-17 17:42:39,260 - app - INFO - Request: GET /api/v1/discounts/discounts - Status: 200 - Duration: 50.73ms
2026-01-17 17:42:39,262 - uvicorn.access - INFO - 127.0.0.1:59660 - "GET /api/v1/discounts/discounts HTTP/1.1" 200
2026-01-17 17:50:54,673 - app - INFO - Request: GET /api/v1/admin/prop-firms - Status: 200 - Duration: 49.36ms
2026-01-17 17:50:54,676 - uvicorn.access - INFO - 127.0.0.1:50924 - "GET /api/v1/admin/prop-firms HTTP/1.1" 200
2026-01-17 17:50:54,767 - app - INFO - Request: GET /api/v1/admin/prop-firms - Status: 200 - Duration: 39.16ms
2026-01-17 17:50:54,767 - uvicorn.access - INFO - 127.0.0.1:50932 - "GET /api/v1/admin/prop-firms HTTP/1.1" 200
2026-01-17 17:52:47,852 - uvicorn.error - INFO - Shutting down
2026-01-17 17:52:47,956 - uvicorn.error - INFO - Waiting for application shutdown.
2026-01-17 17:52:47,957 - app - INFO - Shutting down application...
2026-01-17 17:52:47,957 - uvicorn.error - INFO - Application shutdown complete.
2026-01-17 17:52:47,959 - uvicorn.error - INFO - Finished server process [8288]
2026-01-17 17:52:54,893 - uvicorn.error - INFO - Started server process [59922]
2026-01-17 17:52:54,896 - uvicorn.error - INFO - Waiting for application startup.
2026-01-17 17:52:54,898 - app - INFO - Starting up application...
2026-01-17 17:52:54,994 - uvicorn.error - INFO - Application startup complete.
2026-01-17 17:54:23,375 - uvicorn.error - INFO - Shutting down
2026-01-17 17:54:23,482 - uvicorn.error - INFO - Waiting for application shutdown.
2026-01-17 17:54:23,487 - app - INFO - Shutting down application...
2026-01-17 17:54:23,496 - uvicorn.error - INFO - Application shutdown complete.
2026-01-17 17:54:23,502 - uvicorn.error - INFO - Finished server process [59922]
2026-01-17 17:54:26,532 - uvicorn.error - INFO - Started server process [61226]
2026-01-17 17:54:26,533 - uvicorn.error - INFO - Waiting for application startup.
2026-01-17 17:54:26,534 - app - INFO - Starting up application...
2026-01-17 17:54:26,556 - uvicorn.error - INFO - Application startup complete.
2026-01-17 17:55:25,867 - uvicorn.error - INFO - Shutting down
2026-01-17 17:55:25,970 - uvicorn.error - INFO - Waiting for application shutdown.
2026-01-17 17:55:25,973 - app - INFO - Shutting down application...
2026-01-17 17:55:25,978 - uvicorn.error - INFO - Application shutdown complete.
2026-01-17 17:55:25,984 - uvicorn.error - INFO - Finished server process [61226]
2026-01-17 17:55:28,874 - uvicorn.error - INFO - Started server process [62105]
2026-01-17 17:55:28,874 - uvicorn.error - INFO - Waiting for application startup.
2026-01-17 17:55:28,875 - app - INFO - Starting up application...
2026-01-17 17:55:28,887 - uvicorn.error - INFO - Application startup complete.
2026-01-17 17:56:43,536 - app - INFO - Request: GET /api/v1/ - Status: 404 - Duration: 12.35ms
2026-01-17 17:56:43,537 - uvicorn.access - INFO - 127.0.0.1:56892 - "GET /api/v1/ HTTP/1.1" 404
2026-01-17 17:56:43,728 - app - INFO - Request: POST /api/v1/support/ - Status: 200 - Duration: 176.79ms
2026-01-17 17:56:43,735 - uvicorn.access - INFO - 127.0.0.1:56902 - "POST /api/v1/support/ HTTP/1.1" 200
2026-01-17 17:56:44,341 - app - INFO - Request: POST /api/v1/auth/login/admin/access-token - Status: 200 - Duration: 585.14ms
2026-01-17 17:56:44,342 - uvicorn.access - INFO - 127.0.0.1:56918 - "POST /api/v1/auth/login/admin/access-token HTTP/1.1" 200
2026-01-17 17:56:44,374 - app - INFO - Request: GET /api/v1/support/ - Status: 200 - Duration: 26.19ms
2026-01-17 17:56:44,374 - uvicorn.access - INFO - 127.0.0.1:56924 - "GET /api/v1/support/ HTTP/1.1" 200
2026-01-17 17:57:20,011 - app - INFO - Request: GET /api/v1/admin/affiliates/dashboard - Status: 200 - Duration: 148.28ms
2026-01-17 17:57:20,013 - uvicorn.access - INFO - 127.0.0.1:34602 - "GET /api/v1/admin/affiliates/dashboard HTTP/1.1" 200
2026-01-17 17:57:20,048 - app - INFO - Request: GET /api/v1/admin/prop-firms - Status: 200 - Duration: 185.78ms
2026-01-17 17:57:20,049 - uvicorn.access - INFO - 127.0.0.1:34630 - "GET /api/v1/admin/prop-firms HTTP/1.1" 200
2026-01-17 17:57:20,065 - app - INFO - Request: GET /api/v1/admin/affiliates/top - Status: 200 - Duration: 202.65ms
2026-01-17 17:57:20,068 - uvicorn.access - INFO - 127.0.0.1:34618 - "GET /api/v1/admin/affiliates/top?limit=5 HTTP/1.1" 200
2026-01-17 17:57:20,078 - app - INFO - Request: GET /api/v1/admin/stats - Status: 200 - Duration: 307.05ms
2026-01-17 17:57:20,080 - uvicorn.access - INFO - 127.0.0.1:34592 - "GET /api/v1/admin/stats HTTP/1.1" 200
2026-01-17 17:57:20,263 - app - INFO - Request: GET /api/v1/admin/prop-firms - Status: 200 - Duration: 105.07ms
2026-01-17 17:57:20,266 - uvicorn.access - INFO - 127.0.0.1:34656 - "GET /api/v1/admin/prop-firms HTTP/1.1" 200
2026-01-17 17:57:20,311 - app - INFO - Request: GET /api/v1/admin/affiliates/dashboard - Status: 200 - Duration: 175.58ms
2026-01-17 17:57:20,314 - uvicorn.access - INFO - 127.0.0.1:34646 - "GET /api/v1/admin/affiliates/dashboard HTTP/1.1" 200
2026-01-17 17:57:20,334 - app - INFO - Request: GET /api/v1/admin/affiliates/top - Status: 200 - Duration: 142.08ms
2026-01-17 17:57:20,335 - uvicorn.access - INFO - 127.0.0.1:34666 - "GET /api/v1/admin/affiliates/top?limit=5 HTTP/1.1" 200
2026-01-17 17:57:20,387 - app - INFO - Request: GET /api/v1/admin/stats - Status: 200 - Duration: 190.35ms
2026-01-17 17:57:20,387 - uvicorn.access - INFO - 127.0.0.1:34670 - "GET /api/v1/admin/stats HTTP/1.1" 200
2026-01-17 17:57:40,749 - app - INFO - Request: GET /api/v1/admin/prop-firms - Status: 200 - Duration: 22.56ms
2026-01-17 17:57:40,753 - uvicorn.access - INFO - 127.0.0.1:53280 - "GET /api/v1/admin/prop-firms HTTP/1.1" 200
2026-01-17 17:57:40,868 - app - INFO - Request: GET /api/v1/admin/prop-firms - Status: 200 - Duration: 76.89ms
2026-01-17 17:57:40,870 - uvicorn.access - INFO - 127.0.0.1:53296 - "GET /api/v1/admin/prop-firms HTTP/1.1" 200
2026-01-17 17:57:43,537 - app - INFO - Request: GET /api/v1/admin/affiliates/products - Status: 200 - Duration: 74.36ms
2026-01-17 17:57:43,541 - uvicorn.access - INFO - 127.0.0.1:53318 - "GET /api/v1/admin/affiliates/products HTTP/1.1" 200
2026-01-17 17:57:43,548 - app - INFO - Request: GET /api/v1/admin/affiliates/settings/global - Status: 200 - Duration: 85.09ms
2026-01-17 17:57:43,548 - uvicorn.access - INFO - 127.0.0.1:53324 - "GET /api/v1/admin/affiliates/settings/global HTTP/1.1" 200
2026-01-17 17:57:43,558 - app - INFO - Request: GET /api/v1/admin/affiliates/top - Status: 200 - Duration: 94.95ms
2026-01-17 17:57:43,558 - uvicorn.access - INFO - 127.0.0.1:53314 - "GET /api/v1/admin/affiliates/top?limit=10 HTTP/1.1" 200
2026-01-17 17:57:43,576 - app - INFO - Request: GET /api/v1/admin/affiliates/dashboard - Status: 200 - Duration: 122.57ms
2026-01-17 17:57:43,577 - uvicorn.access - INFO - 127.0.0.1:53302 - "GET /api/v1/admin/affiliates/dashboard HTTP/1.1" 200
2026-01-17 17:57:43,741 - app - INFO - Request: GET /api/v1/admin/affiliates/products - Status: 200 - Duration: 119.58ms
2026-01-17 17:57:43,744 - uvicorn.access - INFO - 127.0.0.1:53328 - "GET /api/v1/admin/affiliates/products HTTP/1.1" 200
2026-01-17 17:57:43,747 - app - INFO - Request: GET /api/v1/admin/affiliates/settings/global - Status: 200 - Duration: 102.42ms
2026-01-17 17:57:43,749 - uvicorn.access - INFO - 127.0.0.1:53336 - "GET /api/v1/admin/affiliates/settings/global HTTP/1.1" 200
2026-01-17 17:57:43,762 - app - INFO - Request: GET /api/v1/admin/affiliates/top - Status: 200 - Duration: 87.03ms
2026-01-17 17:57:43,764 - uvicorn.access - INFO - 127.0.0.1:53338 - "GET /api/v1/admin/affiliates/top?limit=10 HTTP/1.1" 200
2026-01-17 17:57:43,791 - app - INFO - Request: GET /api/v1/admin/affiliates/dashboard - Status: 200 - Duration: 94.22ms
2026-01-17 17:57:43,793 - uvicorn.access - INFO - 127.0.0.1:53350 - "GET /api/v1/admin/affiliates/dashboard HTTP/1.1" 200
2026-01-17 17:57:48,282 - app - INFO - Request: GET /api/v1/admin/users - Status: 200 - Duration: 80.78ms
2026-01-17 17:57:48,287 - uvicorn.access - INFO - 127.0.0.1:42874 - "GET /api/v1/admin/users HTTP/1.1" 200
2026-01-17 17:57:48,419 - app - INFO - Request: GET /api/v1/admin/users - Status: 200 - Duration: 57.87ms
2026-01-17 17:57:48,421 - uvicorn.access - INFO - 127.0.0.1:42878 - "GET /api/v1/admin/users HTTP/1.1" 200
2026-01-17 17:57:50,780 - app - INFO - Request: GET /api/v1/admin/prop-firms - Status: 200 - Duration: 159.52ms
2026-01-17 17:57:50,782 - uvicorn.access - INFO - 127.0.0.1:42916 - "GET /api/v1/admin/prop-firms HTTP/1.1" 200
2026-01-17 17:57:50,825 - app - INFO - Request: GET /api/v1/admin/affiliates/top - Status: 200 - Duration: 204.13ms
2026-01-17 17:57:50,825 - uvicorn.access - INFO - 127.0.0.1:42900 - "GET /api/v1/admin/affiliates/top?limit=5 HTTP/1.1" 200
2026-01-17 17:57:50,877 - app - INFO - Request: GET /api/v1/admin/affiliates/dashboard - Status: 200 - Duration: 256.44ms
2026-01-17 17:57:50,877 - uvicorn.access - INFO - 127.0.0.1:42888 - "GET /api/v1/admin/affiliates/dashboard HTTP/1.1" 200
2026-01-17 17:57:50,896 - app - INFO - Request: GET /api/v1/admin/stats - Status: 200 - Duration: 369.50ms
2026-01-17 17:57:50,896 - uvicorn.access - INFO - 127.0.0.1:42886 - "GET /api/v1/admin/stats HTTP/1.1" 200
2026-01-17 17:57:51,111 - app - INFO - Request: GET /api/v1/admin/prop-firms - Status: 200 - Duration: 198.56ms
2026-01-17 17:57:51,113 - uvicorn.access - INFO - 127.0.0.1:42930 - "GET /api/v1/admin/prop-firms HTTP/1.1" 200
2026-01-17 17:57:51,194 - app - INFO - Request: GET /api/v1/admin/affiliates/top - Status: 200 - Duration: 230.36ms
2026-01-17 17:57:51,210 - uvicorn.access - INFO - 127.0.0.1:42934 - "GET /api/v1/admin/affiliates/top?limit=5 HTTP/1.1" 200
2026-01-17 17:57:51,292 - app - INFO - Request: GET /api/v1/admin/affiliates/dashboard - Status: 200 - Duration: 279.56ms
2026-01-17 17:57:51,292 - uvicorn.access - INFO - 127.0.0.1:42940 - "GET /api/v1/admin/affiliates/dashboard HTTP/1.1" 200
2026-01-17 17:57:51,353 - app - INFO - Request: GET /api/v1/admin/stats - Status: 200 - Duration: 328.01ms
2026-01-17 17:57:51,354 - uvicorn.access - INFO - 127.0.0.1:42944 - "GET /api/v1/admin/stats HTTP/1.1" 200
2026-01-17 17:57:54,162 - app - INFO - Request: GET /api/v1/admin/transactions - Status: 200 - Duration: 76.60ms
2026-01-17 17:57:54,165 - uvicorn.access - INFO - 127.0.0.1:42948 - "GET /api/v1/admin/transactions HTTP/1.1" 200
2026-01-17 17:57:54,260 - app - INFO - Request: GET /api/v1/admin/transactions - Status: 200 - Duration: 36.93ms
2026-01-17 17:57:54,262 - uvicorn.access - INFO - 127.0.0.1:42950 - "GET /api/v1/admin/transactions HTTP/1.1" 200
2026-01-17 17:57:56,834 - app - INFO - Request: GET /api/v1/admin/users - Status: 200 - Duration: 41.02ms
2026-01-17 17:57:56,834 - uvicorn.access - INFO - 127.0.0.1:42960 - "GET /api/v1/admin/users HTTP/1.1" 200
2026-01-17 17:57:56,896 - app - INFO - Request: GET /api/v1/admin/users - Status: 200 - Duration: 23.09ms
2026-01-17 17:57:56,900 - uvicorn.access - INFO - 127.0.0.1:42972 - "GET /api/v1/admin/users HTTP/1.1" 200
2026-01-17 17:57:59,016 - app - INFO - Request: GET /api/v1/discounts/discounts - Status: 200 - Duration: 24.30ms
2026-01-17 17:57:59,020 - uvicorn.access - INFO - 127.0.0.1:44014 - "GET /api/v1/discounts/discounts HTTP/1.1" 200
2026-01-17 17:57:59,084 - app - INFO - Request: GET /api/v1/discounts/discounts - Status: 200 - Duration: 20.54ms
2026-01-17 17:57:59,088 - uvicorn.access - INFO - 127.0.0.1:44022 - "GET /api/v1/discounts/discounts HTTP/1.1" 200
2026-01-17 17:58:07,052 - app - INFO - Request: POST /api/v1/auth/login/admin/access-token - Status: 200 - Duration: 740.14ms
2026-01-17 17:58:07,052 - uvicorn.access - INFO - 127.0.0.1:44032 - "POST /api/v1/auth/login/admin/access-token HTTP/1.1" 200
2026-01-17 17:58:08,511 - app - INFO - Request: GET /api/v1/admin/me - Status: 200 - Duration: 37.55ms
2026-01-17 17:58:08,514 - uvicorn.access - INFO - 127.0.0.1:45396 - "GET /api/v1/admin/me HTTP/1.1" 200
2026-01-17 17:58:08,670 - app - INFO - Request: GET /api/v1/admin/prop-firms - Status: 200 - Duration: 72.16ms
2026-01-17 17:58:08,670 - uvicorn.access - INFO - 127.0.0.1:45438 - "GET /api/v1/admin/prop-firms HTTP/1.1" 200
2026-01-17 17:58:08,684 - app - INFO - Request: GET /api/v1/admin/me - Status: 200 - Duration: 49.41ms
2026-01-17 17:58:08,686 - uvicorn.access - INFO - 127.0.0.1:45442 - "GET /api/v1/admin/me HTTP/1.1" 200
2026-01-17 17:58:08,694 - app - INFO - Request: GET /api/v1/admin/affiliates/top - Status: 200 - Duration: 96.74ms
2026-01-17 17:58:08,694 - uvicorn.access - INFO - 127.0.0.1:45434 - "GET /api/v1/admin/affiliates/top?limit=5 HTTP/1.1" 200
2026-01-17 17:58:08,752 - app - INFO - Request: GET /api/v1/admin/affiliates/dashboard - Status: 200 - Duration: 154.59ms
2026-01-17 17:58:08,752 - uvicorn.access - INFO - 127.0.0.1:45424 - "GET /api/v1/admin/affiliates/dashboard HTTP/1.1" 200
2026-01-17 17:58:08,761 - app - INFO - Request: GET /api/v1/admin/prop-firms - Status: 200 - Duration: 52.41ms
2026-01-17 17:58:08,763 - uvicorn.access - INFO - 127.0.0.1:45444 - "GET /api/v1/admin/prop-firms HTTP/1.1" 200
2026-01-17 17:58:08,806 - app - INFO - Request: GET /api/v1/admin/affiliates/top - Status: 200 - Duration: 64.17ms
2026-01-17 17:58:08,806 - uvicorn.access - INFO - 127.0.0.1:45452 - "GET /api/v1/admin/affiliates/top?limit=5 HTTP/1.1" 200
2026-01-17 17:58:08,809 - app - INFO - Request: GET /api/v1/admin/stats - Status: 200 - Duration: 224.32ms
2026-01-17 17:58:08,809 - uvicorn.access - INFO - 127.0.0.1:45408 - "GET /api/v1/admin/stats HTTP/1.1" 200
2026-01-17 17:58:08,847 - app - INFO - Request: GET /api/v1/admin/affiliates/dashboard - Status: 200 - Duration: 48.13ms
2026-01-17 17:58:08,848 - uvicorn.access - INFO - 127.0.0.1:45466 - "GET /api/v1/admin/affiliates/dashboard HTTP/1.1" 200
2026-01-17 17:58:08,877 - app - INFO - Request: GET /api/v1/admin/stats - Status: 200 - Duration: 25.93ms
2026-01-17 17:58:08,878 - uvicorn.access - INFO - 127.0.0.1:45474 - "GET /api/v1/admin/stats HTTP/1.1" 200
2026-01-17 18:03:54,530 - app - INFO - Request: GET /api/v1/admin/me - Status: 200 - Duration: 124.67ms
2026-01-17 18:03:54,530 - uvicorn.access - INFO - 127.0.0.1:54482 - "GET /api/v1/admin/me HTTP/1.1" 200
2026-01-17 18:03:54,597 - app - INFO - Request: GET /api/v1/admin/affiliates/dashboard - Status: 200 - Duration: 136.08ms
2026-01-17 18:03:54,605 - uvicorn.access - INFO - 127.0.0.1:54498 - "GET /api/v1/admin/affiliates/dashboard HTTP/1.1" 200
2026-01-17 18:03:54,631 - app - INFO - Request: GET /api/v1/admin/affiliates/top - Status: 200 - Duration: 125.07ms
2026-01-17 18:03:54,633 - uvicorn.access - INFO - 127.0.0.1:54510 - "GET /api/v1/admin/affiliates/top?limit=5 HTTP/1.1" 200
2026-01-17 18:03:54,680 - app - INFO - Request: GET /api/v1/admin/prop-firms - Status: 200 - Duration: 73.83ms
2026-01-17 18:03:54,680 - uvicorn.access - INFO - 127.0.0.1:54514 - "GET /api/v1/admin/prop-firms HTTP/1.1" 200
2026-01-17 18:03:54,714 - app - INFO - Request: GET /api/v1/admin/stats - Status: 200 - Duration: 308.91ms
2026-01-17 18:03:54,720 - uvicorn.access - INFO - 127.0.0.1:54468 - "GET /api/v1/admin/stats HTTP/1.1" 200
2026-01-17 18:03:54,778 - app - INFO - Request: GET /api/v1/admin/me - Status: 200 - Duration: 26.57ms
2026-01-17 18:03:54,779 - uvicorn.access - INFO - 127.0.0.1:54518 - "GET /api/v1/admin/me HTTP/1.1" 200
2026-01-17 18:03:55,108 - app - INFO - Request: GET /api/v1/admin/prop-firms - Status: 200 - Duration: 244.03ms
2026-01-17 18:03:55,111 - uvicorn.access - INFO - 127.0.0.1:54548 - "GET /api/v1/admin/prop-firms HTTP/1.1" 200
2026-01-17 18:03:55,143 - app - INFO - Request: GET /api/v1/admin/affiliates/top - Status: 200 - Duration: 285.23ms
2026-01-17 18:03:55,148 - uvicorn.access - INFO - 127.0.0.1:54538 - "GET /api/v1/admin/affiliates/top?limit=5 HTTP/1.1" 200
2026-01-17 18:03:55,167 - app - INFO - Request: GET /api/v1/admin/affiliates/dashboard - Status: 200 - Duration: 309.27ms
2026-01-17 18:03:55,177 - uvicorn.access - INFO - 127.0.0.1:54530 - "GET /api/v1/admin/affiliates/dashboard HTTP/1.1" 200
2026-01-17 18:03:55,300 - app - INFO - Request: GET /api/v1/admin/stats - Status: 200 - Duration: 366.95ms
2026-01-17 18:03:55,305 - uvicorn.access - INFO - 127.0.0.1:54556 - "GET /api/v1/admin/stats HTTP/1.1" 200
2026-01-17 18:06:50,358 - app - INFO - Request: GET /api/v1/support - Status: 307 - Duration: 1.31ms
2026-01-17 18:06:50,359 - uvicorn.access - INFO - 127.0.0.1:37418 - "GET /api/v1/support?skip=0&limit=100 HTTP/1.1" 307
2026-01-17 18:06:50,385 - app - INFO - Request: GET /api/v1/support - Status: 307 - Duration: 1.24ms
2026-01-17 18:06:50,387 - uvicorn.access - INFO - 127.0.0.1:37426 - "GET /api/v1/support?skip=0&limit=100 HTTP/1.1" 307
2026-01-17 18:06:50,422 - app - INFO - Request: GET /api/v1/support/ - Status: 401 - Duration: 27.16ms
2026-01-17 18:06:50,434 - uvicorn.access - INFO - 127.0.0.1:37438 - "GET /api/v1/support/?skip=0&limit=100 HTTP/1.1" 401
2026-01-17 18:06:50,462 - app - INFO - Request: GET /api/v1/support/ - Status: 401 - Duration: 10.15ms
2026-01-17 18:06:50,466 - uvicorn.access - INFO - 127.0.0.1:37442 - "GET /api/v1/support/?skip=0&limit=100 HTTP/1.1" 401
2026-01-17 18:07:53,277 - app - INFO - Request: POST /api/v1/support - Status: 307 - Duration: 1.09ms
2026-01-17 18:07:53,278 - uvicorn.access - INFO - 127.0.0.1:34984 - "POST /api/v1/support HTTP/1.1" 307
2026-01-17 18:07:53,313 - app - INFO - Request: OPTIONS /api/v1/support/ - Status: 200 - Duration: 3.66ms
2026-01-17 18:07:53,317 - uvicorn.access - INFO - 127.0.0.1:34990 - "OPTIONS /api/v1/support/ HTTP/1.1" 200
2026-01-17 18:07:53,396 - app - INFO - Request: POST /api/v1/support/ - Status: 200 - Duration: 54.85ms
2026-01-17 18:07:53,396 - uvicorn.access - INFO - 127.0.0.1:35006 - "POST /api/v1/support/ HTTP/1.1" 200
2026-01-17 18:08:12,718 - app - INFO - Request: POST /api/v1/auth/login/admin/access-token - Status: 200 - Duration: 2037.93ms
2026-01-17 18:08:12,719 - uvicorn.access - INFO - 127.0.0.1:40140 - "POST /api/v1/auth/login/admin/access-token HTTP/1.1" 200
2026-01-17 18:08:15,108 - app - INFO - Request: GET /api/v1/admin/me - Status: 200 - Duration: 111.89ms
2026-01-17 18:08:15,117 - uvicorn.access - INFO - 127.0.0.1:40152 - "GET /api/v1/admin/me HTTP/1.1" 200
2026-01-17 18:08:15,209 - app - INFO - Request: GET /api/v1/admin/prop-firms - Status: 200 - Duration: 207.87ms
2026-01-17 18:08:15,219 - uvicorn.access - INFO - 127.0.0.1:40170 - "GET /api/v1/admin/prop-firms HTTP/1.1" 200
2026-01-17 18:08:15,329 - app - INFO - Request: GET /api/v1/admin/affiliates/top - Status: 200 - Duration: 328.03ms
2026-01-17 18:08:15,329 - uvicorn.access - INFO - 127.0.0.1:40166 - "GET /api/v1/admin/affiliates/top?limit=5 HTTP/1.1" 200
2026-01-17 18:08:15,444 - app - INFO - Request: GET /api/v1/admin/me - Status: 200 - Duration: 205.82ms
2026-01-17 18:08:15,448 - uvicorn.access - INFO - 127.0.0.1:40180 - "GET /api/v1/admin/me HTTP/1.1" 200
2026-01-17 18:08:15,463 - app - INFO - Request: GET /api/v1/admin/affiliates/dashboard - Status: 200 - Duration: 461.92ms
2026-01-17 18:08:15,463 - uvicorn.access - INFO - 127.0.0.1:40160 - "GET /api/v1/admin/affiliates/dashboard HTTP/1.1" 200
2026-01-17 18:08:15,665 - app - INFO - Request: GET /api/v1/admin/prop-firms - Status: 200 - Duration: 310.11ms
2026-01-17 18:08:15,666 - uvicorn.access - INFO - 127.0.0.1:40196 - "GET /api/v1/admin/prop-firms HTTP/1.1" 200
2026-01-17 18:08:15,701 - app - INFO - Request: GET /api/v1/admin/affiliates/top - Status: 200 - Duration: 252.52ms
2026-01-17 18:08:15,701 - uvicorn.access - INFO - 127.0.0.1:40200 - "GET /api/v1/admin/affiliates/top?limit=5 HTTP/1.1" 200
2026-01-17 18:08:15,707 - app - INFO - Request: GET /api/v1/admin/stats - Status: 200 - Duration: 706.51ms
2026-01-17 18:08:15,707 - uvicorn.access - INFO - 127.0.0.1:40154 - "GET /api/v1/admin/stats HTTP/1.1" 200
2026-01-17 18:08:15,716 - app - INFO - Request: GET /api/v1/admin/affiliates/dashboard - Status: 200 - Duration: 70.72ms
2026-01-17 18:08:15,717 - uvicorn.access - INFO - 127.0.0.1:40202 - "GET /api/v1/admin/affiliates/dashboard HTTP/1.1" 200
2026-01-17 18:08:15,894 - app - INFO - Request: GET /api/v1/admin/stats - Status: 200 - Duration: 100.45ms
2026-01-17 18:08:15,895 - uvicorn.access - INFO - 127.0.0.1:40214 - "GET /api/v1/admin/stats HTTP/1.1" 200
2026-01-17 18:08:19,817 - app - INFO - Request: GET /api/v1/support - Status: 307 - Duration: 2.38ms
2026-01-17 18:08:19,824 - uvicorn.access - INFO - 127.0.0.1:60484 - "GET /api/v1/support?skip=0&limit=100 HTTP/1.1" 307
2026-01-17 18:08:19,858 - app - INFO - Request: GET /api/v1/support - Status: 307 - Duration: 1.02ms
2026-01-17 18:08:19,858 - uvicorn.access - INFO - 127.0.0.1:60492 - "GET /api/v1/support?skip=0&limit=100 HTTP/1.1" 307
2026-01-17 18:08:19,878 - app - INFO - Request: GET /api/v1/support/ - Status: 401 - Duration: 11.22ms
2026-01-17 18:08:19,881 - uvicorn.access - INFO - 127.0.0.1:60496 - "GET /api/v1/support/?skip=0&limit=100 HTTP/1.1" 401
2026-01-17 18:08:19,923 - app - INFO - Request: GET /api/v1/support/ - Status: 401 - Duration: 11.59ms
2026-01-17 18:08:19,923 - uvicorn.access - INFO - 127.0.0.1:60510 - "GET /api/v1/support/?skip=0&limit=100 HTTP/1.1" 401
2026-01-17 18:08:25,933 - app - INFO - Request: POST /api/v1/auth/login/admin/access-token - Status: 200 - Duration: 927.07ms
2026-01-17 18:08:25,933 - uvicorn.access - INFO - 127.0.0.1:60514 - "POST /api/v1/auth/login/admin/access-token HTTP/1.1" 200
2026-01-17 18:08:28,347 - app - INFO - Request: GET /api/v1/admin/me - Status: 200 - Duration: 322.29ms
2026-01-17 18:08:28,349 - uvicorn.access - INFO - 127.0.0.1:44182 - "GET /api/v1/admin/me HTTP/1.1" 200
2026-01-17 18:08:28,525 - app - INFO - Request: GET /api/v1/admin/prop-firms - Status: 200 - Duration: 335.78ms
2026-01-17 18:08:28,527 - uvicorn.access - INFO - 127.0.0.1:44206 - "GET /api/v1/admin/prop-firms HTTP/1.1" 200
2026-01-17 18:08:28,586 - app - INFO - Request: GET /api/v1/admin/affiliates/top - Status: 200 - Duration: 433.58ms
2026-01-17 18:08:28,590 - uvicorn.access - INFO - 127.0.0.1:44200 - "GET /api/v1/admin/affiliates/top?limit=5 HTTP/1.1" 200
2026-01-17 18:08:28,606 - app - INFO - Request: GET /api/v1/admin/affiliates/dashboard - Status: 200 - Duration: 554.39ms
2026-01-17 18:08:28,617 - uvicorn.access - INFO - 127.0.0.1:44192 - "GET /api/v1/admin/affiliates/dashboard HTTP/1.1" 200
2026-01-17 18:08:28,643 - app - INFO - Request: GET /api/v1/admin/me - Status: 200 - Duration: 121.14ms
2026-01-17 18:08:28,648 - uvicorn.access - INFO - 127.0.0.1:44220 - "GET /api/v1/admin/me HTTP/1.1" 200
2026-01-17 18:08:28,743 - app - INFO - Request: GET /api/v1/admin/prop-firms - Status: 200 - Duration: 107.91ms
2026-01-17 18:08:28,747 - uvicorn.access - INFO - 127.0.0.1:44232 - "GET /api/v1/admin/prop-firms HTTP/1.1" 200
2026-01-17 18:08:28,863 - app - INFO - Request: GET /api/v1/admin/stats - Status: 200 - Duration: 835.44ms
2026-01-17 18:08:28,867 - uvicorn.access - INFO - 127.0.0.1:44184 - "GET /api/v1/admin/stats HTTP/1.1" 200
2026-01-17 18:08:28,947 - app - INFO - Request: GET /api/v1/admin/affiliates/top - Status: 200 - Duration: 160.60ms
2026-01-17 18:08:28,947 - uvicorn.access - INFO - 127.0.0.1:44246 - "GET /api/v1/admin/affiliates/top?limit=5 HTTP/1.1" 200
2026-01-17 18:08:29,075 - app - INFO - Request: GET /api/v1/admin/affiliates/dashboard - Status: 200 - Duration: 297.49ms
2026-01-17 18:08:29,078 - uvicorn.access - INFO - 127.0.0.1:44242 - "GET /api/v1/admin/affiliates/dashboard HTTP/1.1" 200
2026-01-17 18:08:29,227 - app - INFO - Request: GET /api/v1/admin/stats - Status: 200 - Duration: 259.61ms
2026-01-17 18:08:29,231 - uvicorn.access - INFO - 127.0.0.1:44260 - "GET /api/v1/admin/stats HTTP/1.1" 200
2026-01-17 18:08:33,326 - app - INFO - Request: GET /api/v1/support - Status: 307 - Duration: 3.38ms
2026-01-17 18:08:33,328 - uvicorn.access - INFO - 127.0.0.1:44268 - "GET /api/v1/support?skip=0&limit=100 HTTP/1.1" 307
2026-01-17 18:08:33,367 - app - INFO - Request: GET /api/v1/support - Status: 307 - Duration: 8.46ms
2026-01-17 18:08:33,371 - uvicorn.access - INFO - 127.0.0.1:44276 - "GET /api/v1/support?skip=0&limit=100 HTTP/1.1" 307
2026-01-17 18:08:33,479 - app - INFO - Request: GET /api/v1/support/ - Status: 401 - Duration: 8.74ms
2026-01-17 18:08:33,486 - uvicorn.access - INFO - 127.0.0.1:44278 - "GET /api/v1/support/?skip=0&limit=100 HTTP/1.1" 401
2026-01-17 18:08:33,503 - app - INFO - Request: GET /api/v1/support/ - Status: 401 - Duration: 4.84ms
2026-01-17 18:08:33,507 - uvicorn.access - INFO - 127.0.0.1:44284 - "GET /api/v1/support/?skip=0&limit=100 HTTP/1.1" 401
2026-01-17 18:08:52,087 - app - INFO - Request: POST /api/v1/auth/login/admin/access-token - Status: 200 - Duration: 416.34ms
2026-01-17 18:08:52,087 - uvicorn.access - INFO - 127.0.0.1:42950 - "POST /api/v1/auth/login/admin/access-token HTTP/1.1" 200
2026-01-17 18:08:54,738 - app - INFO - Request: GET /api/v1/admin/me - Status: 200 - Duration: 99.18ms
2026-01-17 18:08:54,742 - uvicorn.access - INFO - 127.0.0.1:42962 - "GET /api/v1/admin/me HTTP/1.1" 200
2026-01-17 18:08:55,019 - app - INFO - Request: GET /api/v1/admin/me - Status: 200 - Duration: 115.83ms
2026-01-17 18:08:55,026 - uvicorn.access - INFO - 127.0.0.1:42994 - "GET /api/v1/admin/me HTTP/1.1" 200
2026-01-17 18:08:55,104 - app - INFO - Request: GET /api/v1/admin/prop-firms - Status: 200 - Duration: 278.60ms
2026-01-17 18:08:55,104 - uvicorn.access - INFO - 127.0.0.1:42980 - "GET /api/v1/admin/prop-firms HTTP/1.1" 200
2026-01-17 18:08:55,108 - app - INFO - Request: GET /api/v1/admin/affiliates/top - Status: 200 - Duration: 329.74ms
2026-01-17 18:08:55,114 - uvicorn.access - INFO - 127.0.0.1:42972 - "GET /api/v1/admin/affiliates/top?limit=5 HTTP/1.1" 200
2026-01-17 18:08:55,165 - app - INFO - Request: GET /api/v1/admin/affiliates/dashboard - Status: 200 - Duration: 339.95ms
2026-01-17 18:08:55,178 - uvicorn.access - INFO - 127.0.0.1:42990 - "GET /api/v1/admin/affiliates/dashboard HTTP/1.1" 200
2026-01-17 18:08:55,220 - app - INFO - Request: GET /api/v1/admin/stats - Status: 200 - Duration: 565.94ms
2026-01-17 18:08:55,220 - uvicorn.access - INFO - 127.0.0.1:42966 - "GET /api/v1/admin/stats HTTP/1.1" 200
2026-01-17 18:08:55,956 - app - INFO - Request: GET /api/v1/admin/prop-firms - Status: 200 - Duration: 704.88ms
2026-01-17 18:08:55,957 - uvicorn.access - INFO - 127.0.0.1:42996 - "GET /api/v1/admin/prop-firms HTTP/1.1" 200
2026-01-17 18:08:55,989 - app - INFO - Request: GET /api/v1/admin/affiliates/top - Status: 200 - Duration: 707.38ms
2026-01-17 18:08:55,989 - uvicorn.access - INFO - 127.0.0.1:43004 - "GET /api/v1/admin/affiliates/top?limit=5 HTTP/1.1" 200
2026-01-17 18:08:56,003 - app - INFO - Request: GET /api/v1/admin/affiliates/dashboard - Status: 200 - Duration: 684.01ms
2026-01-17 18:08:56,005 - uvicorn.access - INFO - 127.0.0.1:43016 - "GET /api/v1/admin/affiliates/dashboard HTTP/1.1" 200
2026-01-17 18:08:56,029 - app - INFO - Request: GET /api/v1/admin/stats - Status: 200 - Duration: 695.37ms
2026-01-17 18:08:56,029 - uvicorn.access - INFO - 127.0.0.1:43028 - "GET /api/v1/admin/stats HTTP/1.1" 200
2026-01-17 18:08:58,203 - app - INFO - Request: GET /api/v1/support - Status: 307 - Duration: 1.13ms
2026-01-17 18:08:58,204 - uvicorn.access - INFO - 127.0.0.1:58986 - "GET /api/v1/support?skip=0&limit=100 HTTP/1.1" 307
2026-01-17 18:08:58,221 - app - INFO - Request: GET /api/v1/support - Status: 307 - Duration: 1.14ms
2026-01-17 18:08:58,221 - uvicorn.access - INFO - 127.0.0.1:58992 - "GET /api/v1/support?skip=0&limit=100 HTTP/1.1" 307
2026-01-17 18:08:58,238 - app - INFO - Request: GET /api/v1/support/ - Status: 401 - Duration: 2.28ms
2026-01-17 18:08:58,239 - uvicorn.access - INFO - 127.0.0.1:58996 - "GET /api/v1/support/?skip=0&limit=100 HTTP/1.1" 401
2026-01-17 18:08:58,252 - app - INFO - Request: GET /api/v1/support/ - Status: 401 - Duration: 7.21ms
2026-01-17 18:08:58,252 - uvicorn.access - INFO - 127.0.0.1:58998 - "GET /api/v1/support/?skip=0&limit=100 HTTP/1.1" 401
2026-01-17 18:11:35,587 - uvicorn.error - INFO - Shutting down
2026-01-17 18:11:35,690 - uvicorn.error - INFO - Waiting for application shutdown.
2026-01-17 18:11:35,693 - app - INFO - Shutting down application...
2026-01-17 18:11:35,700 - uvicorn.error - INFO - Application shutdown complete.
2026-01-17 18:11:35,700 - uvicorn.error - INFO - Finished server process [62105]
2026-01-17 18:11:43,423 - uvicorn.error - INFO - Started server process [76719]
2026-01-17 18:11:43,423 - uvicorn.error - INFO - Waiting for application startup.
2026-01-17 18:11:43,425 - app - INFO - Starting up application...
2026-01-17 18:11:43,480 - uvicorn.error - INFO - Application startup complete.
2026-01-17 18:12:06,692 - app - INFO - Request: POST /api/v1/auth/login/admin/access-token - Status: 200 - Duration: 874.07ms
2026-01-17 18:12:06,692 - uvicorn.access - INFO - 127.0.0.1:50530 - "POST /api/v1/auth/login/admin/access-token HTTP/1.1" 200
2026-01-17 18:12:08,606 - app - INFO - Request: GET /api/v1/admin/me - Status: 200 - Duration: 95.08ms
2026-01-17 18:12:08,608 - uvicorn.access - INFO - 127.0.0.1:49514 - "GET /api/v1/admin/me HTTP/1.1" 200
2026-01-17 18:12:08,813 - app - INFO - Request: GET /api/v1/admin/me - Status: 200 - Duration: 48.02ms
2026-01-17 18:12:08,815 - uvicorn.access - INFO - 127.0.0.1:49570 - "GET /api/v1/admin/me HTTP/1.1" 200
2026-01-17 18:12:08,864 - app - INFO - Request: GET /api/v1/admin/prop-firms - Status: 200 - Duration: 258.17ms
2026-01-17 18:12:08,865 - uvicorn.access - INFO - 127.0.0.1:49558 - "GET /api/v1/admin/prop-firms HTTP/1.1" 200
2026-01-17 18:12:08,889 - app - INFO - Request: GET /api/v1/admin/affiliates/top - Status: 200 - Duration: 301.24ms
2026-01-17 18:12:08,891 - uvicorn.access - INFO - 127.0.0.1:49542 - "GET /api/v1/admin/affiliates/top?limit=5 HTTP/1.1" 200
2026-01-17 18:12:08,922 - app - INFO - Request: GET /api/v1/admin/affiliates/dashboard - Status: 200 - Duration: 340.90ms
2026-01-17 18:12:08,923 - uvicorn.access - INFO - 127.0.0.1:49532 - "GET /api/v1/admin/affiliates/dashboard HTTP/1.1" 200
2026-01-17 18:12:09,021 - app - INFO - Request: GET /api/v1/admin/prop-firms - Status: 200 - Duration: 87.35ms
2026-01-17 18:12:09,023 - uvicorn.access - INFO - 127.0.0.1:49584 - "GET /api/v1/admin/prop-firms HTTP/1.1" 200
2026-01-17 18:12:09,064 - app - INFO - Request: GET /api/v1/admin/stats - Status: 200 - Duration: 518.33ms
2026-01-17 18:12:09,065 - uvicorn.access - INFO - 127.0.0.1:49518 - "GET /api/v1/admin/stats HTTP/1.1" 200
2026-01-17 18:12:09,092 - app - INFO - Request: GET /api/v1/admin/affiliates/top - Status: 200 - Duration: 114.94ms
2026-01-17 18:12:09,092 - uvicorn.access - INFO - 127.0.0.1:49594 - "GET /api/v1/admin/affiliates/top?limit=5 HTTP/1.1" 200
2026-01-17 18:12:09,141 - app - INFO - Request: GET /api/v1/admin/affiliates/dashboard - Status: 200 - Duration: 122.84ms
2026-01-17 18:12:09,142 - uvicorn.access - INFO - 127.0.0.1:49610 - "GET /api/v1/admin/affiliates/dashboard HTTP/1.1" 200
2026-01-17 18:12:09,184 - app - INFO - Request: GET /api/v1/admin/stats - Status: 200 - Duration: 46.17ms
2026-01-17 18:12:09,184 - uvicorn.access - INFO - 127.0.0.1:49624 - "GET /api/v1/admin/stats HTTP/1.1" 200
2026-01-17 18:12:15,894 - app - INFO - Request: GET /api/v1/support - Status: 200 - Duration: 59.64ms
2026-01-17 18:12:15,895 - uvicorn.access - INFO - 127.0.0.1:49640 - "GET /api/v1/support?skip=0&limit=100 HTTP/1.1" 200
2026-01-17 18:12:15,967 - app - INFO - Request: GET /api/v1/support - Status: 200 - Duration: 33.38ms
2026-01-17 18:12:15,969 - uvicorn.access - INFO - 127.0.0.1:49656 - "GET /api/v1/support?skip=0&limit=100 HTTP/1.1" 200
2026-01-19 08:36:34,789 - uvicorn.error - INFO - Started server process [336363]
2026-01-19 08:36:34,800 - uvicorn.error - INFO - Waiting for application startup.
2026-01-19 08:36:34,801 - app - INFO - Starting up application...
2026-01-19 08:36:34,922 - uvicorn.error - INFO - Application startup complete.
2026-01-19 08:37:16,968 - app - INFO - Request: POST /api/v1/auth/login/access-token - Status: 200 - Duration: 1732.60ms
2026-01-19 08:37:16,968 - uvicorn.access - INFO - 127.0.0.1:44468 - "POST /api/v1/auth/login/access-token HTTP/1.1" 200
2026-01-19 08:37:17,052 - app - INFO - Request: POST /api/v1/support/tickets - Status: 200 - Duration: 79.66ms
2026-01-19 08:37:17,052 - uvicorn.access - INFO - 127.0.0.1:44468 - "POST /api/v1/support/tickets HTTP/1.1" 200
2026-01-19 08:37:17,098 - app - INFO - Request: GET /api/v1/support/tickets - Status: 200 - Duration: 38.29ms
2026-01-19 08:37:17,099 - uvicorn.access - INFO - 127.0.0.1:44468 - "GET /api/v1/support/tickets HTTP/1.1" 200
2026-01-19 08:37:17,136 - app - INFO - Request: GET /api/v1/support/tickets/2f50f196-3d42-42ae-a8e9-1ff6987d3153 - Status: 200 - Duration: 30.30ms
2026-01-19 08:37:17,137 - uvicorn.access - INFO - 127.0.0.1:44468 - "GET /api/v1/support/tickets/2f50f196-3d42-42ae-a8e9-1ff6987d3153 HTTP/1.1" 200
2026-01-19 08:37:17,183 - app - INFO - Request: POST /api/v1/support/tickets/2f50f196-3d42-42ae-a8e9-1ff6987d3153/messages - Status: 200 - Duration: 41.67ms
2026-01-19 08:37:17,184 - uvicorn.access - INFO - 127.0.0.1:44468 - "POST /api/v1/support/tickets/2f50f196-3d42-42ae-a8e9-1ff6987d3153/messages HTTP/1.1" 200
2026-01-19 08:37:17,510 - app - INFO - Request: POST /api/v1/auth/login/admin/access-token - Status: 400 - Duration: 319.80ms
2026-01-19 08:37:17,512 - uvicorn.access - INFO - 127.0.0.1:44468 - "POST /api/v1/auth/login/admin/access-token HTTP/1.1" 400
2026-01-19 08:54:42,073 - uvicorn.error - INFO - Started server process [356328]
2026-01-19 08:54:42,073 - uvicorn.error - INFO - Waiting for application startup.
2026-01-19 08:54:42,075 - app - INFO - Starting up application...
2026-01-19 08:54:42,104 - uvicorn.error - INFO - Application startup complete.
2026-01-19 08:55:18,906 - app - INFO - Request: GET /api/v1/support/admin/tickets - Status: 403 - Duration: 11.18ms
2026-01-19 08:55:18,906 - uvicorn.access - INFO - 127.0.0.1:36782 - "GET /api/v1/support/admin/tickets HTTP/1.1" 403
2026-01-19 08:55:18,907 - app - INFO - Request: GET /api/v1/admin/me - Status: 403 - Duration: 11.83ms
2026-01-19 08:55:18,908 - uvicorn.access - INFO - 127.0.0.1:36794 - "GET /api/v1/admin/me HTTP/1.1" 403
2026-01-19 08:55:18,939 - app - INFO - Request: GET /api/v1/support/admin/tickets - Status: 403 - Duration: 7.47ms
2026-01-19 08:55:18,940 - uvicorn.access - INFO - 127.0.0.1:36808 - "GET /api/v1/support/admin/tickets HTTP/1.1" 403
2026-01-19 08:55:18,942 - app - INFO - Request: GET /api/v1/admin/me - Status: 403 - Duration: 5.70ms
2026-01-19 08:55:18,942 - uvicorn.access - INFO - 127.0.0.1:36818 - "GET /api/v1/admin/me HTTP/1.1" 403
2026-01-19 08:55:21,926 - app - INFO - Request: POST /api/v1/auth/login/admin/access-token - Status: 200 - Duration: 432.44ms
2026-01-19 08:55:21,926 - uvicorn.access - INFO - 127.0.0.1:57358 - "POST /api/v1/auth/login/admin/access-token HTTP/1.1" 200
2026-01-19 08:55:23,244 - app - INFO - Request: GET /api/v1/admin/me - Status: 200 - Duration: 29.37ms
2026-01-19 08:55:23,245 - uvicorn.access - INFO - 127.0.0.1:57368 - "GET /api/v1/admin/me HTTP/1.1" 200
2026-01-19 08:55:23,367 - app - INFO - Request: GET /api/v1/admin/me - Status: 200 - Duration: 59.05ms
2026-01-19 08:55:23,368 - uvicorn.access - INFO - 127.0.0.1:57418 - "GET /api/v1/admin/me HTTP/1.1" 200
2026-01-19 08:55:23,407 - app - INFO - Request: GET /api/v1/admin/prop-firms - Status: 200 - Duration: 138.51ms
2026-01-19 08:55:23,407 - uvicorn.access - INFO - 127.0.0.1:57406 - "GET /api/v1/admin/prop-firms HTTP/1.1" 200
2026-01-19 08:55:23,424 - app - INFO - Request: GET /api/v1/admin/affiliates/top - Status: 200 - Duration: 156.38ms
2026-01-19 08:55:23,425 - uvicorn.access - INFO - 127.0.0.1:57392 - "GET /api/v1/admin/affiliates/top?limit=5 HTTP/1.1" 200
2026-01-19 08:55:23,437 - app - INFO - Request: GET /api/v1/admin/affiliates/dashboard - Status: 200 - Duration: 174.09ms
2026-01-19 08:55:23,443 - uvicorn.access - INFO - 127.0.0.1:57382 - "GET /api/v1/admin/affiliates/dashboard HTTP/1.1" 200
2026-01-19 08:55:23,499 - app - INFO - Request: GET /api/v1/admin/prop-firms - Status: 200 - Duration: 53.12ms
2026-01-19 08:55:23,500 - uvicorn.access - INFO - 127.0.0.1:57428 - "GET /api/v1/admin/prop-firms HTTP/1.1" 200
2026-01-19 08:55:23,513 - app - INFO - Request: GET /api/v1/admin/stats - Status: 200 - Duration: 250.35ms
2026-01-19 08:55:23,514 - uvicorn.access - INFO - 127.0.0.1:57378 - "GET /api/v1/admin/stats HTTP/1.1" 200
2026-01-19 08:55:23,533 - app - INFO - Request: GET /api/v1/admin/affiliates/top - Status: 200 - Duration: 73.96ms
2026-01-19 08:55:23,536 - uvicorn.access - INFO - 127.0.0.1:57440 - "GET /api/v1/admin/affiliates/top?limit=5 HTTP/1.1" 200
2026-01-19 08:55:23,615 - app - INFO - Request: GET /api/v1/admin/affiliates/dashboard - Status: 200 - Duration: 132.10ms
2026-01-19 08:55:23,616 - uvicorn.access - INFO - 127.0.0.1:57452 - "GET /api/v1/admin/affiliates/dashboard HTTP/1.1" 200
2026-01-19 08:55:23,678 - app - INFO - Request: GET /api/v1/admin/stats - Status: 200 - Duration: 130.37ms
2026-01-19 08:55:23,679 - uvicorn.access - INFO - 127.0.0.1:57458 - "GET /api/v1/admin/stats HTTP/1.1" 200
2026-01-19 08:55:30,266 - app - INFO - Request: GET /api/v1/support/admin/tickets - Status: 200 - Duration: 69.58ms
2026-01-19 08:55:30,266 - uvicorn.access - INFO - 127.0.0.1:60936 - "GET /api/v1/support/admin/tickets HTTP/1.1" 200
2026-01-19 08:55:30,310 - app - INFO - Request: GET /api/v1/support/admin/tickets - Status: 200 - Duration: 24.86ms
2026-01-19 08:55:30,311 - uvicorn.access - INFO - 127.0.0.1:60942 - "GET /api/v1/support/admin/tickets HTTP/1.1" 200
2026-01-19 08:55:37,979 - app - INFO - Request: GET /api/v1/admin/me - Status: 200 - Duration: 8.63ms
2026-01-19 08:55:37,980 - uvicorn.access - INFO - 127.0.0.1:60958 - "GET /api/v1/admin/me HTTP/1.1" 200
2026-01-19 08:55:38,007 - app - INFO - Request: GET /api/v1/admin/me - Status: 200 - Duration: 9.76ms
2026-01-19 08:55:38,007 - uvicorn.access - INFO - 127.0.0.1:60986 - "GET /api/v1/admin/me HTTP/1.1" 200
2026-01-19 08:55:38,019 - app - INFO - Request: GET /api/v1/support/admin/tickets - Status: 200 - Duration: 45.63ms
2026-01-19 08:55:38,020 - uvicorn.access - INFO - 127.0.0.1:60970 - "GET /api/v1/support/admin/tickets HTTP/1.1" 200
2026-01-19 08:55:38,088 - app - INFO - Request: GET /api/v1/support/admin/tickets - Status: 200 - Duration: 38.22ms
2026-01-19 08:55:38,090 - uvicorn.access - INFO - 127.0.0.1:60998 - "GET /api/v1/support/admin/tickets HTTP/1.1" 200
2026-01-19 08:57:01,286 - app - INFO - Request: POST /api/v1/auth/login/access-token - Status: 200 - Duration: 489.29ms
2026-01-19 08:57:01,296 - uvicorn.access - INFO - 127.0.0.1:51672 - "POST /api/v1/auth/login/access-token HTTP/1.1" 200
2026-01-19 08:57:09,611 - app - INFO - Request: GET /api/v1/users/me - Status: 200 - Duration: 128.68ms
2026-01-19 08:57:09,611 - uvicorn.access - INFO - 127.0.0.1:51674 - "GET /api/v1/users/me HTTP/1.1" 200
2026-01-19 08:57:09,804 - app - INFO - Request: GET /api/v1/users/me - Status: 200 - Duration: 146.63ms
2026-01-19 08:57:09,805 - uvicorn.access - INFO - 127.0.0.1:51682 - "GET /api/v1/users/me HTTP/1.1" 200
2026-01-19 08:57:09,814 - app - INFO - Request: GET /api/v1/prop-firm - Status: 200 - Duration: 98.67ms
2026-01-19 08:57:09,814 - uvicorn.access - INFO - 127.0.0.1:51698 - "GET /api/v1/prop-firm HTTP/1.1" 200
2026-01-19 08:57:10,006 - app - INFO - Request: GET /api/v1/prop-firm - Status: 200 - Duration: 86.30ms
2026-01-19 08:57:10,013 - uvicorn.access - INFO - 127.0.0.1:54330 - "GET /api/v1/prop-firm HTTP/1.1" 200
2026-01-19 08:57:26,980 - app - INFO - Request: GET /api/v1/users/me - Status: 200 - Duration: 67.51ms
2026-01-19 08:57:26,981 - uvicorn.access - INFO - 127.0.0.1:57648 - "GET /api/v1/users/me HTTP/1.1" 200
2026-01-19 08:57:27,256 - app - INFO - Request: GET /api/v1/users/me - Status: 200 - Duration: 190.83ms
2026-01-19 08:57:27,261 - uvicorn.access - INFO - 127.0.0.1:57654 - "GET /api/v1/users/me HTTP/1.1" 200
2026-01-19 08:57:27,347 - app - INFO - Request: GET /api/v1/support/tickets - Status: 200 - Duration: 244.75ms
2026-01-19 08:57:27,347 - uvicorn.access - INFO - 127.0.0.1:57658 - "GET /api/v1/support/tickets HTTP/1.1" 200
2026-01-19 08:57:27,601 - app - INFO - Request: GET /api/v1/support/tickets - Status: 200 - Duration: 167.65ms
2026-01-19 08:57:27,601 - uvicorn.access - INFO - 127.0.0.1:57668 - "GET /api/v1/support/tickets HTTP/1.1" 200
2026-01-19 08:58:49,273 - app - INFO - Request: GET /api/v1/users/me - Status: 200 - Duration: 37.10ms
2026-01-19 08:58:49,274 - uvicorn.access - INFO - 127.0.0.1:48738 - "GET /api/v1/users/me HTTP/1.1" 200
2026-01-19 08:58:49,352 - app - INFO - Request: GET /api/v1/support/tickets - Status: 200 - Duration: 55.87ms
2026-01-19 08:58:49,354 - uvicorn.access - INFO - 127.0.0.1:48746 - "GET /api/v1/support/tickets HTTP/1.1" 200
2026-01-19 09:00:43,330 - app - INFO - Request: GET /api/v1/users/me - Status: 200 - Duration: 29.88ms
2026-01-19 09:00:43,331 - uvicorn.access - INFO - 127.0.0.1:46840 - "GET /api/v1/users/me HTTP/1.1" 200
2026-01-19 09:00:43,391 - app - INFO - Request: GET /api/v1/users/me - Status: 200 - Duration: 39.53ms
2026-01-19 09:00:43,391 - uvicorn.access - INFO - 127.0.0.1:46848 - "GET /api/v1/users/me HTTP/1.1" 200
2026-01-19 09:00:43,405 - app - INFO - Request: GET /api/v1/prop-firm - Status: 200 - Duration: 46.71ms
2026-01-19 09:00:43,410 - uvicorn.access - INFO - 127.0.0.1:46852 - "GET /api/v1/prop-firm HTTP/1.1" 200
2026-01-19 09:00:43,574 - app - INFO - Request: GET /api/v1/prop-firm - Status: 200 - Duration: 71.84ms
2026-01-19 09:00:43,576 - uvicorn.access - INFO - 127.0.0.1:46860 - "GET /api/v1/prop-firm HTTP/1.1" 200
2026-01-19 09:02:54,842 - app - INFO - Request: GET /api/v1/users/me - Status: 200 - Duration: 50.32ms
2026-01-19 09:02:54,843 - uvicorn.access - INFO - 127.0.0.1:47272 - "GET /api/v1/users/me HTTP/1.1" 200
2026-01-19 09:02:54,915 - app - INFO - Request: GET /api/v1/users/me - Status: 200 - Duration: 48.93ms
2026-01-19 09:02:54,915 - uvicorn.access - INFO - 127.0.0.1:47278 - "GET /api/v1/users/me HTTP/1.1" 200
2026-01-19 09:02:54,931 - app - INFO - Request: GET /api/v1/support/tickets - Status: 200 - Duration: 55.00ms
2026-01-19 09:02:54,933 - uvicorn.access - INFO - 127.0.0.1:47284 - "GET /api/v1/support/tickets HTTP/1.1" 200
2026-01-19 09:02:54,994 - app - INFO - Request: GET /api/v1/support/tickets - Status: 200 - Duration: 42.51ms
2026-01-19 09:02:54,995 - uvicorn.access - INFO - 127.0.0.1:47294 - "GET /api/v1/support/tickets HTTP/1.1" 200
2026-01-19 09:03:38,892 - app - INFO - Request: POST /api/v1/support/tickets - Status: 200 - Duration: 86.66ms
2026-01-19 09:03:38,892 - uvicorn.access - INFO - 127.0.0.1:45772 - "POST /api/v1/support/tickets HTTP/1.1" 200
2026-01-19 09:03:38,991 - app - INFO - Request: GET /api/v1/support/tickets/0efaba2b-d61d-4898-9fde-0c0e3ea36157 - Status: 200 - Duration: 69.70ms
2026-01-19 09:03:38,992 - uvicorn.access - INFO - 127.0.0.1:45784 - "GET /api/v1/support/tickets/0efaba2b-d61d-4898-9fde-0c0e3ea36157 HTTP/1.1" 200
2026-01-19 09:03:46,623 - app - INFO - Request: POST /api/v1/support/tickets/0efaba2b-d61d-4898-9fde-0c0e3ea36157/messages - Status: 422 - Duration: 32.69ms
2026-01-19 09:03:46,624 - uvicorn.access - INFO - 127.0.0.1:54426 - "POST /api/v1/support/tickets/0efaba2b-d61d-4898-9fde-0c0e3ea36157/messages HTTP/1.1" 422
2026-01-19 09:03:49,946 - app - INFO - Request: POST /api/v1/support/tickets/0efaba2b-d61d-4898-9fde-0c0e3ea36157/messages - Status: 422 - Duration: 19.63ms
2026-01-19 09:03:49,947 - uvicorn.access - INFO - 127.0.0.1:38736 - "POST /api/v1/support/tickets/0efaba2b-d61d-4898-9fde-0c0e3ea36157/messages HTTP/1.1" 422
2026-01-19 09:04:52,099 - app - INFO - Request: POST /api/v1/auth/login/admin/access-token - Status: 200 - Duration: 543.00ms
2026-01-19 09:04:52,100 - uvicorn.access - INFO - 127.0.0.1:40834 - "POST /api/v1/auth/login/admin/access-token HTTP/1.1" 200
2026-01-19 09:04:53,352 - app - INFO - Request: GET /api/v1/admin/me - Status: 200 - Duration: 7.11ms
2026-01-19 09:04:53,353 - uvicorn.access - INFO - 127.0.0.1:40842 - "GET /api/v1/admin/me HTTP/1.1" 200
2026-01-19 09:04:53,561 - app - INFO - Request: GET /api/v1/admin/me - Status: 200 - Duration: 13.98ms
2026-01-19 09:04:53,562 - uvicorn.access - INFO - 127.0.0.1:40866 - "GET /api/v1/admin/me HTTP/1.1" 200
2026-01-19 09:04:53,585 - app - INFO - Request: GET /api/v1/admin/prop-firms - Status: 200 - Duration: 218.79ms
2026-01-19 09:04:53,585 - uvicorn.access - INFO - 127.0.0.1:40864 - "GET /api/v1/admin/prop-firms HTTP/1.1" 200
2026-01-19 09:04:53,615 - app - INFO - Request: GET /api/v1/admin/affiliates/top - Status: 200 - Duration: 248.67ms
2026-01-19 09:04:53,615 - uvicorn.access - INFO - 127.0.0.1:40858 - "GET /api/v1/admin/affiliates/top?limit=5 HTTP/1.1" 200
2026-01-19 09:04:53,630 - app - INFO - Request: GET /api/v1/admin/affiliates/dashboard - Status: 200 - Duration: 263.70ms
2026-01-19 09:04:53,632 - uvicorn.access - INFO - 127.0.0.1:40850 - "GET /api/v1/admin/affiliates/dashboard HTTP/1.1" 200
2026-01-19 09:04:53,757 - app - INFO - Request: GET /api/v1/admin/prop-firms - Status: 200 - Duration: 122.71ms
2026-01-19 09:04:53,761 - uvicorn.access - INFO - 127.0.0.1:40880 - "GET /api/v1/admin/prop-firms HTTP/1.1" 200
2026-01-19 09:04:53,811 - app - INFO - Request: GET /api/v1/admin/affiliates/top - Status: 200 - Duration: 130.18ms
2026-01-19 09:04:53,811 - uvicorn.access - INFO - 127.0.0.1:40890 - "GET /api/v1/admin/affiliates/top?limit=5 HTTP/1.1" 200
2026-01-19 09:04:53,814 - app - INFO - Request: GET /api/v1/admin/stats - Status: 200 - Duration: 447.94ms
2026-01-19 09:04:53,815 - uvicorn.access - INFO - 127.0.0.1:40844 - "GET /api/v1/admin/stats HTTP/1.1" 200
2026-01-19 09:04:53,841 - app - INFO - Request: GET /api/v1/admin/affiliates/dashboard - Status: 200 - Duration: 132.22ms
2026-01-19 09:04:53,843 - uvicorn.access - INFO - 127.0.0.1:40896 - "GET /api/v1/admin/affiliates/dashboard HTTP/1.1" 200
2026-01-19 09:04:53,993 - app - INFO - Request: GET /api/v1/admin/stats - Status: 200 - Duration: 97.84ms
2026-01-19 09:04:53,996 - uvicorn.access - INFO - 127.0.0.1:40900 - "GET /api/v1/admin/stats HTTP/1.1" 200
2026-01-19 09:04:56,520 - app - INFO - Request: GET /api/v1/support/admin/tickets - Status: 200 - Duration: 15.62ms
2026-01-19 09:04:56,520 - uvicorn.access - INFO - 127.0.0.1:40906 - "GET /api/v1/support/admin/tickets HTTP/1.1" 200
2026-01-19 09:04:56,653 - app - INFO - Request: GET /api/v1/support/admin/tickets - Status: 200 - Duration: 77.40ms
2026-01-19 09:04:56,653 - uvicorn.access - INFO - 127.0.0.1:40920 - "GET /api/v1/support/admin/tickets HTTP/1.1" 200
2026-01-19 09:05:17,438 - app - INFO - Request: GET /api/v1/admin/me - Status: 200 - Duration: 23.46ms
2026-01-19 09:05:17,439 - uvicorn.access - INFO - 127.0.0.1:57034 - "GET /api/v1/admin/me HTTP/1.1" 200
2026-01-19 09:05:17,500 - app - INFO - Request: GET /api/v1/admin/me - Status: 200 - Duration: 32.75ms
2026-01-19 09:05:17,508 - uvicorn.access - INFO - 127.0.0.1:57046 - "GET /api/v1/admin/me HTTP/1.1" 200
2026-01-19 09:05:17,524 - app - INFO - Request: GET /api/v1/support/admin/tickets - Status: 200 - Duration: 101.81ms
2026-01-19 09:05:17,528 - uvicorn.access - INFO - 127.0.0.1:57038 - "GET /api/v1/support/admin/tickets HTTP/1.1" 200
2026-01-19 09:05:17,641 - app - INFO - Request: GET /api/v1/support/admin/tickets - Status: 200 - Duration: 48.50ms
2026-01-19 09:05:17,641 - uvicorn.access - INFO - 127.0.0.1:57052 - "GET /api/v1/support/admin/tickets HTTP/1.1" 200
2026-01-19 09:06:23,645 - app - INFO - Request: GET /api/v1/admin/transactions - Status: 200 - Duration: 53.32ms
2026-01-19 09:06:23,647 - uvicorn.access - INFO - 127.0.0.1:40560 - "GET /api/v1/admin/transactions HTTP/1.1" 200
2026-01-19 09:06:23,749 - app - INFO - Request: GET /api/v1/admin/transactions - Status: 200 - Duration: 11.20ms
2026-01-19 09:06:23,749 - uvicorn.access - INFO - 127.0.0.1:40566 - "GET /api/v1/admin/transactions HTTP/1.1" 200
2026-01-19 09:06:26,124 - app - INFO - Request: GET /api/v1/admin/prop-firms - Status: 200 - Duration: 26.09ms
2026-01-19 09:06:26,128 - uvicorn.access - INFO - 127.0.0.1:40582 - "GET /api/v1/admin/prop-firms HTTP/1.1" 200
2026-01-19 09:06:26,242 - app - INFO - Request: GET /api/v1/admin/prop-firms - Status: 200 - Duration: 53.58ms
2026-01-19 09:06:26,244 - uvicorn.access - INFO - 127.0.0.1:40592 - "GET /api/v1/admin/prop-firms HTTP/1.1" 200
2026-01-19 09:06:27,321 - app - INFO - Request: GET /api/v1/admin/prop-firms - Status: 200 - Duration: 22.85ms
2026-01-19 09:06:27,322 - uvicorn.access - INFO - 127.0.0.1:40600 - "GET /api/v1/admin/prop-firms HTTP/1.1" 200
2026-01-19 09:06:27,402 - app - INFO - Request: GET /api/v1/admin/prop-firms - Status: 200 - Duration: 36.45ms
2026-01-19 09:06:27,404 - uvicorn.access - INFO - 127.0.0.1:40614 - "GET /api/v1/admin/prop-firms HTTP/1.1" 200
2026-01-19 09:06:29,089 - app - INFO - Request: GET /api/v1/admin/prop-firms - Status: 200 - Duration: 101.39ms
2026-01-19 09:06:29,099 - uvicorn.access - INFO - 127.0.0.1:40618 - "GET /api/v1/admin/prop-firms HTTP/1.1" 200
2026-01-19 09:06:29,195 - app - INFO - Request: GET /api/v1/admin/prop-firms - Status: 200 - Duration: 63.28ms
2026-01-19 09:06:29,196 - uvicorn.access - INFO - 127.0.0.1:40630 - "GET /api/v1/admin/prop-firms HTTP/1.1" 200
2026-01-19 09:06:34,781 - app - INFO - Request: GET /api/v1/admin/prop-firms - Status: 200 - Duration: 45.89ms
2026-01-19 09:06:34,783 - uvicorn.access - INFO - 127.0.0.1:49776 - "GET /api/v1/admin/prop-firms HTTP/1.1" 200
2026-01-19 09:06:34,847 - app - INFO - Request: GET /api/v1/admin/prop-firms - Status: 200 - Duration: 16.55ms
2026-01-19 09:06:34,848 - uvicorn.access - INFO - 127.0.0.1:49788 - "GET /api/v1/admin/prop-firms HTTP/1.1" 200
2026-01-19 09:06:37,344 - app - INFO - Request: GET /api/v1/admin/affiliates/dashboard - Status: 200 - Duration: 174.63ms
2026-01-19 09:06:37,348 - uvicorn.access - INFO - 127.0.0.1:49800 - "GET /api/v1/admin/affiliates/dashboard HTTP/1.1" 200
2026-01-19 09:06:37,393 - app - INFO - Request: GET /api/v1/admin/affiliates/settings/global - Status: 200 - Duration: 119.59ms
2026-01-19 09:06:37,394 - uvicorn.access - INFO - 127.0.0.1:49810 - "GET /api/v1/admin/affiliates/settings/global HTTP/1.1" 200
2026-01-19 09:06:37,398 - app - INFO - Request: GET /api/v1/admin/affiliates/products - Status: 200 - Duration: 176.66ms
2026-01-19 09:06:37,403 - uvicorn.access - INFO - 127.0.0.1:49804 - "GET /api/v1/admin/affiliates/products HTTP/1.1" 200
2026-01-19 09:06:37,447 - app - INFO - Request: GET /api/v1/admin/affiliates/top - Status: 200 - Duration: 226.14ms
2026-01-19 09:06:37,447 - uvicorn.access - INFO - 127.0.0.1:49802 - "GET /api/v1/admin/affiliates/top?limit=10 HTTP/1.1" 200
2026-01-19 09:06:37,465 - app - INFO - Request: GET /api/v1/admin/affiliates/dashboard - Status: 200 - Duration: 36.99ms
2026-01-19 09:06:37,466 - uvicorn.access - INFO - 127.0.0.1:49826 - "GET /api/v1/admin/affiliates/dashboard HTTP/1.1" 200
2026-01-19 09:06:37,609 - app - INFO - Request: GET /api/v1/admin/affiliates/products - Status: 200 - Duration: 69.67ms
2026-01-19 09:06:37,613 - uvicorn.access - INFO - 127.0.0.1:49836 - "GET /api/v1/admin/affiliates/products HTTP/1.1" 200
2026-01-19 09:06:37,616 - app - INFO - Request: GET /api/v1/admin/affiliates/settings/global - Status: 200 - Duration: 72.19ms
2026-01-19 09:06:37,617 - uvicorn.access - INFO - 127.0.0.1:49842 - "GET /api/v1/admin/affiliates/settings/global HTTP/1.1" 200
2026-01-19 09:06:37,650 - app - INFO - Request: GET /api/v1/admin/affiliates/top - Status: 200 - Duration: 85.52ms
2026-01-19 09:06:37,651 - uvicorn.access - INFO - 127.0.0.1:49854 - "GET /api/v1/admin/affiliates/top?limit=10 HTTP/1.1" 200
2026-01-19 09:06:40,301 - app - INFO - Request: GET /api/v1/admin/users - Status: 200 - Duration: 108.05ms
2026-01-19 09:06:40,302 - uvicorn.access - INFO - 127.0.0.1:59080 - "GET /api/v1/admin/users HTTP/1.1" 200
2026-01-19 09:06:40,363 - app - INFO - Request: GET /api/v1/admin/users - Status: 200 - Duration: 19.27ms
2026-01-19 09:06:40,363 - uvicorn.access - INFO - 127.0.0.1:59092 - "GET /api/v1/admin/users HTTP/1.1" 200
2026-01-19 09:06:42,453 - app - INFO - Request: GET /api/v1/admin/prop-firms - Status: 200 - Duration: 120.14ms
2026-01-19 09:06:42,454 - uvicorn.access - INFO - 127.0.0.1:59138 - "GET /api/v1/admin/prop-firms HTTP/1.1" 200
2026-01-19 09:06:42,488 - app - INFO - Request: GET /api/v1/admin/affiliates/top - Status: 200 - Duration: 155.13ms
2026-01-19 09:06:42,490 - uvicorn.access - INFO - 127.0.0.1:59122 - "GET /api/v1/admin/affiliates/top?limit=5 HTTP/1.1" 200
2026-01-19 09:06:42,544 - app - INFO - Request: GET /api/v1/admin/affiliates/dashboard - Status: 200 - Duration: 211.88ms
2026-01-19 09:06:42,545 - uvicorn.access - INFO - 127.0.0.1:59116 - "GET /api/v1/admin/affiliates/dashboard HTTP/1.1" 200
2026-01-19 09:06:42,665 - app - INFO - Request: GET /api/v1/admin/prop-firms - Status: 200 - Duration: 151.18ms
2026-01-19 09:06:42,665 - uvicorn.access - INFO - 127.0.0.1:59152 - "GET /api/v1/admin/prop-firms HTTP/1.1" 200
2026-01-19 09:06:42,809 - app - INFO - Request: GET /api/v1/admin/stats - Status: 200 - Duration: 477.18ms
2026-01-19 09:06:42,815 - uvicorn.access - INFO - 127.0.0.1:59106 - "GET /api/v1/admin/stats HTTP/1.1" 200
2026-01-19 09:06:42,831 - app - INFO - Request: GET /api/v1/admin/affiliates/top - Status: 200 - Duration: 181.46ms
2026-01-19 09:06:42,831 - uvicorn.access - INFO - 127.0.0.1:59166 - "GET /api/v1/admin/affiliates/top?limit=5 HTTP/1.1" 200
2026-01-19 09:06:42,867 - app - INFO - Request: GET /api/v1/admin/affiliates/dashboard - Status: 200 - Duration: 147.80ms
2026-01-19 09:06:42,868 - uvicorn.access - INFO - 127.0.0.1:59168 - "GET /api/v1/admin/affiliates/dashboard HTTP/1.1" 200
2026-01-19 09:06:43,031 - app - INFO - Request: GET /api/v1/admin/stats - Status: 200 - Duration: 143.00ms
2026-01-19 09:06:43,032 - uvicorn.access - INFO - 127.0.0.1:59178 - "GET /api/v1/admin/stats HTTP/1.1" 200
2026-01-19 09:06:49,065 - app - INFO - Request: GET /api/v1/admin/me - Status: 200 - Duration: 50.75ms
2026-01-19 09:06:49,065 - uvicorn.access - INFO - 127.0.0.1:59180 - "GET /api/v1/admin/me HTTP/1.1" 200
2026-01-19 09:06:49,259 - app - INFO - Request: GET /api/v1/admin/prop-firms - Status: 200 - Duration: 107.80ms
2026-01-19 09:06:49,260 - uvicorn.access - INFO - 127.0.0.1:59212 - "GET /api/v1/admin/prop-firms HTTP/1.1" 200
2026-01-19 09:06:49,261 - app - INFO - Request: GET /api/v1/admin/me - Status: 200 - Duration: 61.93ms
2026-01-19 09:06:49,262 - uvicorn.access - INFO - 127.0.0.1:59218 - "GET /api/v1/admin/me HTTP/1.1" 200
2026-01-19 09:06:49,350 - app - INFO - Request: GET /api/v1/admin/affiliates/top - Status: 200 - Duration: 218.83ms
2026-01-19 09:06:49,379 - uvicorn.access - INFO - 127.0.0.1:59208 - "GET /api/v1/admin/affiliates/top?limit=5 HTTP/1.1" 200
2026-01-19 09:06:49,475 - app - INFO - Request: GET /api/v1/admin/affiliates/dashboard - Status: 200 - Duration: 343.35ms
2026-01-19 09:06:49,475 - uvicorn.access - INFO - 127.0.0.1:59194 - "GET /api/v1/admin/affiliates/dashboard HTTP/1.1" 200
2026-01-19 09:06:49,586 - app - INFO - Request: GET /api/v1/admin/prop-firms - Status: 200 - Duration: 169.48ms
2026-01-19 09:06:49,586 - uvicorn.access - INFO - 127.0.0.1:59228 - "GET /api/v1/admin/prop-firms HTTP/1.1" 200
2026-01-19 09:06:49,626 - app - INFO - Request: GET /api/v1/admin/affiliates/top - Status: 200 - Duration: 171.12ms
2026-01-19 09:06:49,630 - uvicorn.access - INFO - 127.0.0.1:59238 - "GET /api/v1/admin/affiliates/top?limit=5 HTTP/1.1" 200
2026-01-19 09:06:49,663 - app - INFO - Request: GET /api/v1/admin/stats - Status: 200 - Duration: 531.56ms
2026-01-19 09:06:49,667 - uvicorn.access - INFO - 127.0.0.1:59188 - "GET /api/v1/admin/stats HTTP/1.1" 200
2026-01-19 09:06:49,696 - app - INFO - Request: GET /api/v1/admin/affiliates/dashboard - Status: 200 - Duration: 164.75ms
2026-01-19 09:06:49,700 - uvicorn.access - INFO - 127.0.0.1:59244 - "GET /api/v1/admin/affiliates/dashboard HTTP/1.1" 200
2026-01-19 09:06:49,890 - app - INFO - Request: GET /api/v1/admin/stats - Status: 200 - Duration: 143.31ms
2026-01-19 09:06:49,890 - uvicorn.access - INFO - 127.0.0.1:59256 - "GET /api/v1/admin/stats HTTP/1.1" 200
2026-01-19 09:07:45,983 - app - INFO - Request: GET /docs - Status: 200 - Duration: 1.37ms
2026-01-19 09:07:45,985 - uvicorn.access - INFO - 127.0.0.1:40456 - "GET /docs HTTP/1.1" 200
2026-01-19 09:07:46,743 - app - INFO - Request: GET /openapi.json - Status: 200 - Duration: 427.28ms
2026-01-19 09:07:46,744 - uvicorn.access - INFO - 127.0.0.1:40456 - "GET /openapi.json HTTP/1.1" 200
2026-01-19 09:08:44,105 - app - INFO - Request: GET /api/v1/support/admin/tickets - Status: 200 - Duration: 68.52ms
2026-01-19 09:08:44,110 - uvicorn.access - INFO - 127.0.0.1:33658 - "GET /api/v1/support/admin/tickets HTTP/1.1" 200
2026-01-19 09:08:44,285 - app - INFO - Request: GET /api/v1/support/admin/tickets - Status: 200 - Duration: 82.36ms
2026-01-19 09:08:44,296 - uvicorn.access - INFO - 127.0.0.1:33670 - "GET /api/v1/support/admin/tickets HTTP/1.1" 200
2026-01-19 09:08:50,493 - app - INFO - Request: GET /api/v1/support/admin/tickets/0efaba2b-d61d-4898-9fde-0c0e3ea36157 - Status: 200 - Duration: 44.06ms
2026-01-19 09:08:50,497 - uvicorn.access - INFO - 127.0.0.1:54694 - "GET /api/v1/support/admin/tickets/0efaba2b-d61d-4898-9fde-0c0e3ea36157 HTTP/1.1" 200
2026-01-19 09:08:54,488 - app - INFO - Request: POST /api/v1/support/admin/tickets/0efaba2b-d61d-4898-9fde-0c0e3ea36157/messages - Status: 200 - Duration: 84.40ms
2026-01-19 09:08:54,497 - uvicorn.access - INFO - 127.0.0.1:54696 - "POST /api/v1/support/admin/tickets/0efaba2b-d61d-4898-9fde-0c0e3ea36157/messages HTTP/1.1" 200
2026-01-19 09:09:00,508 - app - INFO - Request: POST /api/v1/support/admin/tickets/0efaba2b-d61d-4898-9fde-0c0e3ea36157/messages - Status: 200 - Duration: 201.59ms
2026-01-19 09:09:00,508 - uvicorn.access - INFO - 127.0.0.1:43926 - "POST /api/v1/support/admin/tickets/0efaba2b-d61d-4898-9fde-0c0e3ea36157/messages HTTP/1.1" 200
2026-01-19 09:09:08,474 - app - INFO - Request: GET /api/v1/admin/me - Status: 200 - Duration: 16.79ms
2026-01-19 09:09:08,475 - uvicorn.access - INFO - 127.0.0.1:43928 - "GET /api/v1/admin/me HTTP/1.1" 200
2026-01-19 09:09:08,538 - app - INFO - Request: GET /api/v1/support/admin/tickets - Status: 200 - Duration: 81.38ms
2026-01-19 09:09:08,540 - uvicorn.access - INFO - 127.0.0.1:43942 - "GET /api/v1/support/admin/tickets HTTP/1.1" 200
2026-01-19 09:09:08,665 - app - INFO - Request: GET /api/v1/admin/me - Status: 200 - Duration: 96.55ms
2026-01-19 09:09:08,672 - uvicorn.access - INFO - 127.0.0.1:43950 - "GET /api/v1/admin/me HTTP/1.1" 200
2026-01-19 09:09:08,761 - app - INFO - Request: GET /api/v1/support/admin/tickets - Status: 200 - Duration: 161.13ms
2026-01-19 09:09:08,768 - uvicorn.access - INFO - 127.0.0.1:43964 - "GET /api/v1/support/admin/tickets HTTP/1.1" 200
2026-01-19 09:09:10,905 - app - INFO - Request: GET /api/v1/support/admin/tickets/0efaba2b-d61d-4898-9fde-0c0e3ea36157 - Status: 200 - Duration: 64.30ms
2026-01-19 09:09:10,907 - uvicorn.access - INFO - 127.0.0.1:44834 - "GET /api/v1/support/admin/tickets/0efaba2b-d61d-4898-9fde-0c0e3ea36157 HTTP/1.1" 200
2026-01-19 09:09:26,946 - app - INFO - Request: GET /api/v1/admin/prop-firms - Status: 200 - Duration: 125.81ms
2026-01-19 09:09:26,946 - uvicorn.access - INFO - 127.0.0.1:42226 - "GET /api/v1/admin/prop-firms HTTP/1.1" 200
2026-01-19 09:09:26,960 - app - INFO - Request: GET /api/v1/admin/affiliates/dashboard - Status: 200 - Duration: 219.72ms
2026-01-19 09:09:26,962 - uvicorn.access - INFO - 127.0.0.1:42210 - "GET /api/v1/admin/affiliates/dashboard HTTP/1.1" 200
2026-01-19 09:09:26,963 - app - INFO - Request: GET /api/v1/admin/affiliates/top - Status: 200 - Duration: 143.71ms
2026-01-19 09:09:26,966 - uvicorn.access - INFO - 127.0.0.1:42218 - "GET /api/v1/admin/affiliates/top?limit=5 HTTP/1.1" 200
2026-01-19 09:09:27,024 - app - INFO - Request: GET /api/v1/admin/stats - Status: 200 - Duration: 341.04ms
2026-01-19 09:09:27,027 - uvicorn.access - INFO - 127.0.0.1:42206 - "GET /api/v1/admin/stats HTTP/1.1" 200
2026-01-19 09:09:27,047 - app - INFO - Request: GET /api/v1/admin/prop-firms - Status: 200 - Duration: 33.46ms
2026-01-19 09:09:27,048 - uvicorn.access - INFO - 127.0.0.1:42236 - "GET /api/v1/admin/prop-firms HTTP/1.1" 200
2026-01-19 09:09:27,321 - app - INFO - Request: GET /api/v1/admin/affiliates/dashboard - Status: 200 - Duration: 177.87ms
2026-01-19 09:09:27,325 - uvicorn.access - INFO - 127.0.0.1:42242 - "GET /api/v1/admin/affiliates/dashboard HTTP/1.1" 200
2026-01-19 09:09:27,335 - app - INFO - Request: GET /api/v1/admin/affiliates/top - Status: 200 - Duration: 148.03ms
2026-01-19 09:09:27,335 - uvicorn.access - INFO - 127.0.0.1:42250 - "GET /api/v1/admin/affiliates/top?limit=5 HTTP/1.1" 200
2026-01-19 09:09:27,456 - app - INFO - Request: GET /api/v1/admin/stats - Status: 200 - Duration: 242.42ms
2026-01-19 09:09:27,459 - uvicorn.access - INFO - 127.0.0.1:42260 - "GET /api/v1/admin/stats HTTP/1.1" 200
2026-01-19 09:09:39,635 - app - INFO - Request: POST /api/v1/auth/login/access-token - Status: 200 - Duration: 873.78ms
2026-01-19 09:09:39,638 - uvicorn.access - INFO - 127.0.0.1:40452 - "POST /api/v1/auth/login/access-token HTTP/1.1" 200
2026-01-19 09:09:43,580 - app - INFO - Request: GET /api/v1/users/me - Status: 200 - Duration: 181.84ms
2026-01-19 09:09:43,584 - uvicorn.access - INFO - 127.0.0.1:39746 - "GET /api/v1/users/me HTTP/1.1" 200
2026-01-19 09:09:43,670 - app - INFO - Request: GET /api/v1/users/me - Status: 200 - Duration: 66.41ms
2026-01-19 09:09:43,671 - uvicorn.access - INFO - 127.0.0.1:39758 - "GET /api/v1/users/me HTTP/1.1" 200
2026-01-19 09:09:43,728 - app - INFO - Request: GET /api/v1/prop-firm - Status: 200 - Duration: 88.06ms
2026-01-19 09:09:43,732 - uvicorn.access - INFO - 127.0.0.1:39772 - "GET /api/v1/prop-firm HTTP/1.1" 200
2026-01-19 09:09:43,890 - app - INFO - Request: GET /api/v1/prop-firm - Status: 200 - Duration: 110.51ms
2026-01-19 09:09:43,891 - uvicorn.access - INFO - 127.0.0.1:39778 - "GET /api/v1/prop-firm HTTP/1.1" 200
2026-01-19 09:09:47,733 - app - INFO - Request: GET /api/v1/users/me - Status: 200 - Duration: 18.18ms
2026-01-19 09:09:47,734 - uvicorn.access - INFO - 127.0.0.1:39786 - "GET /api/v1/users/me HTTP/1.1" 200
2026-01-19 09:09:47,926 - app - INFO - Request: GET /api/v1/users/me - Status: 200 - Duration: 169.48ms
2026-01-19 09:09:47,930 - uvicorn.access - INFO - 127.0.0.1:39788 - "GET /api/v1/users/me HTTP/1.1" 200
2026-01-19 09:09:48,029 - app - INFO - Request: GET /api/v1/support/tickets - Status: 200 - Duration: 162.08ms
2026-01-19 09:09:48,030 - uvicorn.access - INFO - 127.0.0.1:39790 - "GET /api/v1/support/tickets HTTP/1.1" 200
2026-01-19 09:09:48,202 - app - INFO - Request: GET /api/v1/support/tickets - Status: 200 - Duration: 116.11ms
2026-01-19 09:09:48,205 - uvicorn.access - INFO - 127.0.0.1:39802 - "GET /api/v1/support/tickets HTTP/1.1" 200
2026-01-19 09:09:50,226 - app - INFO - Request: GET /api/v1/support/tickets/0efaba2b-d61d-4898-9fde-0c0e3ea36157 - Status: 200 - Duration: 169.51ms
2026-01-19 09:09:50,228 - uvicorn.access - INFO - 127.0.0.1:54850 - "GET /api/v1/support/tickets/0efaba2b-d61d-4898-9fde-0c0e3ea36157 HTTP/1.1" 200
2026-01-19 09:14:01,579 - app - INFO - Request: GET /api/v1/users/me - Status: 200 - Duration: 19.54ms
2026-01-19 09:14:01,580 - uvicorn.access - INFO - 127.0.0.1:59288 - "GET /api/v1/users/me HTTP/1.1" 200
2026-01-19 09:14:01,652 - app - INFO - Request: GET /api/v1/users/me - Status: 200 - Duration: 54.58ms
2026-01-19 09:14:01,656 - uvicorn.access - INFO - 127.0.0.1:59292 - "GET /api/v1/users/me HTTP/1.1" 200
2026-01-19 09:14:01,705 - app - INFO - Request: GET /api/v1/prop-firm - Status: 200 - Duration: 81.79ms
2026-01-19 09:14:01,705 - uvicorn.access - INFO - 127.0.0.1:59302 - "GET /api/v1/prop-firm HTTP/1.1" 200
2026-01-19 09:14:01,768 - app - INFO - Request: GET /api/v1/prop-firm - Status: 200 - Duration: 43.68ms
2026-01-19 09:14:01,769 - uvicorn.access - INFO - 127.0.0.1:59314 - "GET /api/v1/prop-firm HTTP/1.1" 200
2026-01-19 09:16:18,246 - app - INFO - Request: POST /api/v1/auth/login/admin/access-token - Status: 200 - Duration: 419.96ms
2026-01-19 09:16:18,247 - uvicorn.access - INFO - 127.0.0.1:40636 - "POST /api/v1/auth/login/admin/access-token HTTP/1.1" 200
2026-01-19 09:16:19,715 - app - INFO - Request: GET /api/v1/admin/me - Status: 200 - Duration: 39.55ms
2026-01-19 09:16:19,716 - uvicorn.access - INFO - 127.0.0.1:40638 - "GET /api/v1/admin/me HTTP/1.1" 200
2026-01-19 09:16:19,778 - app - INFO - Request: GET /api/v1/admin/me - Status: 200 - Duration: 31.47ms
2026-01-19 09:16:19,778 - uvicorn.access - INFO - 127.0.0.1:40692 - "GET /api/v1/admin/me HTTP/1.1" 200
2026-01-19 09:16:19,786 - app - INFO - Request: GET /api/v1/admin/prop-firms - Status: 200 - Duration: 64.95ms
2026-01-19 09:16:19,786 - uvicorn.access - INFO - 127.0.0.1:40684 - "GET /api/v1/admin/prop-firms HTTP/1.1" 200
2026-01-19 09:16:19,787 - app - INFO - Request: GET /api/v1/admin/affiliates/top - Status: 200 - Duration: 72.59ms
2026-01-19 09:16:19,787 - uvicorn.access - INFO - 127.0.0.1:40682 - "GET /api/v1/admin/affiliates/top?limit=5 HTTP/1.1" 200
2026-01-19 09:16:19,807 - app - INFO - Request: GET /api/v1/admin/affiliates/dashboard - Status: 200 - Duration: 95.78ms
2026-01-19 09:16:19,808 - uvicorn.access - INFO - 127.0.0.1:40666 - "GET /api/v1/admin/affiliates/dashboard HTTP/1.1" 200
2026-01-19 09:16:19,856 - app - INFO - Request: GET /api/v1/admin/prop-firms - Status: 200 - Duration: 27.82ms
2026-01-19 09:16:19,856 - uvicorn.access - INFO - 127.0.0.1:40718 - "GET /api/v1/admin/prop-firms HTTP/1.1" 200
2026-01-19 09:16:19,869 - app - INFO - Request: GET /api/v1/admin/affiliates/top - Status: 200 - Duration: 46.20ms
2026-01-19 09:16:19,869 - uvicorn.access - INFO - 127.0.0.1:40702 - "GET /api/v1/admin/affiliates/top?limit=5 HTTP/1.1" 200
2026-01-19 09:16:19,876 - app - INFO - Request: GET /api/v1/admin/stats - Status: 200 - Duration: 166.06ms
2026-01-19 09:16:19,879 - uvicorn.access - INFO - 127.0.0.1:40652 - "GET /api/v1/admin/stats HTTP/1.1" 200
2026-01-19 09:16:19,927 - app - INFO - Request: GET /api/v1/admin/affiliates/dashboard - Status: 200 - Duration: 75.52ms
2026-01-19 09:16:19,928 - uvicorn.access - INFO - 127.0.0.1:40720 - "GET /api/v1/admin/affiliates/dashboard HTTP/1.1" 200
2026-01-19 09:16:19,970 - app - INFO - Request: GET /api/v1/admin/stats - Status: 200 - Duration: 37.08ms
2026-01-19 09:16:19,971 - uvicorn.access - INFO - 127.0.0.1:36870 - "GET /api/v1/admin/stats HTTP/1.1" 200
2026-01-19 09:16:24,246 - app - INFO - Request: GET /api/v1/support/admin/tickets - Status: 200 - Duration: 14.02ms
2026-01-19 09:16:24,246 - uvicorn.access - INFO - 127.0.0.1:36872 - "GET /api/v1/support/admin/tickets HTTP/1.1" 200
2026-01-19 09:16:24,284 - app - INFO - Request: GET /api/v1/support/admin/tickets - Status: 200 - Duration: 25.48ms
2026-01-19 09:16:24,284 - uvicorn.access - INFO - 127.0.0.1:36884 - "GET /api/v1/support/admin/tickets HTTP/1.1" 200
2026-01-19 09:16:36,834 - app - INFO - Request: GET /api/v1/admin/me - Status: 200 - Duration: 37.51ms
2026-01-19 09:16:36,839 - uvicorn.access - INFO - 127.0.0.1:52494 - "GET /api/v1/admin/me HTTP/1.1" 200
2026-01-19 09:16:36,905 - app - INFO - Request: GET /api/v1/admin/me - Status: 200 - Duration: 19.44ms
2026-01-19 09:16:36,908 - uvicorn.access - INFO - 127.0.0.1:52514 - "GET /api/v1/admin/me HTTP/1.1" 200
2026-01-19 09:16:36,945 - app - INFO - Request: GET /api/v1/support/admin/tickets - Status: 200 - Duration: 135.20ms
2026-01-19 09:16:36,948 - uvicorn.access - INFO - 127.0.0.1:52500 - "GET /api/v1/support/admin/tickets HTTP/1.1" 200
2026-01-19 09:16:37,018 - app - INFO - Request: GET /api/v1/support/admin/tickets - Status: 200 - Duration: 48.77ms
2026-01-19 09:16:37,019 - uvicorn.access - INFO - 127.0.0.1:52524 - "GET /api/v1/support/admin/tickets HTTP/1.1" 200
2026-01-19 09:20:25,546 - app - INFO - Request: GET /api/v1/support/admin/tickets/2f50f196-3d42-42ae-a8e9-1ff6987d3153 - Status: 200 - Duration: 61.92ms
2026-01-19 09:20:25,549 - uvicorn.access - INFO - 127.0.0.1:38164 - "GET /api/v1/support/admin/tickets/2f50f196-3d42-42ae-a8e9-1ff6987d3153 HTTP/1.1" 200
2026-01-19 09:20:30,170 - app - INFO - Request: PATCH /api/v1/support/admin/tickets/2f50f196-3d42-42ae-a8e9-1ff6987d3153/status - Status: 200 - Duration: 103.37ms
2026-01-19 09:20:30,172 - uvicorn.access - INFO - 127.0.0.1:50996 - "PATCH /api/v1/support/admin/tickets/2f50f196-3d42-42ae-a8e9-1ff6987d3153/status HTTP/1.1" 200
2026-01-19 09:20:58,665 - app - INFO - Request: POST /api/v1/support/admin/tickets/2f50f196-3d42-42ae-a8e9-1ff6987d3153/messages - Status: 400 - Duration: 19.53ms
2026-01-19 09:20:58,668 - uvicorn.access - INFO - 127.0.0.1:60734 - "POST /api/v1/support/admin/tickets/2f50f196-3d42-42ae-a8e9-1ff6987d3153/messages HTTP/1.1" 400
2026-01-19 09:21:05,967 - app - INFO - Request: PATCH /api/v1/support/admin/tickets/2f50f196-3d42-42ae-a8e9-1ff6987d3153/status - Status: 200 - Duration: 146.74ms
2026-01-19 09:21:05,967 - uvicorn.access - INFO - 127.0.0.1:44456 - "PATCH /api/v1/support/admin/tickets/2f50f196-3d42-42ae-a8e9-1ff6987d3153/status HTTP/1.1" 200
2026-01-19 09:21:08,183 - app - INFO - Request: POST /api/v1/support/admin/tickets/2f50f196-3d42-42ae-a8e9-1ff6987d3153/messages - Status: 200 - Duration: 73.61ms
2026-01-19 09:21:08,184 - uvicorn.access - INFO - 127.0.0.1:44458 - "POST /api/v1/support/admin/tickets/2f50f196-3d42-42ae-a8e9-1ff6987d3153/messages HTTP/1.1" 200
2026-01-19 09:21:29,921 - app - INFO - Request: GET /api/v1/admin/me - Status: 200 - Duration: 12.51ms
2026-01-19 09:21:29,924 - uvicorn.access - INFO - 127.0.0.1:43192 - "GET /api/v1/admin/me HTTP/1.1" 200
2026-01-19 09:21:29,974 - app - INFO - Request: GET /api/v1/support/admin/tickets - Status: 200 - Duration: 42.72ms
2026-01-19 09:21:29,975 - uvicorn.access - INFO - 127.0.0.1:57416 - "GET /api/v1/support/admin/tickets HTTP/1.1" 200
2026-01-19 09:21:30,089 - app - INFO - Request: GET /api/v1/admin/me - Status: 200 - Duration: 98.51ms
2026-01-19 09:21:30,091 - uvicorn.access - INFO - 127.0.0.1:57428 - "GET /api/v1/admin/me HTTP/1.1" 200
2026-01-19 09:21:30,148 - app - INFO - Request: GET /api/v1/support/admin/tickets - Status: 200 - Duration: 101.34ms
2026-01-19 09:21:30,150 - uvicorn.access - INFO - 127.0.0.1:57440 - "GET /api/v1/support/admin/tickets HTTP/1.1" 200
2026-01-19 09:22:54,914 - app - INFO - Request: GET /api/v1/support - Status: 200 - Duration: 132.86ms
2026-01-19 09:22:54,918 - uvicorn.access - INFO - 127.0.0.1:53406 - "GET /api/v1/support?skip=0&limit=100 HTTP/1.1" 200
2026-01-19 09:22:55,039 - app - INFO - Request: GET /api/v1/support - Status: 200 - Duration: 83.53ms
2026-01-19 09:22:55,039 - uvicorn.access - INFO - 127.0.0.1:53418 - "GET /api/v1/support?skip=0&limit=100 HTTP/1.1" 200
2026-01-19 09:23:49,787 - app - INFO - Request: POST /api/v1/auth/login/access-token - Status: 200 - Duration: 1319.85ms
2026-01-19 09:23:49,789 - uvicorn.access - INFO - 127.0.0.1:41846 - "POST /api/v1/auth/login/access-token HTTP/1.1" 200
2026-01-19 09:23:54,132 - app - INFO - Request: GET /api/v1/users/me - Status: 200 - Duration: 165.85ms
2026-01-19 09:23:54,132 - uvicorn.access - INFO - 127.0.0.1:53412 - "GET /api/v1/users/me HTTP/1.1" 200
2026-01-19 09:23:54,459 - app - INFO - Request: GET /api/v1/users/me - Status: 200 - Duration: 250.30ms
2026-01-19 09:23:54,460 - uvicorn.access - INFO - 127.0.0.1:53424 - "GET /api/v1/users/me HTTP/1.1" 200
2026-01-19 09:23:54,485 - app - INFO - Request: GET /api/v1/prop-firm - Status: 200 - Duration: 228.38ms
2026-01-19 09:23:54,485 - uvicorn.access - INFO - 127.0.0.1:53436 - "GET /api/v1/prop-firm HTTP/1.1" 200
2026-01-19 09:23:54,680 - app - INFO - Request: GET /api/v1/prop-firm - Status: 200 - Duration: 120.79ms
2026-01-19 09:23:54,692 - uvicorn.access - INFO - 127.0.0.1:53448 - "GET /api/v1/prop-firm HTTP/1.1" 200
2026-01-19 09:24:04,699 - app - INFO - Request: GET /api/v1/users/me - Status: 200 - Duration: 39.14ms
2026-01-19 09:24:04,700 - uvicorn.access - INFO - 127.0.0.1:41232 - "GET /api/v1/users/me HTTP/1.1" 200
2026-01-19 09:24:04,801 - app - INFO - Request: GET /api/v1/users/me - Status: 200 - Duration: 72.16ms
2026-01-19 09:24:04,803 - uvicorn.access - INFO - 127.0.0.1:41238 - "GET /api/v1/users/me HTTP/1.1" 200
2026-01-19 09:24:04,849 - app - INFO - Request: GET /api/v1/support/tickets - Status: 200 - Duration: 90.95ms
2026-01-19 09:24:04,851 - uvicorn.access - INFO - 127.0.0.1:41242 - "GET /api/v1/support/tickets HTTP/1.1" 200
2026-01-19 09:24:04,925 - app - INFO - Request: GET /api/v1/support/tickets - Status: 200 - Duration: 42.57ms
2026-01-19 09:24:04,926 - uvicorn.access - INFO - 127.0.0.1:41246 - "GET /api/v1/support/tickets HTTP/1.1" 200
2026-01-19 09:24:07,951 - app - INFO - Request: GET /api/v1/support/tickets/0efaba2b-d61d-4898-9fde-0c0e3ea36157 - Status: 200 - Duration: 24.72ms
2026-01-19 09:24:07,952 - uvicorn.access - INFO - 127.0.0.1:41256 - "GET /api/v1/support/tickets/0efaba2b-d61d-4898-9fde-0c0e3ea36157 HTTP/1.1" 200
2026-01-19 09:24:17,986 - app - INFO - Request: POST /api/v1/support/tickets/0efaba2b-d61d-4898-9fde-0c0e3ea36157/messages - Status: 200 - Duration: 135.17ms
2026-01-19 09:24:17,989 - uvicorn.access - INFO - 127.0.0.1:38884 - "POST /api/v1/support/tickets/0efaba2b-d61d-4898-9fde-0c0e3ea36157/messages HTTP/1.1" 200
2026-01-19 09:26:46,103 - uvicorn.error - INFO - Shutting down
2026-01-19 09:26:46,207 - uvicorn.error - INFO - Waiting for application shutdown.
2026-01-19 09:26:46,208 - app - INFO - Shutting down application...
2026-01-19 09:26:46,209 - uvicorn.error - INFO - Application shutdown complete.
2026-01-19 09:26:46,209 - uvicorn.error - INFO - Finished server process [356328]
